(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{FDYh:function(e,t,n){"use strict";n.r(t),n.d(t,"MY_YEAR_FORMATS",function(){return at}),n.d(t,"MY_MONTH_FORMATS",function(){return ot}),n.d(t,"OjtPlanModule",function(){return rt});var i=n("ofXK"),l=n("tyNb"),a=n("Sh6i"),o=n("PSD3"),r=n.n(o),s=n("7jS0"),c=n("3Pt+"),d=n("6K47"),p=n("Iab2"),m=n("fXoL"),h=n("1kSV"),g=n("9O41"),u=n("Dh3D"),f=n("h77R"),b=n("X9RO"),S=n("wd/R"),x=n("Egam"),v=n("qFsG"),P=n("iadO"),L=n("kmnG"),C=n("d3UM"),D=n("FKr1");function I(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"th",48),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.getCombinedHeader()," ")}}function E(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"th",49),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",t.getHeadingWithLevel(e.field,e.heading)," ")}}function k(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,I,2,1,"th",46),m["\u0275\u0275template"](2,E,2,1,"th",47),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","empName"==e.field),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","empName"!=e.field&&"empId"!==e.field)}}function y(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"mat-option",58),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"](2).$implicit,i=m["\u0275\u0275nextContext"]().$implicit,l=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("value",e.id)("ngStyle",l.getOptionBackgroundColor(i[n.field],e.id)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](e.name)}}function O(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"span",59),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"](2).$implicit,n=m["\u0275\u0275nextContext"]().$implicit,i=m["\u0275\u0275nextContext"]();return n[t.field].empSelectedLevel=void 0,i.resetSelectedWorkstation(n,t.field)}),m["\u0275\u0275elementEnd"]()}}function M(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementContainerStart"](1,52),m["\u0275\u0275elementStart"](2,"td",53),m["\u0275\u0275elementStart"](3,"mat-form-field",54),m["\u0275\u0275elementStart"](4,"mat-select",55),m["\u0275\u0275listener"]("ngModelChange",function(t){m["\u0275\u0275restoreView"](e);const n=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"]().$implicit[n.field].empSelectedLevel=t})("selectionChange",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().$implicit,n=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"]().onCheckboxChange(n,t.field)}),m["\u0275\u0275template"](5,y,2,3,"mat-option",56),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](6,"\xa0 "),m["\u0275\u0275template"](7,O,1,0,"span",57),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]().$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](4),m["\u0275\u0275propertyInterpolate"]("placeholder",n.getSkillValue(n.masterLevelList,t[e.field].empSelectedLevel)?n.getSkillValue(n.masterLevelList,t[e.field].empSelectedLevel).name:t[e.field].currentSkillLevel?t[e.field].currentSkillLevel:"L0"),m["\u0275\u0275property"]("ngModel",t[e.field].empSelectedLevel)("disabled",t[e.field].empSelectedLevel),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",n.masterLevelList),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",t[e.field].empSelectedLevel)}}function j(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,M,8,5,"ng-container",37),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","empId"!==e.field&&"cmpyEmpId"!==e.field&&"empName"!==e.field)}}function w(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td",50),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"td",51),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](5,j,2,1,"ng-container",36),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.cmpyEmpId),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",e.empName," "),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",n.empDetailsList.columns)}}function _(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"td",62),m["\u0275\u0275text"](1," Data Not Found "),m["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"td",63),m["\u0275\u0275element"](1,"app-loading"),m["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275template"](1,_,2,0,"td",60),m["\u0275\u0275template"](2,T,2,0,"td",61),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.listLoading),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.listLoading)}}function N(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275element"](1,"app-loading"),m["\u0275\u0275elementEnd"]())}function F(e,t){1&e&&m["\u0275\u0275element"](0,"span",68)}function R(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",69),m["\u0275\u0275text"](1," Loading..."),m["\u0275\u0275elementEnd"]())}function B(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",70),m["\u0275\u0275text"](1,"Save & Draft"),m["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",64),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"](),n=m["\u0275\u0275reference"](75);return t.submitOJTPlan("SAVE",n)}),m["\u0275\u0275template"](1,F,1,0,"span",65),m["\u0275\u0275template"](2,R,2,0,"span",66),m["\u0275\u0275template"](3,B,2,0,"span",67),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",e.submitLoader),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isSubmitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isSubmitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.isSubmitSpinner)}}function Y(e,t){1&e&&m["\u0275\u0275element"](0,"span",68)}function $(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",69),m["\u0275\u0275text"](1," Loading..."),m["\u0275\u0275elementEnd"]())}function U(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",70),m["\u0275\u0275text"](1,"Update & Draft"),m["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",64),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"](),n=m["\u0275\u0275reference"](75);return t.UpdateOJTPlan("SAVE",n)}),m["\u0275\u0275template"](1,Y,1,0,"span",65),m["\u0275\u0275template"](2,$,2,0,"span",66),m["\u0275\u0275template"](3,U,2,0,"span",67),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",e.submitLoader),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isSubmitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isSubmitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.isSubmitSpinner)}}function W(e,t){1&e&&m["\u0275\u0275element"](0,"span",68)}function H(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",69),m["\u0275\u0275text"](1," Loading..."),m["\u0275\u0275elementEnd"]())}function z(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",70),m["\u0275\u0275text"](1,"Save & Publish"),m["\u0275\u0275elementEnd"]())}function q(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",71),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"](),n=m["\u0275\u0275reference"](75);return t.submitOJTPlan("PUBLISH",n)}),m["\u0275\u0275template"](1,W,1,0,"span",65),m["\u0275\u0275template"](2,H,2,0,"span",66),m["\u0275\u0275template"](3,z,2,0,"span",67),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",e.submitLoader),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isSubmitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isSubmitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.isSubmitSpinner)}}function G(e,t){1&e&&m["\u0275\u0275element"](0,"span",68)}function Q(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",69),m["\u0275\u0275text"](1," Loading..."),m["\u0275\u0275elementEnd"]())}function K(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",70),m["\u0275\u0275text"](1,"Update & Publish"),m["\u0275\u0275elementEnd"]())}function X(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",71),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"](),n=m["\u0275\u0275reference"](75);return t.UpdateOJTPlan("PUBLISH",n)}),m["\u0275\u0275template"](1,G,1,0,"span",65),m["\u0275\u0275template"](2,Q,2,0,"span",66),m["\u0275\u0275template"](3,K,2,0,"span",67),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",e.submitLoader),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isSubmitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isSubmitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.isSubmitSpinner)}}function Z(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td",79),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"td"),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"td"),m["\u0275\u0275text"](6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"td"),m["\u0275\u0275text"](8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"td"),m["\u0275\u0275text"](10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"td",80),m["\u0275\u0275text"](12),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.cmpyEmpId||"N/A"),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.empName||"N/A"),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.workstation||"N/A"),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.currentSkillLevelName||"L0"),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.desiredSkillLevelName||"N/A"),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.errorMessage||"N/A")}}function ee(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",1),m["\u0275\u0275elementStart"](1,"h4",2),m["\u0275\u0275text"](2," Assessment Error List \xa0"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"button",6),m["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),m["\u0275\u0275elementStart"](4,"span",72),m["\u0275\u0275text"](5,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",73),m["\u0275\u0275elementStart"](7,"div",74),m["\u0275\u0275elementStart"](8,"table",75),m["\u0275\u0275elementStart"](9,"thead"),m["\u0275\u0275elementStart"](10,"tr"),m["\u0275\u0275elementStart"](11,"th",76),m["\u0275\u0275text"](12," Employee ID "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"th",77),m["\u0275\u0275text"](14,"Employee Name"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"th",77),m["\u0275\u0275text"](16,"Workstation"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"th",77),m["\u0275\u0275text"](18,"Current Skill Level"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"th",77),m["\u0275\u0275text"](20,"Desired Skill Level"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"th",78),m["\u0275\u0275text"](22,"Error Message"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](23,"tbody"),m["\u0275\u0275template"](24,Z,13,6,"tr",36),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](24),m["\u0275\u0275property"]("ngForOf",e.errorList)}}const te=function(e,t){return{"fa-search":e,"fa-times-circle":t}};let ne=(()=>{class e{constructor(e,t,n,i,l,a){this.modalService=e,this.apiService=t,this.datepipe=n,this.fb=i,this.alertService=l,this.userDet={},this.ojtPlanData={},this.submitLoader=!1,this.submitSpinner=!1,this.branchAccessList=[],this.ojtPlan={},this.deptList=[],this.cellList=[],this.filterFlag=!1,this.SingleDropdownSettings={},this.SingleDropdownSettingsOjtPlan={},this.date=new c.f(S()),this.maxDate=S(),this.masterLevelList=[],this.empDetailsList={},this.filteredEmpData={},this.searchDet={},this.worksatationData=[],this.selectedEntries=[],this.userTypeList=[],this.isSubmitSpinner=!1,this.ojtPlanDetails={},this.planDetails={},this.selectedWorkstation={},this.constant={},this.errorList=[],this.constant=a}ngOnInit(){this.userDet=JSON.parse(localStorage.getItem("userDet")),console.log(this.userDet);const e=new Date;this.minDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.SingleDropdownSettingsOjtPlan={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!1,closeDropDownOnSelection:!0},this.getOjtPlanDetails(),this.getMasterSkillLevelList()}getOjtPlanDetails(){if(this.ojtPlanData=JSON.parse(localStorage.getItem("ojtPlanDetails")),console.log(this.ojtPlanData),this.ojtPlanData.isEditable&&this.ojtPlanData.planId>0){this.ojtPlan.branch=[{id:this.ojtPlanData.branchId,name:this.ojtPlanData.branch}];var e=S(this.ojtPlanData.createdDate,"YYYY-MM-DDTHH:mm:ss.SSSZ");this.ojtPlan.ojtPlanDate=e.format("YYYY-MM-DD HH:mm:ss"),console.log(this.ojtPlan.ojtPlanDate),this.getPlanDetailsById(this.ojtPlanData.planId)}else this.getBranchAccessList()}getPlanDetailsById(e){this.apiService.getOJTPlanDetails("apis/sm/getOJTPlanDetails/"+e).subscribe(e=>{if(console.log(e),e.result&&e.ojtPlan){if(this.planDetails=e.ojtPlan,null!=this.planDetails.ojtRegiList&&this.planDetails.ojtRegiList.length>0)for(let e=0;e<this.planDetails.ojtRegiList.length;e++)this.selectedEntries.push({ojtRegisId:this.planDetails.ojtRegiList[e].ojtRegiId,empId:this.planDetails.ojtRegiList[e].oeEmpId,desiredSkillLevelId:this.planDetails.ojtRegiList[e].desiredSkillLvlId,workstationId:this.planDetails.ojtRegiList[e].workstationId,action:"UPDATE"});null!=this.planDetails.ojtRegiList&&(this.ojtPlan.trainer=[{id:this.planDetails.ojtRegiList[0].trainerEmpId,name:this.planDetails.ojtRegiList[0].trainerName}],this.ojtPlan.cell=[{id:this.planDetails.ojtRegiList[0].lineId,name:this.planDetails.ojtRegiList[0].lineName}],this.ojtPlan.cell[0].deptId=this.planDetails.deptId,this.ojtPlan.dept=[{id:this.planDetails.ojtRegiList[0].deptId,name:this.planDetails.ojtRegiList[0].deptName}]),console.log(this.ojtPlan.trainer),new i.DatePipe("en-US"),this.ojtPlan.ojtPlanDate=new Date(S(this.planDetails.startDate).format("YYYY,MM,DD")),console.log(this.ojtPlan.ojtPlanDate),this.getWorkstationList(),this.getUserTypeList(),this.getSkillMatrixEmpList()}})}getBranchAccessList(){this.apiService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(e=>{e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?(this.branchAccessList=this.setArray(e.branchAccessList,"branchId","branchName"),console.log(this.branchAccessList),this.branchAccessList=this.sortFunction(this.branchAccessList,"name"),this.ojtPlan.branchId=[this.branchAccessList[0]],console.log(this.ojtPlan.branch)):this.branchAccessList=[{id:this.userDet.branch.branchId,name:this.userDet.branch.name}],console.log(this.ojtPlan.branch)})}onChangeBranch(e){this.ojtPlan.branchId=e.branchId,console.log(e),this.selectedEntries=[],this.cellList=[],this.ojtPlan.cell=[],this.getDeptList(e)}getLineList(){console.log(this.ojtPlan.dept),null!=this.ojtPlan.dept&&this.apiService.getCellList("apis/sm/getCellList",{branchId:this.ojtPlan.branch[0].id,deptId:this.ojtPlan.dept[0].id}).subscribe(e=>{e.result&&(null!=e.dataList&&e.dataList.length>0?(this.cellList=this.setArray(e.dataList,"lineId","lineName"),console.log(this.cellList),null!=this.cellList&&this.cellList.length>0&&(this.cellList=this.sortFunction(this.cellList,"lineName"),this.getWorkstationList(),this.getUserTypeList(),this.getSkillMatrixEmpList())):this.cellList=[])})}getDeptList(e){this.apiService.getdepartmentlistbybranchid("getdepartmentlistbybranchid/"+e.id).subscribe(e=>{e.result?null!=e.deptList&&e.deptList.length>0&&(this.deptList=this.setArray(e.deptList,"deptId","deptName"),this.searchDet.deptList=this.setArray(e.deptList,"deptId","deptName"),console.log(e),null!=this.deptList&&this.deptList.length>0&&(console.log(this.deptList[0]),console.log(this.ojtPlan.dept),this.getLineList(),this.getWorkstationList(),this.getSkillMatrixEmpList())):this.deptList=[]})}onChangeDept(e){e?(console.log(e),this.selectedEntries=[],this.cellList=[],this.ojtPlan.cell=[],this.empDetailsList=[],this.getLineList()):(this.cellList=[],this.selectedEntries=[])}onChangeLine(e){console.log(e),this.selectedEntries=[],this.getWorkstationList(),this.getUserTypeList(),this.getSkillMatrixEmpList()}getWorkstationList(){if(null!=this.ojtPlan.branch&&null!=this.ojtPlan.dept&&null!=this.ojtPlan.cell){let e;e=this.ojtPlanData.isEditable?this.ojtPlan.cell[0].deptId:this.ojtPlan.dept[0].id;let t={orgId:this.userDet.organization.orgId,branchId:this.ojtPlan.branch[0].id,deptId:e,lineIds:[parseInt(this.ojtPlan.cell[0].id)]};console.log(t),this.apiService.getWorkstationList("apis/sm/getWorkstationList",t).subscribe(e=>{console.log(e),this.worksatationData=e.result?e.dataList:[]})}}getSkillMatrixEmpList(){if(null!=this.ojtPlan.branch&&null!=this.ojtPlan.cell){let e;if(this.ojtPlanData.isEditable)e=this.ojtPlan.cell[0].deptId;else for(let n=0;n<this.cellList.length;n++)this.ojtPlan.cell[0].id==this.cellList[n].lineId&&(e=this.cellList[n].deptId);let t={branchId:this.ojtPlan.branch[0].id,deptId:e};null!=this.ojtPlan.cell&&this.ojtPlan.cell.length>0&&(t.lineId=parseInt(this.ojtPlan.cell[0].id)),this.searchDet.searchData&&this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),this.submitSpinner=!0,this.apiService.getSkillMatrixEmpList("apis/sm/getSkillMatrixEmpList",t).subscribe(e=>{if(e.result&&(this.submitSpinner=!1,e.data)){if(this.empDetailsList=e.data,this.columns=this.empDetailsList.columns,this.filteredEmpData=this.empDetailsList.tableData,null!=this.empDetailsList.tableData&&this.empDetailsList.tableData.length>0){for(let e=0;e<this.empDetailsList.tableData.length;e++)if(null!=this.planDetails.ojtRegiList&&this.planDetails.ojtRegiList.length>0)for(let t=0;t<this.planDetails.ojtRegiList.length;t++)if(this.planDetails.ojtRegiList[t].oeEmpId==this.empDetailsList.tableData[e].empId){let n=this.empDetailsList.tableData[e];for(const e in n)n.hasOwnProperty(e)&&this.planDetails.ojtRegiList[t].workstation==e&&(n[this.planDetails.ojtRegiList[t].workstation].empSelectedLevel=this.planDetails.ojtRegiList[t].desiredSkillLvlId);this.empDetailsList.tableData[e]=n}for(let e=this.empDetailsList.tableData.length-1;e>=0;e--)if("Y"===this.empDetailsList.tableData[e].oJTPending&&this.ojtPlanData.isEditable&&null!=this.planDetails.ojtRegiList)for(let t=0;t<this.planDetails.ojtRegiList.length;t++)this.planDetails.ojtRegiList[t].oeEmpId!=this.empDetailsList.tableData[e].empId&&this.empDetailsList.tableData.splice(e,1)}for(let e=this.empDetailsList.tableData.length-1;e>=0;e--)"Y"!==this.empDetailsList.tableData[e].oJTPending||this.ojtPlanData.isEditable||this.empDetailsList.tableData.splice(e,1);if(null!=this.empDetailsList.tableData&&this.empDetailsList.tableData.length>0)for(let e=0;e<this.empDetailsList.tableData.length;e++)this.empDetailsList.tableData[e].isSelected=!1;console.log(this.empDetailsList)}})}}getHeadingWithLevel(e,t){const n=this.worksatationData.find(t=>t.workstation===e);return n?`${t} (${n.levelName})`:t}isObjectEmpty(e){return 0==Object.keys(e).length}isChecked(e,t){this.isSelected(e,t);for(let n in e)if(t==n){if(!e[n].hasOwnProperty("currentSkillLevel")||!e[n].hasOwnProperty("currentSkillLevelId"))return 1==e[n].requireSkillLevelId?{status:this.constant.ELIGIBLE,level:e[n].requireSkillLevel}:{status:this.constant.NOT_ELIGIBLE,level:e[n].requireSkillLevel};if(e[n].currentSkillLevelId==e[n].requireSkillLevelId)return{status:this.constant.EQUAL,level:e[n].currentSkillLevel};if(e[n].currentSkillLevelId>e[n].requireSkillLevelId)return{status:this.constant.EQUAL,level:e[n].currentSkillLevel};if(e[n].currentSkillLevelId+1==e[n].requireSkillLevelId)return{status:this.constant.ELIGIBLE,level:e[n].currentSkillLevel};if(e[n].requireSkillLevelId>e[n].currentSkillLevelId+1)return{status:this.constant.NOT_ELIGIBLE,level:e[n].currentSkillLevel}}return{}}toggleCheckBox(e,t){return!!(Array.isArray(e.workstationList)&&e.workstationList.length>0)&&e.workstationList.some(e=>e.workstationId===t)}onCheckboxChange(e,t){if(this.ojtPlanData.isEditable){if(this.worksatationData.find(e=>e.workstation===t)){if(e[t].currentSkillLevelId>=parseInt(e[t].empSelectedLevel))return this.alertService.error("Upgrade level must be greater than the current skill level."),void(e[t].empSelectedLevel="");this.isSelectedField(e.empId,t),this.isAlreadyExist(e,t),this.deselectCheckbox(e,t),this.selectUpdatedCheckbox(e,t)}}else if(this.worksatationData.find(e=>e.workstation===t)){const n=this.isSelectedField(e.empId,t);if(e[t].currentSkillLevelId>=parseInt(e[t].empSelectedLevel))return this.alertService.error("Upgrade level must be greater than the current skill level."),void(e[t].empSelectedLevel="");n?this.deselectCheckbox(e,t):this.selectCheckbox(e,t)}}isSelectedField(e,t){return this.selectedWorkstation[e]===t}isAlreadyExist(e,t){if(this.ojtPlanData.isEditable){for(let t=0;t<this.planDetails.ojtRegiList.length;t++)if(this.planDetails.ojtRegiList[t].oeEmpId===e.empId)return!0;return!1}}getSkillValue(e,t){var n=void 0;if(null!=e&&e.length>0)for(let i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n}resetSelectedWorkstation(e,t){if("object"==typeof e&&!Array.isArray(e))for(const i in e)e.hasOwnProperty(i)&&i!==t&&"object"==typeof e[i]&&e[i].hasOwnProperty("empSelectedLevel")&&delete e[i].empSelectedLevel;const n=this.selectedEntries.findIndex(t=>t.empId===e.empId);-1!==n&&this.selectedEntries.splice(n,1),this.selectedWorkstation[e.empId]=void 0,console.log(this.selectedEntries)}deselectCheckbox(e,t){if("object"==typeof e&&!Array.isArray(e))for(const i in e)e.hasOwnProperty(i)&&i!==t&&"object"==typeof e[i]&&e[i].hasOwnProperty("empSelectedLevel")&&delete e[i].empSelectedLevel;const n=this.selectedEntries.findIndex(t=>t.empId===e.empId);-1!==n&&this.selectedEntries.splice(n,1),this.selectedWorkstation[e]=void 0,console.log(this.selectedEntries)}selectCheckbox(e,t){const n=e.empId,i=this.worksatationData.find(e=>e.workstation===t);""!=e[t].empSelectedLevel&&null!=e[t].empSelectedLevel&&0!=e[t].empSelectedLevel&&i&&(this.selectedEntries.push({empId:n,currentSkillLevelId:e.empLevelId,desiredSkillLevelId:parseInt(e[t].empSelectedLevel),workstationId:i.id,action:"ADD"}),this.selectedWorkstation[n]&&this.deselectCheckbox(e,t),this.selectedWorkstation[n]=t,console.log(this.selectedEntries))}selectUpdatedCheckbox(e,t){if(console.log(e),console.log(t),""==e[t].empSelectedLevel||null==e[t].empSelectedLevel||0==e[t].empSelectedLevel)return;const n=this.worksatationData.find(e=>e.workstation===t),i=e.empId,l=this.selectedEntries.findIndex(e=>e.empId===i),a=this.selectedEntries.findIndex(e=>e.workstationId===n.id);-1!==l&&this.selectedEntries.splice(l,1),-1!==a&&this.selectedEntries.splice(a,1);const o=this.planDetails.ojtRegiList.find(e=>e.oeEmpId===i);let r,s,c;for(let d=0;d<this.planDetails.ojtRegiList.length;d++)this.planDetails.ojtRegiList[d].oeEmpId==i&&(r=this.planDetails.ojtRegiList[d].ojtRegiId,s=this.planDetails.ojtRegiList[d].workstation,this.selectedWorkstation[i]=s,c=this.planDetails.ojtRegiList[d].workstation===t,null!=r&&(o&&(this.selectedWorkstation[i]=t),this.selectedEntries.push({ojtRegisId:r,empId:i,desiredSkillLevelId:parseInt(e[t].empSelectedLevel),workstationId:n.id,action:"UPDATE"}),this.selectedWorkstation[i]=t));null!=r&&""!=r||(this.selectedEntries.push({empId:i,desiredSkillLevelId:parseInt(e[t].empSelectedLevel),workstationId:n.id,action:"ADD",updatedBy:this.userDet.empId,createdBy:this.userDet.empId}),this.selectedWorkstation[i]=t),console.log(this.selectedEntries)}onOjtPlanDateSelected(e){this.ojtPlan.ojtPlanDate=e.value}getUserTypeList(){if(null!=this.ojtPlan.branch&&null!=this.ojtPlan.cell){let e;if(this.ojtPlanData.isEditable)e=this.ojtPlan.cell[0].deptId;else for(let n=0;n<this.cellList.length;n++)this.ojtPlan.cell[0].id==this.cellList[n].lineId&&(e=this.cellList[n].deptId);let t={};t={orgId:this.userDet.organization.orgId,branchId:this.ojtPlan.branch[0].id,deptId:e},null!=this.ojtPlan.cell&&this.ojtPlan.cell.length>0&&(t.lineIds=[parseInt(this.ojtPlan.cell[0].id)]),this.apiService.getUserTypeList("apis/sm/getUserTypeList",t).subscribe(e=>{if(e.result)if(null!=e.dataList&&e.dataList.length>0){let t=[];for(let n=0;n<e.dataList.length;n++)"TRAINER"==e.dataList[n].userType&&t.push(e.dataList[n]);this.userTypeList=this.setArray(t,"empId","empName"),console.log(e)}else this.userTypeList=[],this.ojtPlan.trainer=[];else this.userTypeList=[],this.ojtPlan.trainer=[]})}}isSelected(e,t){if(this.ojtPlanData.isEditable)for(let n=0;n<this.planDetails.ojtRegiList.length;n++)if(this.planDetails.ojtRegiList[n].oeEmpId==e.empId&&this.planDetails.ojtRegiList[n].workstation==t){const n=document.getElementById(`checkbox${e.empId}_${t}`);n&&(n.checked=!0,e.isSelected=!0)}}submitOJTPlan(e,t){if(this.isSubmitSpinner=!0,console.log(this.ojtPlan.ojtPlanDate),null==this.ojtPlan.branch||0==this.ojtPlan.branch.length||null==this.ojtPlan.branch)return this.alertService.error("Please select Plant."),void(this.isSubmitSpinner=!1);if(null==this.ojtPlan.dept||0==this.ojtPlan.dept.length||null==this.ojtPlan.dept)return this.alertService.error("Please select Department."),void(this.isSubmitSpinner=!1);if(null==this.ojtPlan.cell||0==this.ojtPlan.cell.length||null==this.ojtPlan.cell)return this.alertService.error("Please select Cell."),void(this.isSubmitSpinner=!1);if(null==this.ojtPlan.trainer||0===this.ojtPlan.trainer.length||null==this.ojtPlan.trainer)return this.alertService.error("Please select trainer."),void(this.isSubmitSpinner=!1);if(!this.ojtPlan.ojtPlanDate)return this.alertService.error("Please select OJT plan date."),void(this.isSubmitSpinner=!1);if(null==!this.selectedEntries||0===this.selectedEntries.length)return this.alertService.error("Please select an employee for level upgrade."),void(this.isSubmitSpinner=!1);let n,i;if(this.ojtPlan.ojtPlanDate){n=this.datepipe.transform(this.ojtPlan.ojtPlanDate,"yyyy-MM-dd");const e=n.split("-");this.ojtPlan.ojtPlanMonth=e[1],this.ojtPlan.ojtPlanYear=e[0],console.log("Formatted Date:",n),console.log("Month:",this.ojtPlan.ojtPlanMonth),console.log("Year:",this.ojtPlan.ojtPlanYear)}for(let l=0;l<this.cellList.length;l++)this.ojtPlan.cell[0].id==this.cellList[l].lineId&&(i=this.cellList[l].deptId);if(console.log(e),null!=this.ojtPlan.branch&&null!=this.ojtPlan.cell&&null!=this.ojtPlan.trainer&&null!=this.ojtPlan.ojtPlanDate&&null!=this.selectedEntries&&this.selectedEntries.length>0){const l=this.ojtPlan.trainer[0].id;for(const e of this.selectedEntries)e.trainerEmpId=l;const a=this.ojtPlan.cell[0].id;for(const e of this.selectedEntries)e.lineId=a;let o={branchId:this.ojtPlan.branch[0].id,deptId:i,lineId:this.ojtPlan.cell[0].id,yearValue:this.ojtPlan.ojtPlanYear,monthValue:this.ojtPlan.ojtPlanMonth,startDate:n,status:e,updatedBy:this.userDet.empId,createdBy:this.userDet.empId,ojtRegisList:this.selectedEntries};console.log(o),this.apiService.submitOJTPlan("apis/sm/submitOJTPlan",o).subscribe(e=>{console.log(e),this.isSubmitSpinner=!1,e.result?(this.alertService.success("OJT Plan registartion completed."),this.modalService.dismissAll()):100==e.statusCode?e.errorList?e.errorList&&null!=e.errorList&&e.errorList.length>0&&(this.errorList=e.errorList,this.modalService.open(t,{windowClass:"errorListClass"})):this.alertService.error(e.reason):500==e.statusCode?(console.log("500"),this.alertService.error("Oops! Something went wrong")):this.alertService.success(e.reason)})}}UpdateOJTPlan(e,t){if(this.isSubmitSpinner=!0,console.log(this.ojtPlan.ojtPlanDate),null==this.ojtPlan.branch||0==this.ojtPlan.branch.length||null==this.ojtPlan.branch)return this.alertService.error("Please select Plant."),void(this.isSubmitSpinner=!1);if(null==this.ojtPlan.dept||0==this.ojtPlan.dept.length||null==this.ojtPlan.dept)return this.alertService.error("Please select Department."),void(this.isSubmitSpinner=!1);if(null==this.ojtPlan.cell||0==this.ojtPlan.cell.length||null==this.ojtPlan.cell)return this.alertService.error("Please select Cell."),void(this.isSubmitSpinner=!1);if(null==!this.ojtPlan.trainer||0===this.ojtPlan.trainer.length)return this.alertService.error("Please select trainer."),void(this.isSubmitSpinner=!1);if(!this.ojtPlan.ojtPlanDate)return this.alertService.error("Please select OJT plan date."),void(this.isSubmitSpinner=!1);if(null==!this.selectedEntries||0===this.selectedEntries.length)return this.alertService.error("Please select an employee for level upgrade."),void(this.isSubmitSpinner=!1);let n;if(this.ojtPlan.ojtPlanDate){n=this.datepipe.transform(this.ojtPlan.ojtPlanDate,"yyyy-MM-dd");const e=n.split("-");this.ojtPlan.ojtPlanMonth=e[1],this.ojtPlan.ojtPlanYear=e[0],console.log("Formatted Date:",n),console.log("Month:",this.ojtPlan.ojtPlanMonth),console.log("Year:",this.ojtPlan.ojtPlanYear)}if(console.log(e),null!=this.ojtPlan.branch&&null!=this.ojtPlan.cell&&null!=this.ojtPlan.ojtPlanDate&&null!=this.selectedEntries&&this.selectedEntries.length>0){const i=this.ojtPlan.trainer[0].id;for(const e of this.selectedEntries)e.trainerEmpId=i;let l={ojtPlanId:this.planDetails.ojtPlanId,yearValue:this.ojtPlan.ojtPlanYear,monthValue:this.ojtPlan.ojtPlanMonth,startDate:n,status:e,updatedBy:this.userDet.empId,action:"UPDATE",branchId:this.ojtPlan.branch[0].id,deptId:this.ojtPlan.dept[0].id,lineId:parseInt(this.ojtPlan.cell[0].id),ojtRegisList:this.selectedEntries};console.log(l),this.apiService.submitOJTPlan("apis/sm/updateOJTPlan",l).subscribe(e=>{console.log(e),this.isSubmitSpinner=!1,e.result?(this.alertService.success("OJT plan updated successfully."),this.modalService.dismissAll()):100==e.statusCode?e.errorList?e.errorList&&null!=e.errorList&&e.errorList.length>0&&(this.errorList=e.errorList,this.modalService.open(t,{windowClass:"errorListClass"})):this.alertService.error(e.reason):500==e.statusCode?(console.log("500"),this.alertService.error("Oops! Something went wrong")):this.alertService.success(e.reason)})}}setMonthAndYear(e,t){const n=this.date.value;n.month(e.month()),n.year(e.year()),this.date.setValue(n),t.close()}closeModal(){this.searchDet.selectedRegiType="",this.modalService.dismissAll()}onChange(e,t){e?"plant"==t&&this.getDeptList(this.ojtPlan.branch[0]):"plant"==t&&(this.ojtPlan.departmentList=[],this.resetFormField(this.addOJTPlan,"deptIds"))}resetFormField(e,t){Object.keys(e.controls).forEach(n=>{""!=t&&n==t?(e.get(t).reset(),e.get(t).markAsPristine(),e.get(t).markAsUntouched()):(e.get(n).reset(),e.get(n).markAsPristine(),e.get(n).markAsUntouched())})}setArray(e,t,n){let i=[];if(null!=e&&e.length>0)for(const l of e)l.id=l[t],l.name=l[n],i.push(l);return i}getIDsArray(e){let t=[];if(null!=e&&e.length>0)for(const n of e)t.push(n.id);return t}getCombinedHeader(){return` ${this.empDetailsList.columns.find(e=>"empName"===e.field).heading}`}shouldShowCheckbox(e){return"fieldName1"===e||"fieldName2"===e}getSearchList(e){if(this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),null!=this.searchDet.searchInput)for(let t=0;t<this.empDetailsList.tableData.length;t++)this.empDetailsList.tableData[t].cmpyEmpId==this.searchDet.searchInput&&this.empDetailsList.tableData[t].empName==this.searchDet.searchInput||this.empDetailsList.tableData.splice(t,1)}clearSearch(e){this.searchDet.searchData=!1,this.searchDet.searchInput="",this.getSkillMatrixEmpList()}getSortFunction(e,t){return e&&Array.isArray(e)&&e.length>0&&("plant"!==t&&"dept"!==t&&"cell"!==t||e.sort(function(e,t){var n=e.name?e.name.toUpperCase():"",i=t.name?t.name.toUpperCase():"";return n<i?-1:n>i?1:0})),e}sortFunction(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var i=Number(e[t])?e[t]:e[t].toUpperCase(),l=Number(n[t])?n[t]:n[t].toUpperCase();return i<l?-1:i>l?1:0}),e}getMasterSkillLevelList(){this.apiService.getMasterLevelList("apis/sm/getLevelList").subscribe(e=>{if(e.result)if(null!=e.dataList&&e.dataList.length>0){const t=[];for(let n=0;n<e.dataList.length;n++)4!==e.dataList[n].id&&t.push(e.dataList[n]);this.masterLevelList=this.setArray(t,"id","levelName"),console.log(this.masterLevelList)}else this.masterLevelList=[];else this.masterLevelList=[]})}isCurrentLevelCheck(e,t){this.isSelected(e,t);for(let n in e)if(t==n){if(null==e[n].currentSkillLevelId||0==e[n].currentSkillLevelId)return"L0";if(1==e[n].currentSkillLevelId)return e[n].currentSkillLevel;if(2==e[n].currentSkillLevelId)return e[n].currentSkillLevel;if(2==e[n].currentSkillLevelId)return e[n].currentSkillLevel;if(4==e[n].currentSkillLevelId)return e[n].currentSkillLevel}}getOptionBackgroundColor(e,t){return null!=e.currentSkillLevelId&&null!=e.currentSkillLevelId||(e.currentSkillLevelId=0),e.currentSkillLevelId==t||e.currentSkillLevelId>t?{"background-color":"green"}:t>e.currentSkillLevelId+1?{"background-color":"red"}:{"background-color":"#d9d9d9"}}filterList(){const e=this.searchInput.trim().toLowerCase();this.filteredEmpData=this.empDetailsList.tableData.filter(t=>Object.values(t).some(t=>t.toString().toLowerCase().includes(e))),console.log(this.filteredEmpData)}clearModalSearch(){this.searchInput="",this.filteredEmpData=[...this.empDetailsList.tableData]}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](h.j),m["\u0275\u0275directiveInject"](a.a),m["\u0275\u0275directiveInject"](i.DatePipe),m["\u0275\u0275directiveInject"](c.e),m["\u0275\u0275directiveInject"](s.b),m["\u0275\u0275directiveInject"]("Constant"))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-ojt-plan"]],features:[m["\u0275\u0275ProvidersFeature"]([h.j,i.DatePipe])],decls:76,vars:37,consts:[[1,"modal-content"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],[1,"form-group","has-search",2,"margin-top","5px","max-width","220px"],[1,"fa","form-control-feedback",3,"ngClass","click"],["type","text","name","searchInput","placeholder","Search by Emp Id, Name","autocomplete","off",1,"form-control",2,"border","1px solid #7044cd","background-color","transparent","border-radius","12px","min-width","218px",3,"ngModel","ngModelChange","input"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"padding","0px"],[1,"row","m-0","padding-tb"],[1,"col-md-12","p-l-5","p-r-5"],[1,"row","m-0",2,"align-items","center"],[1,"col-3","insideLabel","p-l-5","p-r-5"],["for","branch",1,"col-form-label","p-0"],[1,"astrik"],[1,""],["name","branch",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","onSelect","onDeSelect","ngModelChange"],["for","dept",1,"col-form-label","p-0"],["name","dept",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","onSelect","onDeSelect","ngModelChange"],[1,"col-2","insideLabel","p-l-5","p-r-5"],["for","cell",1,"col-form-label","p-0"],["name","cell",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","onSelect","ngModelChange"],["for","trainer",1,"col-form-label","p-0"],["name","trainer",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","ngModelChange"],[1,"col-2","form-group","text-center","p-l-5","p-r-5"],["for","ojtPlanDatePicker",1,"col-form-dt-label"],[1,"custom-Input-Group",3,"click"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"feather","icon-calendar"],["matInput","","name","dob","id","ojtPlanDatePicker","placeholder","Select Month Year",1,"form-control","datePickInput",3,"matDatepicker","ngModel","min","ngModelChange","keydown","dateChange"],["input","ngModel"],["ojtPlanDatePicker",""],[1,"table-block","skill-table"],[1,"table-responsive","tableFixHead"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"modal-footer"],[1,"row"],[1,"col-sm-12","footer-buttons",2,"display","inline-flex"],["style","margin-right: 10px;","type","submit","class","btn submitBtn m-l-5","aria-label","Submit",3,"disabled","click",4,"ngIf"],["type","submit","class","btn submitBtn m-l-5","aria-label","Submit",3,"disabled","click",4,"ngIf"],["type","button","aria-label","Close",1,"btn","cancelBtn","m-l-5",3,"disabled","click"],["style","max-width: calc(100% - 30%) !important;"],["errorListModal",""],["class","fixedColumn empNameCol",4,"ngIf"],["style","text-align: center;z-index:4px;",4,"ngIf"],[1,"fixedColumn","empNameCol"],[2,"text-align","center","z-index","4px"],[1,"actionTd","fixedColumn",2,"vertical-align","middle"],[1,"actionTd","fixedColumn",2,"text-align","left","vertical-align","middle"],[1,"level-selection"],[2,"text-align","center"],[1,"customMatSelect"],[3,"ngModel","placeholder","disabled","ngModelChange","selectionChange"],[3,"value","ngStyle",4,"ngFor","ngForOf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],[3,"value","ngStyle"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],["colspan","11","class","text-center no-record-found",4,"ngIf"],["colspan","11","class","text-center loading-div",4,"ngIf"],["colspan","11",1,"text-center","no-record-found"],["colspan","11",1,"text-center","loading-div"],["type","submit","aria-label","Submit",1,"btn","submitBtn","m-l-5",2,"margin-right","10px",3,"disabled","click"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"],["type","submit","aria-label","Submit",1,"btn","submitBtn","m-l-5",3,"disabled","click"],["aria-hidden","true",1,"close-icon"],[1,"modal-body",2,"padding","0"],[1,"tableFixHead"],[1,"table","table-bordered","table-md",2,"font-family","Helvetica Neue"],["scope","col",1,"fixedColumn"],["scope","col"],[1,"fixedColumn"],["scope","row",1,"fixedColumn"],[1,"fixedColumn",2,"color","red"]],template:function(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"h4",2),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"div",3),m["\u0275\u0275elementStart"](5,"span",4),m["\u0275\u0275listener"]("click",function(){return t.clearModalSearch()}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"input",5),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchInput=e})("input",function(){return t.filterList()}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"button",6),m["\u0275\u0275listener"]("click",function(){return t.closeModal()}),m["\u0275\u0275elementStart"](8,"span",7),m["\u0275\u0275text"](9,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"div",8),m["\u0275\u0275elementStart"](11,"div",9),m["\u0275\u0275elementStart"](12,"div",10),m["\u0275\u0275elementStart"](13,"div",11),m["\u0275\u0275elementStart"](14,"div",12),m["\u0275\u0275elementStart"](15,"label",13),m["\u0275\u0275text"](16,"Plant\xa0"),m["\u0275\u0275elementStart"](17,"span",14),m["\u0275\u0275text"](18,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"div",15),m["\u0275\u0275elementStart"](20,"ng-multiselect-dropdown",16),m["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeBranch(e),t.ojtPlan.dept=""})("onDeSelect",function(){return t.onChange(!1,"plant")})("ngModelChange",function(e){return t.ojtPlan.branch=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"div",12),m["\u0275\u0275elementStart"](22,"label",17),m["\u0275\u0275text"](23,"Department\xa0"),m["\u0275\u0275elementStart"](24,"span",14),m["\u0275\u0275text"](25,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"div",15),m["\u0275\u0275elementStart"](27,"ng-multiselect-dropdown",18),m["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeDept(e)})("onDeSelect",function(){return t.onChangeDept(!1)})("ngModelChange",function(e){return t.ojtPlan.dept=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](28,"div",19),m["\u0275\u0275elementStart"](29,"label",20),m["\u0275\u0275text"](30,"Cell/Line\xa0"),m["\u0275\u0275elementStart"](31,"span",14),m["\u0275\u0275text"](32,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](33,"div",15),m["\u0275\u0275elementStart"](34,"ng-multiselect-dropdown",21),m["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeLine(e)})("ngModelChange",function(e){return t.ojtPlan.cell=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](35,"div",19),m["\u0275\u0275elementStart"](36,"label",22),m["\u0275\u0275text"](37,"Trainer\xa0"),m["\u0275\u0275elementStart"](38,"span",14),m["\u0275\u0275text"](39,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](40,"div",15),m["\u0275\u0275elementStart"](41,"ng-multiselect-dropdown",23),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.ojtPlan.trainer=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](42,"div",24),m["\u0275\u0275elementStart"](43,"label",25),m["\u0275\u0275text"](44,"Start Date\xa0"),m["\u0275\u0275elementStart"](45,"span",14),m["\u0275\u0275text"](46,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](47,"div",26),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275reference"](54).open()}),m["\u0275\u0275elementStart"](48,"div",27),m["\u0275\u0275elementStart"](49,"div",28),m["\u0275\u0275element"](50,"i",29),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](51,"input",30,31),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.ojtPlan.ojtPlanDate=e})("keydown",function(){return!1})("dateChange",function(e){return t.onOjtPlanDateSelected(e)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](53,"mat-datepicker",null,32),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](55,"div",33),m["\u0275\u0275elementStart"](56,"div",34),m["\u0275\u0275elementStart"](57,"table",35),m["\u0275\u0275elementStart"](58,"thead"),m["\u0275\u0275elementStart"](59,"tr"),m["\u0275\u0275template"](60,k,3,2,"ng-container",36),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](61,"tbody"),m["\u0275\u0275template"](62,w,6,3,"tr",36),m["\u0275\u0275template"](63,A,3,2,"tr",37),m["\u0275\u0275template"](64,N,2,0,"tr",37),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](65,"div",38),m["\u0275\u0275elementStart"](66,"div",39),m["\u0275\u0275elementStart"](67,"div",40),m["\u0275\u0275template"](68,J,4,4,"button",41),m["\u0275\u0275template"](69,V,4,4,"button",41),m["\u0275\u0275template"](70,q,4,4,"button",42),m["\u0275\u0275template"](71,X,4,4,"button",42),m["\u0275\u0275elementStart"](72,"button",43),m["\u0275\u0275listener"]("click",function(){return t.closeModal()}),m["\u0275\u0275text"](73,"Cancel "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](74,ee,25,1,"ng-template",44,45,m["\u0275\u0275templateRefExtractor"])}if(2&e){const e=m["\u0275\u0275reference"](54);m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](t.ojtPlanData.title),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction2"](34,te,!t.searchInput,t.searchInput)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngModel",t.searchInput),m["\u0275\u0275advance"](14),m["\u0275\u0275property"]("placeholder","Select Plant")("settings",t.SingleDropdownSettings)("data",t.getSortFunction(t.branchAccessList,"plant"))("ngModel",t.ojtPlan.branch)("disabled",t.ojtPlanData.isEditable&&t.ojtPlanData.planId>0),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("placeholder","Select Department")("settings",t.SingleDropdownSettings)("data",t.getSortFunction(t.deptList,"dept"))("ngModel",t.ojtPlan.dept)("disabled",t.ojtPlanData.isEditable&&t.ojtPlanData.planId>0),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("placeholder","Select Cell")("settings",t.SingleDropdownSettings)("data",t.getSortFunction(t.cellList,"cell"))("ngModel",t.ojtPlan.cell)("disabled",t.ojtPlanData.isEditable&&t.ojtPlanData.planId>0),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("placeholder","Select Trainer")("settings",t.SingleDropdownSettings)("data",t.getSortFunction(t.userTypeList,"Trainer"))("ngModel",t.ojtPlan.trainer),m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("matDatepicker",e)("ngModel",t.ojtPlan.ojtPlanDate)("min",t.minDate),m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("ngForOf",t.empDetailsList.columns),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",t.filteredEmpData),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",null==t.filteredEmpData||0==t.filteredEmpData.length),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.submitSpinner),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngIf",!t.ojtPlanData.isEditable),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.ojtPlanData.isEditable),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.ojtPlanData.isEditable),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.ojtPlanData.isEditable),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("disabled",t.submitLoader)}},directives:[i.NgClass,c.c,c.o,c.r,x.a,v.b,P.b,P.a,i.NgForOf,i.NgIf,L.b,C.a,D.k,i.NgStyle,b.a],styles:['@charset "UTF-8";.headerBar[_ngcontent-%COMP%]{display:inline-flex;width:100%}.headerBar[_ngcontent-%COMP%]   .backArrow[_ngcontent-%COMP%]{margin:auto;display:inline-block;padding-left:1rem}.headerBar[_ngcontent-%COMP%]   .backArrow[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%]{color:#7044cd;vertical-align:bottom;font-size:2em;cursor:pointer}.insideLabel[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:0;font:normal normal 700 12px/1.5 Helvetica Neue;left:1.5rem;color:#7044cd}.padding-tb[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:8px}.example-month-picker[_ngcontent-%COMP%]   .mat-calendar-period-button[_ngcontent-%COMP%]{pointer-events:none}.example-month-picker[_ngcontent-%COMP%]   .mat-calendar-arrow[_ngcontent-%COMP%]{display:none}.custom-Input-Group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:transparent;cursor:pointer}.custom-Input-Group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%]{color:#7044cd}.form-group[_ngcontent-%COMP%]{margin-bottom:0!important}.form-group[_ngcontent-%COMP%]   .col-form-dt-label[_ngcontent-%COMP%]{font:normal normal 700 12px/1.5 Helvetica Neue;color:#7044cd;position:absolute;z-index:999;padding:0 5px;background:#fff;left:2em;top:-8px}.proficiencypop[_ngcontent-%COMP%]{text-align:left;font:normal normal 500 21px/28px Helvetica Neue;letter-spacing:0;color:#7044cd;opacity:1}.skill-table[_ngcontent-%COMP%]   .tableFixHead[_ngcontent-%COMP%]{border-bottom:none;max-height:calc(100vh - 25vh);min-height:calc(100vh - 25vh);height:calc(100vh - 25vh)}.skill-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#fff!important}.skill-table[_ngcontent-%COMP%]   .tdData[_ngcontent-%COMP%]   .assessment[_ngcontent-%COMP%]{padding:.5rem 0}.skill-table[_ngcontent-%COMP%]   .tdData[_ngcontent-%COMP%]   .assessment[_ngcontent-%COMP%]   .assessmentname[_ngcontent-%COMP%]{font:normal normal 500 14px/1.5 Helvetica Neue;letter-spacing:0;color:#474747;text-align:left;margin:auto}.noofProjects[_ngcontent-%COMP%]{background:#7044cd;border-radius:50px;right:2em;color:#fff;font:normal normal 500 18px/29px Helvetica Neue;text-align:center}.thbackground[_ngcontent-%COMP%]{background-color:#fff}#registerBtn[_ngcontent-%COMP%]{background-color:#7044cd;color:#fff;padding:10px 20px;border:none;cursor:pointer;position:relative}#registerBtn[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:10px}#registerBtn.up[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{content:"\uf106"}#registerBtn.down[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{content:"\uf107"}.modal-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]{margin-top:1px}.fixedColumn[_ngcontent-%COMP%]{top:0;z-index:1}.fixedColumn[_ngcontent-%COMP%], td.fixedColumn[_ngcontent-%COMP%], th.fixedColumn[_ngcontent-%COMP%]{position:sticky;left:0;background-color:#fff}td.fixedColumn[_ngcontent-%COMP%], th.fixedColumn[_ngcontent-%COMP%]{z-index:2}td.actionTd[_ngcontent-%COMP%], th.actionTh[_ngcontent-%COMP%]{min-width:150px;z-index:3}.fixedColumn[_ngcontent-%COMP%]:first-child, .fixedColumn[_ngcontent-%COMP%]:nth-child(2){left:150px;box-shadow:5px 0 5px -5px #333;background:#fff}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:4}.actionTd[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;z-index:5;min-height:36px;overflow:hidden}th.fixedColumn.empNameCol[_ngcontent-%COMP%]{left:150px;z-index:5}.extraContent[_ngcontent-%COMP%]{padding:0;bottom:5px}.empSkillLevelTd[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.empSkillLevelTd[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:#000!important;font-weight:400;text-align:center}.empSkillLevelTd[_ngcontent-%COMP%]   .checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.empSkillLevelTd[_ngcontent-%COMP%]   .checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{left:0!important;right:0!important;margin:auto;text-align:center}.empSkillLevelTd.EQUAL[_ngcontent-%COMP%]{background:#99cd3a;color:#000}.empSkillLevelTd.NOT_ELIGIBLE[_ngcontent-%COMP%]{background:#ed3833;color:#000}.tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .checkbox-block.form-check[_ngcontent-%COMP%]{margin:auto;padding:0;text-align:center}.level-selection[_ngcontent-%COMP%]   .custom-multiSelection[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{padding-top:7px!important}.custom-multiSelection[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{background-size:contain;top:2px!important;right:5px!important;width:15px!important;height:20px!important;background-position:50%}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:0!important;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:0!important;box-shadow:0 1px 5px #959595}.form-control[_ngcontent-%COMP%]{display:block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem .35rem!important;font-size:.875rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:2px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.mat-select-panel[_ngcontent-%COMP%]{min-width:112px;max-width:280px;margin-top:2rem!important;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}  .customMatSelect .mat-form-field-infix{position:relative}.form-control-clear[_ngcontent-%COMP%]{padding:6px 10px;display:inline-block;cursor:pointer}']}),e})();function ie(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"th",32),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.getCombinedHeader()," ")}}function le(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"th",33),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",t.getHeadingWithLevel(e.field,e.heading)," ")}}function ae(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,ie,2,1,"th",30),m["\u0275\u0275template"](2,le,2,1,"th",31),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","empName"===e.field),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","empLevel"!==e.field&&"empName"!==e.field&&"empId"!==e.field)}}function oe(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"td",37),m["\u0275\u0275elementStart"](2,"label",38),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2).$implicit,t=m["\u0275\u0275nextContext"]().$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngClass",n.isObjectEmpty(n.isChecked(t,e.field))?"":n.isChecked(t,e.field).status),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",n.isObjectEmpty(n.isChecked(t,e.field))?"":n.isChecked(t,e.field).level," ")}}function re(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"td",39),m["\u0275\u0275listener"]("ngClick",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"](2).$implicit;return t.isChecked=!t.isChecked}),m["\u0275\u0275elementStart"](2,"div",40),m["\u0275\u0275elementStart"](3,"input",41),m["\u0275\u0275listener"]("change",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"](2).$implicit,n=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"]().onCheckboxChange(n,t.field)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](4,"label",42),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"](2).$implicit,t=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("id","checkbox"+t.empId+"_"+e.field),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("for","checkbox"+t.empId+"_"+e.field)}}function se(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,oe,4,2,"ng-container",36),m["\u0275\u0275template"](2,re,5,2,"ng-container",36),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]().$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!n.isObjectEmpty(n.isChecked(t,e.field))&&n.isChecked(t,e.field).status!=n.constant.ELIGIBLE),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!n.isObjectEmpty(n.isChecked(t,e.field))&&n.isChecked(t,e.field).status==n.constant.ELIGIBLE)}}function ce(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,se,3,2,"ng-container",36),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","empId"!==e.field&&"cmpyEmpId"!==e.field&&"empName"!==e.field)}}function de(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td",34),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"td",35),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](5,ce,2,1,"ng-container",22),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.cmpyEmpId),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",e.empName," "),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",n.empDetailsList.columns)}}function pe(e,t){1&e&&m["\u0275\u0275element"](0,"span",43)}function me(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",44),m["\u0275\u0275text"](1," Loading..."),m["\u0275\u0275elementEnd"]())}function he(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",45),m["\u0275\u0275text"](1,"Save"),m["\u0275\u0275elementEnd"]())}let ge=(()=>{class e{constructor(e,t,n,i,l,a){this.modalConfig=e,this.modalService=t,this.apiService=n,this.fb=i,this.alertService=l,this.userDet={},this.ojtPlanData={},this.submitLoader=!1,this.branchAccessList=[],this.ojtPlan={},this.deptList=[],this.cellList=[],this.SingleBranchDropdownSettings={},this.SingleDeptDropdownSettings={},this.SingleDropdownSettings={},this.multipleDropdownSettings={},this.empDetailsList={},this.searchDet={},this.worksatationData=[],this.selectedEntries=[],this.isSubmitSpinner=!1,this.ojtPlanDetails={},this.planDetails={},this.childComponentClosed=new m.EventEmitter,this.userTypeList=[],this.selectedWorkstation={},this.constant={},this.OJTRegiData={},e.backdrop="static",e.keyboard=!1,this.constant=a}ngOnInit(){this.userDet=JSON.parse(localStorage.getItem("userDet")),console.log(this.userDet),this.OJTRegiData=JSON.parse(localStorage.getItem("OJTRegiData")),console.log(this.OJTRegiData),new Date,this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.ojtPlan.ojtPlanDate=new Date,this.getBranchAccessList()}getBranchAccessList(){this.apiService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(e=>{e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?(this.branchAccessList=this.setArray(e.branchAccessList,"branchId","branchName"),this.branchAccessList=this.getSortFunction(this.branchAccessList,"name"),this.ojtPlan.branch=[this.branchAccessList[0]]):this.branchAccessList=[{id:this.userDet.branch.branchId,name:this.userDet.branch.name}],console.log(this.ojtPlan.branch),this.getDeptList(this.ojtPlan.branch[0]),this.getLineList(this.ojtPlan.branch[0]),this.getUserTypeList()})}onChangeBranch(e){this.ojtPlan.branchId=e.branchId,console.log(e),this.getDeptList(e),this.getLineList(e),this.getUserTypeList()}getLineList(e){null!=e&&this.apiService.getCellList("apis/sm/getCellList",{branchId:this.ojtPlan.branch[0].id,deptId:this.ojtPlan.dept[0].id}).subscribe(e=>{e.result&&(null!=e.dataList&&e.dataList.length>0?(this.cellList=this.setArray(e.dataList,"lineId","lineName"),console.log(this.cellList),null!=this.cellList&&this.cellList.length>0&&(this.cellList=this.getSortFunction(this.cellList,"lineName"),this.ojtPlan.cell=[this.cellList[0]],this.getWorkstationList(),this.getSkillMatrixEmpList())):this.cellList=[])})}getDeptList(e){this.apiService.getdepartmentlistbybranchid("getdepartmentlistbybranchid/"+e.id).subscribe(e=>{e.result?null!=e.deptList&&e.deptList.length>0&&(this.deptList=this.setArray(e.deptList,"deptId","deptName"),this.searchDet.deptList=this.setArray(e.deptList,"deptId","deptName"),console.log(e),null!=this.deptList&&this.deptList.length>0&&(this.ojtPlan.dept=[this.deptList[0]],this.getLineList(this.ojtPlan.dept),this.getWorkstationList(),this.getSkillMatrixEmpList(),this.getUserTypeList())):this.deptList=[]})}isChecked(e,t){for(let n in e)if(t==n){if(this.isObjectEmpty(e)||!e[n].hasOwnProperty("currentSkillLevel")||!e[n].hasOwnProperty("currentSkillLevelId"))return 1==e[n].requireSkillLevelId?{status:this.constant.ELIGIBLE,level:"-"}:{status:this.constant.NOT_ELIGIBLE,level:"-"};if(e[n].currentSkillLevelId==e[n].requireSkillLevelId)return{status:this.constant.EQUAL,level:e[n].currentSkillLevel};if(e[n].currentSkillLevelId>e[n].requireSkillLevelId)return{status:this.constant.EQUAL,level:e[n].currentSkillLevel};if(e[n].requireSkillLevelId-e[n].currentSkillLevelId==1)return{status:this.constant.ELIGIBLE,level:e[n].currentSkillLevel};if(e[n].requireSkillLevelId-e[n].currentSkillLevelId>1)return{status:this.constant.NOT_ELIGIBLE,level:e[n].currentSkillLevel}}return{}}onChangeLine(e){console.log(e),this.getWorkstationList(),this.getSkillMatrixEmpList(),this.getUserTypeList()}getWorkstationList(){if(null!=this.ojtPlan.branch&&null!=this.ojtPlan.cell){let e;for(let n=0;n<this.cellList.length;n++)this.ojtPlan.cell[0].id==this.cellList[n].lineId&&(e=this.cellList[n].deptId);let t={orgId:this.userDet.organization.orgId,branchId:this.ojtPlan.branch[0].id,deptId:e,lineIds:[this.ojtPlan.cell[0].id]};console.log(t),this.apiService.getWorkstationList("apis/sm/getWorkstationList",t).subscribe(e=>{console.log(e),e.result?(this.worksatationData=e.dataList,console.log(this.worksatationData)):this.worksatationData=[]})}}getSkillMatrixEmpList(){if(null!=this.ojtPlan.branch&&null!=this.ojtPlan.cell){let e;for(let n=0;n<this.cellList.length;n++)this.ojtPlan.cell[0].id==this.cellList[n].lineId&&(e=this.cellList[n].deptId);let t={branchId:this.ojtPlan.branch[0].id,deptId:e};null!=this.ojtPlan.cell&&this.ojtPlan.cell.length>0&&(t.lineId=this.ojtPlan.cell[0].id),this.apiService.getSkillMatrixEmpList("apis/sm/getSkillMatrixEmpList",t).subscribe(e=>{if(e.result){this.empDetailsList=e.data,console.log(e);for(let e=this.empDetailsList.tableData.length-1;e>=0;e--)"Y"!==this.empDetailsList.tableData[e].oJTPending||this.ojtPlanData.isEditable||this.empDetailsList.tableData.splice(e,1)}})}}getUserTypeList(){if(null!=this.ojtPlan.branch&&null!=this.ojtPlan.dept){let e;e=this.ojtPlan.dept[0].deptId,this.apiService.getUserTypeList("apis/sm/getUserTypeList",{orgId:this.userDet.organization.orgId,branchId:this.ojtPlan.branch[0].id,deptIds:[e]}).subscribe(e=>{if(e.result)if(null!=e.dataList&&e.dataList.length>0){let t=[];for(let n=0;n<e.dataList.length;n++)"TRAINER"==e.dataList[n].userType&&t.push(e.dataList[n]);this.userTypeList=this.setArray(t,"empId","empName"),console.log(e)}else this.userTypeList=[],this.ojtPlan.trainer=[];else this.userTypeList=[],this.ojtPlan.trainer=[]})}}getHeadingWithLevel(e,t){const n=this.worksatationData.find(t=>t.workstation===e);return n?`${t} (${n.levelName})`:t}onCheckboxChange(e,t){if(this.worksatationData.find(e=>e.workstation===t)){const n=e.empId;this.isSelected(n,t)?this.deselectCheckbox(n,t):this.selectCheckbox(e,t)}}isSelected(e,t){return this.selectedWorkstation[e]===t}deselectCheckbox(e,t){const n=document.getElementById(`checkbox${e}_${t}`);n&&(n.checked=!1);const i=this.selectedEntries.findIndex(t=>t.empId===e);-1!==i&&this.selectedEntries.splice(i,1),this.selectedWorkstation[e]=void 0,console.log(this.selectedEntries)}selectCheckbox(e,t){const n=e.empId,i=this.worksatationData.find(e=>e.workstation===t);if(i){this.selectedEntries.push({empId:n,currentSkillLevelId:e.empLevelId,desiredSkillLevelId:i.reqSkillLevelId,workstationId:i.id});const l=this.selectedWorkstation[n];l&&this.deselectCheckbox(n,l),this.selectedWorkstation[n]=t;const a=document.getElementById(`checkbox${n}_${t}`);a&&(a.checked=!0),console.log(this.selectedEntries)}}submitOJTRegi(e){if(this.isSubmitSpinner=!0,console.log(e),null==!this.selectedEntries||0===this.selectedEntries.length)return this.alertService.error("Please select an employee for level upgrade."),void(this.isSubmitSpinner=!1);if(!this.ojtPlan.trainer)return this.alertService.error("Please select trainer."),void(this.isSubmitSpinner=!1);let t;for(let n=0;n<this.cellList.length;n++)this.ojtPlan.cell[0].id==this.cellList[n].lineId&&(t=this.cellList[n].deptId);if(null!=this.ojtPlan.branch&&null!=this.ojtPlan.cell&&null!=this.ojtPlan.trainer&&null!=this.selectedEntries&&this.selectedEntries.length>0){const e=this.ojtPlan.trainer[0].id;for(const t of this.selectedEntries)t.trainerEmpId=e;const n=this.ojtPlan.cell[0].id;for(const t of this.selectedEntries)t.lineId=n;let i={branchId:this.ojtPlan.branch[0].id,deptId:t,lineId:this.ojtPlan.cell[0].id,createdBy:this.userDet.empId,updatedBy:this.userDet.empId,ojtRegisList:this.selectedEntries};console.log(i),this.apiService.submitOJTRegi("apis/sm/ojtRegistration",i).subscribe(e=>{console.log(e),this.isSubmitSpinner=!1,e.result?(this.alertService.success("OJT registartion completed.."),this.modalService.dismissAll()):this.alertService.error(e.reason)})}}closeModal(){this.modalService.dismissAll()}onChange(e,t){e?"plant"==t&&(this.getDeptList(this.ojtPlan.branchId[0]),this.getLineList(this.ojtPlan.branchId[0])):"plant"==t&&(this.ojtPlan.departmentList=[],this.resetFormField(this.addOJTPlan,"deptIds"))}resetFormField(e,t){Object.keys(e.controls).forEach(n=>{""!=t&&n==t?(e.get(t).reset(),e.get(t).markAsPristine(),e.get(t).markAsUntouched()):(e.get(n).reset(),e.get(n).markAsPristine(),e.get(n).markAsUntouched())})}setArray(e,t,n){let i=[];if(null!=e&&e.length>0)for(const l of e)l.id=l[t],l.name=l[n],i.push(l);return i}getIDsArray(e){let t=[];if(null!=e&&e.length>0)for(const n of e)t.push(n.id);return t}getCombinedHeader(){return`${this.empDetailsList.columns.find(e=>"empName"===e.field).heading}`}isObjectEmpty(e){return 0==Object.keys(e).length}shouldShowCheckbox(e){return"fieldName1"===e||"fieldName2"===e}closeChildComponent(){this.childComponentClosed.emit()}getSortFunction(e,t){return e&&Array.isArray(e)&&e.length>0&&("trainer"!==t&&"dept"!==t&&"plant"!==t&&"cell"!==t||e.sort(function(e,t){var n=e.name?e.name.toUpperCase():"",i=t.name?t.name.toUpperCase():"";return n<i?-1:n>i?1:0})),e}onChangeDept(e){e?(console.log(e),this.selectedEntries=[],this.cellList=[],this.ojtPlan.cell=[],this.empDetailsList=[],this.getLineList(e)):(this.cellList=[],this.selectedEntries=[])}sortFunction(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var i=Number(e[t])?e[t]:e[t].toUpperCase(),l=Number(n[t])?n[t]:n[t].toUpperCase();return i<l?-1:i>l?1:0}),e}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](h.k),m["\u0275\u0275directiveInject"](h.j),m["\u0275\u0275directiveInject"](a.a),m["\u0275\u0275directiveInject"](c.e),m["\u0275\u0275directiveInject"](s.b),m["\u0275\u0275directiveInject"]("Constant"))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-ojt-register"]],outputs:{childComponentClosed:"childComponentClosed"},decls:56,vars:27,consts:[[1,"modal-content"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"padding","0px"],[1,"row","m-0","padding-tb"],[1,"col-md-12"],[1,"row"],[1,"col-3","insideLabel"],["for","moduleId",1,"col-form-label","p-0"],[1,"astrik"],[1,""],["name","selectedModuleId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","onSelect","onDeSelect","ngModelChange"],[1,"col-3","insideLabel","p-l-5","p-r-5"],["for","dept",1,"col-form-label","p-0"],["name","dept",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","onSelect","onDeSelect","ngModelChange"],["name","selectedModuleId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","onSelect","ngModelChange"],["name","selectedModuleId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","ngModelChange"],[1,"table-block","skill-table"],[1,"table-responsive","tableFixHead"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"col-sm-12","footer-buttons"],["type","submit","aria-label","Submit",1,"btn","submitBtn","m-l-5",2,"margin-right","10px",3,"disabled","click"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],["type","button","aria-label","Close",1,"btn","cancelBtn","m-l-5",3,"disabled","click"],["class","fixedColumn empNameCol",4,"ngIf"],["style","text-align: center;",4,"ngIf"],[1,"fixedColumn","empNameCol"],[2,"text-align","center"],[1,"actionTd","fixedColumn"],[1,"actionTd","fixedColumn",2,"text-align","left"],[4,"ngIf"],[1,"empSkillLevelTd","text-center",3,"ngClass"],["for","",1,"form-check-label"],[1,"empSkillLevelTd",3,"ngClick"],[1,"checkbox-block","form-check"],["type","checkbox",1,"form-check-input",3,"id","change"],[3,"for"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"h4",2),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"button",3),m["\u0275\u0275listener"]("click",function(){return t.closeModal()}),m["\u0275\u0275elementStart"](5,"span",4),m["\u0275\u0275text"](6,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div",5),m["\u0275\u0275elementStart"](8,"div",6),m["\u0275\u0275elementStart"](9,"div",7),m["\u0275\u0275elementStart"](10,"div",8),m["\u0275\u0275elementStart"](11,"div",9),m["\u0275\u0275elementStart"](12,"label",10),m["\u0275\u0275text"](13,"Plant\xa0"),m["\u0275\u0275elementStart"](14,"span",11),m["\u0275\u0275text"](15,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"div",12),m["\u0275\u0275elementStart"](17,"ng-multiselect-dropdown",13),m["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeBranch(e)})("onDeSelect",function(){return t.onChange(!1,"plant")})("ngModelChange",function(e){return t.ojtPlan.branch=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"div",14),m["\u0275\u0275elementStart"](19,"label",15),m["\u0275\u0275text"](20,"Department\xa0"),m["\u0275\u0275elementStart"](21,"span",11),m["\u0275\u0275text"](22,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](23,"div",12),m["\u0275\u0275elementStart"](24,"ng-multiselect-dropdown",16),m["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeDept(e)})("onDeSelect",function(){return t.onChangeDept(!1)})("ngModelChange",function(e){return t.ojtPlan.dept=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](25,"div",9),m["\u0275\u0275elementStart"](26,"label",10),m["\u0275\u0275text"](27,"Cell/Line\xa0"),m["\u0275\u0275elementStart"](28,"span",11),m["\u0275\u0275text"](29,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](30,"div",12),m["\u0275\u0275elementStart"](31,"ng-multiselect-dropdown",17),m["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeLine(e)})("ngModelChange",function(e){return t.ojtPlan.cell=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](32,"div",9),m["\u0275\u0275elementStart"](33,"label",10),m["\u0275\u0275text"](34,"Trainer\xa0"),m["\u0275\u0275elementStart"](35,"span",11),m["\u0275\u0275text"](36,"*"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](37,"div",12),m["\u0275\u0275elementStart"](38,"ng-multiselect-dropdown",18),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.ojtPlan.trainer=e}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](39,"div",19),m["\u0275\u0275elementStart"](40,"div",20),m["\u0275\u0275elementStart"](41,"table",21),m["\u0275\u0275elementStart"](42,"thead"),m["\u0275\u0275elementStart"](43,"tr"),m["\u0275\u0275template"](44,ae,3,2,"ng-container",22),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](45,"tbody"),m["\u0275\u0275template"](46,de,6,3,"tr",22),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](47,"div",23),m["\u0275\u0275elementStart"](48,"div",8),m["\u0275\u0275elementStart"](49,"div",24),m["\u0275\u0275elementStart"](50,"button",25),m["\u0275\u0275listener"]("click",function(){return t.submitOJTRegi("SAVE")}),m["\u0275\u0275template"](51,pe,1,0,"span",26),m["\u0275\u0275template"](52,me,2,0,"span",27),m["\u0275\u0275template"](53,he,2,0,"span",28),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](54,"button",29),m["\u0275\u0275listener"]("click",function(){return t.closeModal()}),m["\u0275\u0275text"](55,"Cancel "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](t.OJTRegiData.title),m["\u0275\u0275advance"](14),m["\u0275\u0275property"]("placeholder","Select Plant")("settings",t.SingleDropdownSettings)("data",t.branchAccessList)("ngModel",t.ojtPlan.branch)("disabled",t.ojtPlanData.isEditable&&t.ojtPlanData.planId>0),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("placeholder","Select Department")("settings",t.SingleDropdownSettings)("data",t.deptList)("ngModel",t.ojtPlan.dept)("disabled",t.ojtPlanData.isEditable&&t.ojtPlanData.planId>0),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("placeholder","Select Cell/Line")("settings",t.SingleDropdownSettings)("data",t.cellList)("ngModel",t.ojtPlan.cell)("disabled",t.ojtPlanData.isEditable&&t.ojtPlanData.planId>0),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("placeholder","Select Trainer")("settings",t.SingleDropdownSettings)("data",t.getSortFunction(t.userTypeList,"trainer"))("ngModel",t.ojtPlan.trainer),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngForOf",t.empDetailsList.columns),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",t.empDetailsList.tableData),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("disabled",t.submitLoader),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.isSubmitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.isSubmitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.isSubmitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("disabled",t.submitLoader))},directives:[x.a,c.o,c.r,i.NgForOf,i.NgIf,i.NgClass],styles:['@charset "UTF-8";.headerBar[_ngcontent-%COMP%]{display:inline-flex;width:100%}.headerBar[_ngcontent-%COMP%]   .backArrow[_ngcontent-%COMP%]{margin:auto;display:inline-block;padding-left:1rem}.headerBar[_ngcontent-%COMP%]   .backArrow[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%]{color:#7044cd;vertical-align:bottom;font-size:2em;cursor:pointer}.insideLabel[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:0;font:normal normal 700 12px/1.5 Helvetica Neue;left:1.5rem;color:#7044cd}.padding-tb[_ngcontent-%COMP%]{padding-top:19px;padding-bottom:10px}.example-month-picker[_ngcontent-%COMP%]   .mat-calendar-period-button[_ngcontent-%COMP%]{pointer-events:none}.example-month-picker[_ngcontent-%COMP%]   .mat-calendar-arrow[_ngcontent-%COMP%]{display:none}.custom-Input-Group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:transparent;box-shadow:none;border-radius:0;outline:none;border:none;border-bottom:1px solid #ccc;cursor:pointer}.custom-Input-Group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%]{color:#7044cd}.custom-Input-Group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .custom-Input-Group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .custom-Input-Group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;border-radius:0;outline:none;border:none;border-bottom:1px solid #ccc;padding-left:0}.custom-Input-Group[_ngcontent-%COMP%]   .datePickInput[_ngcontent-%COMP%]{background:transparent;cursor:pointer;width:auto}.input-group[_ngcontent-%COMP%]{padding:.5rem 0}.form-group[_ngcontent-%COMP%]{margin-bottom:0!important}.form-group[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-form-dt-label[_ngcontent-%COMP%]{margin-top:10px;font:normal normal 700 12px/1.5 Helvetica Neue;color:#7044cd}.proficiencypop[_ngcontent-%COMP%]{text-align:left;font:normal normal 500 21px/28px Helvetica Neue;letter-spacing:0;color:#7044cd;opacity:1}.skill-table[_ngcontent-%COMP%]   .tableFixHead[_ngcontent-%COMP%]{border-bottom:none;max-height:calc(100vh - 25vh);min-height:calc(100vh - 25vh);height:calc(100vh - 25vh)}.skill-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#fff!important}.skill-table[_ngcontent-%COMP%]   .tdData[_ngcontent-%COMP%]   .assessment[_ngcontent-%COMP%]{padding:.5rem 0}.skill-table[_ngcontent-%COMP%]   .tdData[_ngcontent-%COMP%]   .assessment[_ngcontent-%COMP%]   .assessmentname[_ngcontent-%COMP%]{font:normal normal 500 14px/1.5 Helvetica Neue;letter-spacing:0;color:#474747;text-align:left;margin:auto}.form-check-label[_ngcontent-%COMP%]{padding:5px 15px!important;width:100%!important}.checkbox-block.form-check[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:0}.checkbox-block.form-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:0!important;position:relative!important}.checkbox-block.form-check[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{background:#fff 0 0 no-repeat padding-box;border:2px solid #7044cd;border-radius:5px;content:"";display:inline-block;vertical-align:middle;height:3ex;width:3ex;margin-right:0}.noofProjects[_ngcontent-%COMP%]{background:#7044cd;border-radius:50px;right:2em;color:#fff;font:normal normal 500 18px/29px Helvetica Neue;text-align:center}.thbackground[_ngcontent-%COMP%]{background-color:#fff}.custom-checkbox[_ngcontent-%COMP%]{display:none}.custom-checkbox[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{display:inline-block;position:relative;width:18px;height:18px;background-color:#fff;border:2px solid #7044cd;border-radius:5px!important;margin:0;cursor:pointer}.custom-checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{content:"\u2713";display:block;color:#7044cd;font-size:14px;text-align:center;line-height:18px}.custom-checkbox[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}#registerBtn[_ngcontent-%COMP%]{background-color:#7044cd;color:#fff;padding:10px 20px;border:none;cursor:pointer;position:relative}#registerBtn[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:10px}#registerBtn.up[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{content:"\uf106"}#registerBtn.down[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{content:"\uf107"}.modal-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]{margin-top:10px}.fixedColumn[_ngcontent-%COMP%]{top:0;z-index:1}.fixedColumn[_ngcontent-%COMP%], td.fixedColumn[_ngcontent-%COMP%], th.fixedColumn[_ngcontent-%COMP%]{position:sticky;left:0;background-color:#fff}td.fixedColumn[_ngcontent-%COMP%], th.fixedColumn[_ngcontent-%COMP%]{z-index:2}td.actionTd[_ngcontent-%COMP%], th.actionTh[_ngcontent-%COMP%]{min-width:150px;z-index:3}.fixedColumn[_ngcontent-%COMP%]:first-child, .fixedColumn[_ngcontent-%COMP%]:nth-child(2){left:150px;box-shadow:5px 0 5px -5px #333;background:#fff}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:4}.actionTd[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;z-index:5;min-height:36px;overflow:hidden}th.fixedColumn.empNameCol[_ngcontent-%COMP%]{left:150px;z-index:4}.empSkillLevelTd[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.empSkillLevelTd[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:#000!important;font-weight:400;text-align:center}.empSkillLevelTd[_ngcontent-%COMP%]   .checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.empSkillLevelTd[_ngcontent-%COMP%]   .checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{left:0!important;right:0!important;margin:auto;text-align:center}.empSkillLevelTd.EQUAL[_ngcontent-%COMP%]{background:#99cd3a;color:#000}.empSkillLevelTd.NOT_ELIGIBLE[_ngcontent-%COMP%]{background:#ed3833;color:#000}']}),e})();var ue=n("bFKe");const fe=["AddOjtPlan"],be=["OJTRegi"],Se=["rightModal"];function xe(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",43),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().removeFilter()}),m["\u0275\u0275text"](1,"x"),m["\u0275\u0275elementEnd"]()}}function ve(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",44),m["\u0275\u0275text"](1,"Filter Applied"),m["\u0275\u0275elementEnd"]())}function Pe(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"span",45),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().getSearchListData(!0)}),m["\u0275\u0275elementEnd"]()}}function Le(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"span",46),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().getSearchListData(!1)}),m["\u0275\u0275elementEnd"]()}}function Ce(e,t){1&e&&m["\u0275\u0275element"](0,"div",47)}function De(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"td",57),m["\u0275\u0275element"](1,"app-loading"),m["\u0275\u0275elementEnd"]())}const Ie=function(e,t){return{completed:e,pending:t}};function Ee(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td",48),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"td"),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"td"),m["\u0275\u0275text"](6),m["\u0275\u0275pipe"](7,"date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"td"),m["\u0275\u0275text"](9),m["\u0275\u0275pipe"](10,"date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"td"),m["\u0275\u0275text"](12),m["\u0275\u0275pipe"](13,"date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"td"),m["\u0275\u0275text"](15),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"td"),m["\u0275\u0275text"](17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"td"),m["\u0275\u0275text"](19),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](20,"td",49),m["\u0275\u0275text"](21),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](22,"td",50),m["\u0275\u0275elementStart"](23,"i",51),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit,i=m["\u0275\u0275nextContext"](),l=m["\u0275\u0275reference"](55);return i.addOJTPlan(l,n,!0)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](24," \xa0 \xa0 "),m["\u0275\u0275elementStart"](25,"i",52),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"]().handleIconClick(n)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](26," \xa0 \xa0 "),m["\u0275\u0275elementStart"](27,"i",53),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"]().deleteOJTPlan(n)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](28," \xa0 \xa0 "),m["\u0275\u0275elementStart"](29,"i",54),m["\u0275\u0275elementStart"](30,"img",55),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"]().getExportingDetails(n)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](31,De,2,0,"td",56),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.branch),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.planId),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind2"](7,15,e.staretDate,"MMMM")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind2"](10,18,e.staretDate,"yyyy")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind2"](13,21,e.staretDate,"dd-MM-yyyy")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](e.deptName),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.lineName),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.planedByName),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction2"](24,Ie,"PUBLISH"==e.status,"SAVE"==e.status)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.status||"N/A",""),m["\u0275\u0275advance"](2),m["\u0275\u0275styleProp"]("visibility",n.canEditStartDate(e)?"visible":"hidden"),m["\u0275\u0275advance"](4),m["\u0275\u0275styleProp"]("visibility","PUBLISH"!=e.status?"visible":"hidden"),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngIf",n.listLoading)}}function ke(e,t){1&e&&m["\u0275\u0275element"](0,"app-add-ojt-plan")}function ye(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-ojt-register",58),m["\u0275\u0275listener"]("childComponentClosed",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().resetSelectedRegiType()}),m["\u0275\u0275elementEnd"]()}}function Oe(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275text"](1," Please select plant "),m["\u0275\u0275elementEnd"]())}function Me(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",77),m["\u0275\u0275template"](1,Oe,2,0,"div",78),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.formdata.controls.branch.errors.required)}}function je(e,t){1&e&&m["\u0275\u0275element"](0,"span",79)}function we(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",80),m["\u0275\u0275text"](1," Loading..."),m["\u0275\u0275elementEnd"]())}function _e(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",81),m["\u0275\u0275text"](1,"Apply Filter"),m["\u0275\u0275elementEnd"]())}function Te(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",59),m["\u0275\u0275elementStart"](1,"h4",60),m["\u0275\u0275text"](2,"Filter"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"button",61),m["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),m["\u0275\u0275elementStart"](4,"span",62),m["\u0275\u0275text"](5,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"form",63),m["\u0275\u0275listener"]("ngSubmit",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]();return t.getFilterList(t.formdata)}),m["\u0275\u0275elementStart"](7,"div",64),m["\u0275\u0275elementStart"](8,"perfect-scrollbar"),m["\u0275\u0275elementStart"](9,"div",65),m["\u0275\u0275elementStart"](10,"label",66),m["\u0275\u0275text"](11,"Plant"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"div",67),m["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",68),m["\u0275\u0275listener"]("onSelect",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onChangeBranch(t)})("ngModelChange",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().searchDet.branch=t}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](14,Me,2,1,"div",69),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"div",65),m["\u0275\u0275elementStart"](16,"label",66),m["\u0275\u0275text"](17,"Department"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"div",67),m["\u0275\u0275elementStart"](19,"ng-multiselect-dropdown",70),m["\u0275\u0275listener"]("onSelect",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onChangeDept(t)})("ngModelChange",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().searchDet.dept=t}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](20,"div",65),m["\u0275\u0275elementStart"](21,"label",66),m["\u0275\u0275text"](22,"Cell"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](23,"div",67),m["\u0275\u0275elementStart"](24,"ng-multiselect-dropdown",71),m["\u0275\u0275listener"]("ngModelChange",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().searchDet.cell=t}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](25,"div",72),m["\u0275\u0275elementStart"](26,"button",73),m["\u0275\u0275template"](27,je,1,0,"span",74),m["\u0275\u0275template"](28,we,2,0,"span",75),m["\u0275\u0275template"](29,_e,2,0,"span",76),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("formGroup",e.formdata),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("placeholder","Select Plant")("settings",e.SingleDropdownSettings)("data",e.getSortFunction(e.branchAccessList,"plant"))("ngModel",e.searchDet.branch)("disabled",!1),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.submitAttempted&&e.formdata.controls.branch.invalid&&(e.formdata.controls.branch.touched||e.formdata.controls.branch.dirty)),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("placeholder","Select Department")("settings",e.SingleDropdownSettings)("data",e.getSortFunction(e.searchDet.deptList,"dept"))("ngModel",e.searchDet.dept),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("placeholder","Select Cell")("settings",e.multipleDropdownSettings)("data",e.getSortFunction(e.searchDet.cellList,"cell"))("ngModel",e.searchDet.cell),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",e.submitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.submitSpinner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.submitSpinner)}}function Ae(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"th",99),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.heading," ")}}function Ne(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,Ae,2,1,"th",98),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","cmpyEmpId"==e.field||"empName"==e.field||"assessmentStatus"==e.field)}}function Fe(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"th",100),m["\u0275\u0275text"](2),m["\u0275\u0275elementStart"](3,"span"),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",e.heading," "),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"]("(",t.getRequireSkillLevel(e.field),")")}}function Re(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,Fe,5,2,"ng-container",78),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","empId"!==e.field&&"cmpyEmpId"!==e.field&&"empName"!==e.field&&"assessmentStatus"!==e.field&&"assessmentType"!==e.field)}}function Be(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"td",102),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2).$implicit,t=m["\u0275\u0275nextContext"](2).$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",t[e.field]," ")}}function Je(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,Be,2,1,"td",101),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","cmpyEmpId"==e.field||"empName"==e.field||"assessmentStatus"==e.field)}}function Ye(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,Je,2,1,"ng-container",78),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","empId"!==e.field)}}function $e(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"span"),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](5).$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",e.desiredLvl," ")}}function Ue(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,$e,3,1,"ng-container",78),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2).$implicit,t=m["\u0275\u0275nextContext"](2).$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.workstation===e.field)}}const Ve=function(e){return{"background-color":e}};function We(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"td",104),m["\u0275\u0275elementStart"](1,"div",105),m["\u0275\u0275elementStart"](2,"div"),m["\u0275\u0275template"](3,Ue,2,1,"ng-container",78),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"](2).$implicit,n=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("ngStyle",m["\u0275\u0275pureFunction1"](2,Ve,n.getColorClass(t,e))),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",t.hasOwnProperty(e.field))}}function He(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,We,4,4,"td",103),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"](2).$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","empId"!==e.field&&"cmpyEmpId"!==e.field&&"empName"!==e.field&&"empName"!==n&&"cmpyEmpId"!==n&&"assessmentStatus"!==e.field&&"assessmentType"!==e.field)}}function ze(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,Ye,2,1,"ng-container",36),m["\u0275\u0275template"](2,He,2,1,"ng-container",36),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](3);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",e.viewPlanData.column),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",e.viewPlanData.column)}}function qe(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275template"](1,ze,3,2,"ng-container",78),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","LEVEL"!==e.assessmentType)}}function Ge(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"td",107),m["\u0275\u0275text"](1," Data Not Found "),m["\u0275\u0275elementEnd"]())}function Qe(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"td",57),m["\u0275\u0275element"](1,"app-loading"),m["\u0275\u0275elementEnd"]())}function Ke(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275template"](1,Ge,2,0,"td",106),m["\u0275\u0275template"](2,Qe,2,0,"td",56),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.listLoading),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.listLoading)}}function Xe(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",82),m["\u0275\u0275elementStart"](1,"div",83),m["\u0275\u0275elementStart"](2,"div",84),m["\u0275\u0275elementStart"](3,"div",85),m["\u0275\u0275elementStart"](4,"div",86),m["\u0275\u0275elementStart"](5,"label",87),m["\u0275\u0275text"](6,"Plant"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](7,"input",88),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"div",89),m["\u0275\u0275elementStart"](9,"div",86),m["\u0275\u0275elementStart"](10,"label",87),m["\u0275\u0275text"](11,"Department"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](12,"input",88),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"div",89),m["\u0275\u0275elementStart"](14,"div",86),m["\u0275\u0275elementStart"](15,"label",87),m["\u0275\u0275text"](16,"Cell"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](17,"input",88),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"div",85),m["\u0275\u0275elementStart"](19,"div",86),m["\u0275\u0275elementStart"](20,"label",87),m["\u0275\u0275text"](21,"OJT Plan Date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](22,"input",88),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](23,"div",85),m["\u0275\u0275elementStart"](24,"div",86),m["\u0275\u0275elementStart"](25,"label",87),m["\u0275\u0275text"](26,"Trainer"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](27,"input",88),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](28,"div",90),m["\u0275\u0275element"](29,"div",91),m["\u0275\u0275elementStart"](30,"div",92),m["\u0275\u0275elementStart"](31,"img",93),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().exportExcelReport()}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](32,"div",94),m["\u0275\u0275elementStart"](33,"div",95),m["\u0275\u0275elementStart"](34,"div",24),m["\u0275\u0275elementStart"](35,"table",96),m["\u0275\u0275elementStart"](36,"thead"),m["\u0275\u0275elementStart"](37,"tr"),m["\u0275\u0275template"](38,Ne,2,1,"ng-container",36),m["\u0275\u0275template"](39,Re,2,1,"ng-container",36),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](40,"tbody"),m["\u0275\u0275template"](41,qe,2,1,"tr",36),m["\u0275\u0275template"](42,Ke,3,2,"tr",78),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](43,"div",72),m["\u0275\u0275elementStart"](44,"button",97),m["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),m["\u0275\u0275text"](45,"Cancel "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](7),m["\u0275\u0275propertyInterpolate"]("value",e.viewPlanData.branchName),m["\u0275\u0275advance"](5),m["\u0275\u0275propertyInterpolate"]("value",e.viewPlanData.deptName),m["\u0275\u0275advance"](5),m["\u0275\u0275propertyInterpolate"]("value",e.viewPlanData.lineName),m["\u0275\u0275advance"](5),m["\u0275\u0275propertyInterpolate"]("value",e.viewPlanData.updatedDate),m["\u0275\u0275advance"](5),m["\u0275\u0275propertyInterpolate"]("value",e.viewPlanData.trainer),m["\u0275\u0275advance"](11),m["\u0275\u0275property"]("ngForOf",e.viewPlanData.column),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",e.viewPlanData.column),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",e.viewPlanData.ojtRegiList),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",null==e.viewPlanData.ojtRegiList||0==e.viewPlanData.ojtRegiList.length)}}const Ze=function(e){return{applied:e}},et=[{path:"",component:(()=>{class e{constructor(e,t,n,i,l,a,o){this.router=e,this.modalConfig=t,this.modalService=n,this.apiService=i,this.alertService=l,this.fb=a,this.filterFlag=!1,this.submitAttempted=!1,this.isDropdownOpen=!1,this.SingleDropdownSettings={},this.multipleDropdownSettings={},this.SingleDropdownTypeSettings={},this.searchDet={},this.constant={},this.worksatationData=[],this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},this.ojtPlanList=[],this.dataSpinner=[],this.deptList=[],this.branchAccessList=[],this.userDet={},this.listLoading=!1,this.viewPlanData=[],this.tableData=[],this.cellList=[],this.isAppliedFilter=!1,this.regiList=[{id:1,type:"Register OJT Plan"}],this.exportingDetails={},t.backdrop="static",t.keyboard=!1,this.constant=o}ngOnInit(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getBranchAccessList(),this.getOJTPlanList(""),this.formdata=this.fb.group({branch:new c.f("",c.z.required),dept:new c.f(""),cell:new c.f("")}),this.SingleDropdownTypeSettings={singleSelection:!0,idField:"id",textField:"type",allowSearchFilter:!1,itemsShowLimit:1,showSelectedItemsAtTop:!0,closeDropDownOnSelection:!0},this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.multipleDropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0}}getBranchAccessList(){this.apiService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(e=>{e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?(this.branchAccessList=e.branchAccessList,this.branchAccessList=this.setArray(e.branchAccessList,"branchId","branchName")):this.branchAccessList=[{id:this.userDet.branch.branchId,name:this.userDet.branch.name}]})}onChangeBranch(e){console.log(e),this.searchDet.cell=[],this.searchDet.dept=[],this.searchDet.deptList=[],this.cellList=[],this.getDeptList()}getDeptList(){null!=this.searchDet.branch&&this.searchDet.branch.length>0&&this.apiService.getdepartmentlistbybranchid("getdepartmentlistbybranchid/"+this.searchDet.branch[0].id).subscribe(e=>{e.result?null!=e.deptList&&e.deptList.length>0&&(this.deptList=this.setArray(e.deptList,"deptId","deptName"),this.searchDet.deptList=this.setArray(e.deptList,"deptId","deptName"),console.log(e),null!=this.ojtPlanList&&0!=this.ojtPlanList.length||this.getOJTPlanList("")):this.deptList=[]})}onChangeDept(e){console.log(e),this.searchDet.dept=[{id:e.id,name:e.name}],this.cellList=[],this.searchDet.cell=[],this.searchDet.cell=null,this.getCellList()}getCellList(){if(null!=this.searchDet.branch&&this.searchDet.branch.length>0){var e={branchId:this.searchDet.branch[0].id};null!=this.searchDet.dept&&this.searchDet.dept.length>0&&(e.deptId=this.searchDet.dept[0].id),this.apiService.getCellList("apis/sm/getCellList",e).subscribe(e=>{e.result&&null!=e.dataList&&e.dataList.length>0?(this.cellList=this.setArray(e.dataList,"lineId","tmpName"),this.searchDet.cellList=this.setArray(e.dataList,"lineId","lineName"),this.searchDet.cell=[],console.log(this.searchDet.cellList)):(this.cellList=[],this.searchDet.cellList=[])})}else this.cellList=[]}getFilterList(e){this.submitAttempted=!0,e.invalid?Object.keys(e.controls).forEach(t=>{e.controls[t].markAsDirty()}):(this.isAppliedFilter=!0,null==e.value.branch&&null==e.value.cell||(this.searchDet.filterFlag=!0),this.clearPagination(),this.searchDet.filterPopupOpen=!1,this.modalService.dismissAll(),this.getOJTPlanList("Filter"))}getSearchListData(e){this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getOJTPlanList(this.filterFlag?"filter":"")}getOJTPlanList(e){this.listLoading=!0,this.staticPagination.offset>0&&0==this.filterFlag&&"filter"==e&&this.clearPagination(),this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;let t={orgId:this.userDet.organization.orgId,offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction),this.searchDet.searchData&&this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),t.branchId=null!=this.searchDet.branch&&this.searchDet.branch.length>0?this.searchDet.branch[0].id:this.userDet.branch.branchId,null!=this.searchDet.dept&&this.searchDet.dept.length>0&&(t.deptIds=[this.searchDet.dept[0].id]),null!=this.searchDet.cell&&this.searchDet.cell.length>0&&(t.lineIds=this.getIDsArray(this.searchDet.cell)),this.apiService.getOJTPlan("apis/sm/getOJTPlanList",t).subscribe(e=>{console.log(e),this.listLoading=!1,e.result?(1==this.staticPagination.page&&(this.staticPagination.total=e.totalCount,this.staticPagination.totalPages=Math.ceil(e.totalMyActionCount/this.staticPagination.itemsPerPage)),null!=e.dataList&&e.dataList.length>0?(this.ojtPlanList=e.dataList,console.log(this.ojtPlanList),this.staticPagination.listLength=e.dataList.length):this.ojtPlanList=[]):this.ojtPlanList=[]},e=>{this.ojtPlanList=[],this.listLoading=!1})}addOJTPlan(e,t,n){console.log(t),""==t?t={title:"Add OJT Plan",isEditable:!1,planId:0}:((t=t).title="Update OJT Plan",t.isEditable=!0,t.planId=t.planId);var i=Object.assign({},t,{tmpPagination:this.staticPagination});if(e){null!=i?(localStorage.removeItem("ojtPlanDetails"),localStorage.setItem("ojtPlanDetails",JSON.stringify(i))):localStorage.removeItem("ojtPlanDetails");var l=this.modalService.open(e,{windowClass:"right"});l.result.then(e=>{"success"===e&&(this.searchDet.selectedRegiType="")},e=>{this.getOJTPlanList(""),console.log(e)}),l.componentInstance.modalClosed.subscribe(()=>{this.getOJTPlanList("")})}}deleteOJTPlan(e){console.log(e),r.a.fire({title:"Are You Sure!",text:"Do you want to remove this OJT Plan?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes Remove It",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{this.dataSpinner[e.planId]=!0,t.isConfirmed?this.apiService.deleteOJTPlan("apis/sm/deleteOJTPlan/"+e.planId).subscribe(e=>{this.dataSpinner[e.planId]=!1,e.result?(this.alertService.success("OJT Plan Deleted Sucessfully"),this.getOJTPlanList("")):this.alertService.error(100==e.statusCode?e.reason:"Error Occurred While Deleting Data. Please Try Again")}):this.dataSpinner[e.planId]=!1})}filterModalOpen(e){console.log("In filter"),this.modalService.open(e,{windowClass:"filterPopup"})}setArray(e,t,n){let i=[];if(null!=e&&e.length>0)for(const l of e)l.id=l[t],l.name=l[n],i.push(l);return i}getIDsArray(e){let t=[];if(null!=e&&e.length>0)for(const n of e)t.push(n.id);return t}viewPlan(e){console.log(e),this.apiService.getOJTPlanDetails("apis/sm/getOJTPlanDetails/"+e.planId).subscribe(e=>{if(console.log(e),e.result){console.log(e),e.ojtPlan.column.push({field:"assessmentType",heading:"Assessment Type"}),e.ojtPlan.column.push({field:"assessmentStatus",heading:"Safety Assessment Status"}),this.viewPlanData=e.ojtPlan,this.tableData=this.viewPlanData.ojtRegiList,null!=this.tableData&&this.tableData.length>0&&(this.viewPlanData.trainer=this.tableData[0].trainerName);const t=new i.DatePipe("en-US");this.viewPlanData.updatedDate=t.transform(this.viewPlanData.updatedDate,"yyyy-MM-dd"),console.log(this.viewPlanData),console.log(this.tableData),this.getWorkstationList()}})}handleIconClick(e){this.viewPlan(e),this.modalOpen(this.rightModal,"right")}modalOpen(e,t){this.modalService.open(e,{windowClass:t})}sortData(e){this.sorting=e,this.getOJTPlanList("")}loadMore(e){this.staticPagination=e,this.ojtPlanList=[],this.listLoading=!0,this.getOJTPlanList(this.filterFlag?"filter":"")}clearPagination(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}selectedRegi(e){localStorage.removeItem("ojtPlanDetails"),e&&("Register OJT Plan"===e?this.addOJTPlan(this.AddOjtPlan,"",!0):"Register OJT"===e&&this.OJTRegistration(this.OJTRegi,"",!0))}OJTRegistration(e,t,n){if(console.log(t),""==t?t={title:"OJT Registration",isEditable:!1}:((t=t).title="OJT Registration",t.isEditable=!0,t.planId=t.planId),console.log(t),localStorage.setItem("OJTRegiData",JSON.stringify(t)),e){var i=this.modalService.open(e,{windowClass:"right"});this.getOJTPlanList(""),i.result.then(e=>{"success"===e&&(this.searchDet.selectedRegiType=[],this.getOJTPlanList(""))},e=>{console.log(e),this.getOJTPlanList("")})}}resetSelectedRegiType(){console.log("resetSelectedRegiType() called"),this.searchDet.selectedRegiType=[]}removeFilter(){this.submitAttempted=!1,this.formdata.reset(),this.searchDet.branch=[],this.searchDet.dept=[],this.searchDet.cell=[],this.isAppliedFilter=!1,this.searchDet.filterFlag=!1,this.searchDet.filterPopupOpen=!1,this.submitAttempted=!1,this.ojtPlanList=[],this.getOJTPlanList("")}getColorClass(e,t){var n,i;if(e&&e.workstation&&e.workstation===t.field)return"#ffff00";{const l=null===(n=e[t.field])||void 0===n?void 0:n.requireSkillLevel,a=null===(i=e[t.field])||void 0===i?void 0:i.currentSkillLevel;if(l&&a&&a.currentSkillLevelId>=l.currentSkillLevelId)return"#99cd3a"}return"#FFFFFF"}getCurrentSkillLevel(e,t){return t==e.workstation?e[t].requireSkillLevel:e[t].requireSkillLevel==e.currentLvl?e.currentLvl:null}getRequireSkillLevel(e){const t=this.viewPlanData.ojtRegiList.find(t=>e in t);if(!t)return"";for(const n in t)if(t.hasOwnProperty(n)&&n===e)return t[e].requireSkillLevel}getWorkstationList(){if(this.viewPlanData){let e={orgId:this.userDet.organization.orgId,branchId:this.viewPlanData.branchId,deptId:this.viewPlanData.deptId,lineIds:[this.viewPlanData.lineId]};console.log(e),this.apiService.getWorkstationList("apis/sm/getWorkstationList",e).subscribe(e=>{console.log(e),this.worksatationData=e.result?e.dataList:[]})}}getCombinedHeader(){return` ${this.viewPlanData.column.find(e=>"empName"===e.field).heading}`}getHeadingWithLevel(e,t){const n=this.worksatationData.find(t=>t.workstation===e);return n?`${t} (${n.levelName})`:t}isObjectEmpty(e){return 0==Object.keys(e).length}isChecked(e,t){for(let n in e)if(t==n){if(!e[n].hasOwnProperty("currentSkillLevel")||!e[n].hasOwnProperty("currentSkillLevelId"))return 1==e[n].requireSkillLevelId?{status:this.constant.ELIGIBLE,level:e[n].requireSkillLevel}:{status:this.constant.NOT_ELIGIBLE,level:e[n].requireSkillLevel};if(e[n].currentSkillLevelId==e[n].requireSkillLevelId)return{status:this.constant.EQUAL,level:e[n].currentSkillLevel};if(e[n].currentSkillLevelId>e[n].requireSkillLevelId)return{status:this.constant.EQUAL,level:e[n].currentSkillLevel};if(e[n].currentSkillLevelId+1==e[n].requireSkillLevelId)return{status:this.constant.ELIGIBLE,level:e[n].currentSkillLevel};if(e[n].requireSkillLevelId>e[n].currentSkillLevelId+1)return{status:this.constant.NOT_ELIGIBLE,level:e[n].currentSkillLevel}}return{}}getSortFunction(e,t){return console.log(e,t),e&&Array.isArray(e)&&e.length>0&&("plant"!==t&&"dept"!==t&&"cell"!==t||e.sort(function(e,t){var n=e.name?e.name.toUpperCase():"",i=t.name?t.name.toUpperCase():"";return n<i?-1:n>i?1:0})),e}exportExcelReport(){let e=new d.Workbook,t=e.addWorksheet("OJT Plan",{});t.addRow(["Plant","Cell","OJT Plan Date","Trainer"]),t.addRow([this.viewPlanData.branchName,this.viewPlanData.deptName,this.viewPlanData.updatedDate,this.viewPlanData.trainer]),t.addRow([]);let n=[];this.viewPlanData.column.forEach(e=>{"cmpyEmpId"!=e.field&&"empName"!=e.field||n.push(e.heading)}),this.viewPlanData.column.forEach(e=>{"empId"!==e.field&&"cmpyEmpId"!==e.field&&"empName"!==e.field&&n.push(e.heading)}),t.addRow(n);let i=[];this.viewPlanData.ojtRegiList.forEach((e,n)=>{let l=[];this.viewPlanData.column.forEach(t=>{"empId"===t.field||"cmpyEmpId"!=t.field&&"empName"!=t.field||l.push(e[t.field])}),this.viewPlanData.column.forEach((t,a)=>{"empId"!==t.field&&"cmpyEmpId"!==t.field&&"empName"!==t.field&&"empName"!==e&&"cmpyEmpId"!==e&&(e.hasOwnProperty(t.field)&&e.workstation===t.field?(l.push(this.getCurrentSkillLevel(e,t.field)),i.push({row:n,col:a,color:this.getColorClass(e,t)})):l.push(""))}),t.addRow(l)}),t.getRow(1).font={bold:!0},t.getRow(4).font={bold:!0},i.forEach(e=>{let n=t.getRow(e.row+5);n.getCell(e.col+3).fill={type:"pattern",pattern:"solid",fgColor:{argb:e.color.replace("#","")}},n.getCell(e.col+3).border={top:{style:"double",color:{argb:"f6f6f6"}},left:{style:"double",color:{argb:"f6f6f6"}},bottom:{style:"double",color:{argb:"f6f6f6"}},right:{style:"double",color:{argb:"f6f6f6"}}}}),t.columns.forEach((e,t)=>{e.width=0==t?20:1==t?30:15}),e.xlsx.writeBuffer().then(e=>{let t=new Blob([e],{type:"xlsx"});p.saveAs(t,"OJT Plan Details.xlsx")})}canEditStartDate(e){const t=new Date,n=new Date(e.staretDate);return n.getTime()>t.getTime()&&n.getTime()!=t.getTime()}getFormatDate(e){const t=new Date(e),n=`${String(t.getDate()).padStart(2,"0")}/${String(t.getMonth()+1).padStart(2,"0")}/${t.getFullYear()}`;return console.log(n),"NaN/NaN/NaN"==n?" ":n}getExportingDetails(e){console.log(e),this.apiService.getOJTPlanDetails("apis/sm/getOJTPlanDetails/"+e.planId).subscribe(e=>{if(console.log(e),e.result){if(console.log(e),this.exportingDetails=e.ojtPlan,this.exportingDetails.ojtRegiList.length>0&&null!=this.exportingDetails.ojtRegiList)for(let e=0;e<this.exportingDetails.ojtRegiList.length;e++)this.exportingDetails.ojtRegiList[e].srNo=e+1,this.exportingDetails.ojtRegiList[e].ojtPlanDate=this.getFormatDate(this.exportingDetails.startDate),this.exportingDetails.ojtRegiList[e].ojtActualDate=this.getFormatDate(this.exportingDetails.ojtRegiList[e].actualOJTDate),this.exportingDetails.ojtRegiList[e].examPlanDate=this.getFormatDate(this.exportingDetails.ojtRegiList[e].assessmentCreatedDate),this.exportingDetails.ojtRegiList[e].dateOfExamAttended=this.getFormatDate(this.exportingDetails.ojtRegiList[e].assessmentUpdatedDate),this.exportingDetails.ojtRegiList[e].status=this.exportingDetails.status;console.log(this.exportingDetails),this.exportToExcel()}})}exportToExcel(){const e=new d.Workbook,t=e.addWorksheet("Skill Matrix"),n=["SR NO","OJT PLAN DATE","OJT Actual Date","EXAM PLAN DATE","DATE OF EXAM ATTENDED","EMPL. I.D.","NAME OF OE","CELL NAME","WORKSTATION","SKILL LEVEL PLAN","PASS / FAIL"];for(let o=1;o<=n.length;o++)t.getColumn(o).width=15;const i=Array(n.length).fill(""),l=Math.floor(n.length/2),a=this.getMonthName(this.exportingDetails.monthValue);Array(n.length).fill("")[l]="MONTH :- "+a+" "+this.exportingDetails.yearValue,i[l]="Workstaion",t.getRow(1).height=30,t.getRow(2).height=30,t.getRow(1).font={bold:!0},t.getRow(2).font={bold:!0},t.mergeCells("A1:K1"),t.getCell("A1").value=this.exportingDetails.lineName,t.getCell("A1").fill={type:"pattern",pattern:"solid",fgColor:{argb:"99cd3a"}},t.getCell("A1").alignment={horizontal:"center",vertical:"middle",wrapText:!0},t.getCell("A1").border={top:{style:"thin"},bottom:{style:"thin"}},t.mergeCells("A2:K2"),t.getCell("A2").value="MONTH :- "+a+" "+this.exportingDetails.yearValue,t.getCell("A2").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"}},t.getCell("A2").alignment={horizontal:"center",vertical:"middle",wrapText:!0},t.getCell("A2").border={top:{style:"thin"},bottom:{style:"thin"}},t.addRow(n),this.exportingDetails.ojtRegiList.forEach(e=>{t.addRow([e.srNo,e.ojtPlanDate,e.ojtActualDate,e.examPlanDate,e.dateOfExamAttended,e.cmpyEmpId,e.empName,e.lineName,e.workstation,e.desiredLvl,e.assessmentStatus])}),e.xlsx.writeBuffer().then(e=>{const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="OJT_Plan.xlsx",i.click(),window.URL.revokeObjectURL(n)})}getMonthName(e){if(e>=1&&e<=12)return["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](l.f),m["\u0275\u0275directiveInject"](h.k),m["\u0275\u0275directiveInject"](h.j),m["\u0275\u0275directiveInject"](a.a),m["\u0275\u0275directiveInject"](s.b),m["\u0275\u0275directiveInject"](c.e),m["\u0275\u0275directiveInject"]("Constant"))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-ojt-plan"]],viewQuery:function(e,t){if(1&e&&(m["\u0275\u0275viewQuery"](fe,1),m["\u0275\u0275viewQuery"](be,1),m["\u0275\u0275viewQuery"](Se,1)),2&e){let e;m["\u0275\u0275queryRefresh"](e=m["\u0275\u0275loadQuery"]())&&(t.AddOjtPlan=e.first),m["\u0275\u0275queryRefresh"](e=m["\u0275\u0275loadQuery"]())&&(t.OJTRegi=e.first),m["\u0275\u0275queryRefresh"](e=m["\u0275\u0275loadQuery"]())&&(t.rightModal=e.first)}},decls:62,vars:11,consts:[[1,"row","m-0"],[1,"col-11","m-auto"],["title","OJT Plan"],[1,"col-1","p-0","m-auto","text-center"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"p-l-0","p-r-5","col-6"],[1,"p-l-0","p-r-5","col-9"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","name","searchInput","placeholder","Search by department name, line name, status..","autocomplete","off",1,"form-control",2,"border-bottom","1px solid #7044cd",3,"ngModel","ngModelChange","keyup"],["class","col-3 p-r-5 p-l-5",4,"ngIf"],[1,"col-2","p-r-5","p-l-5","form-group"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button","title","Register OJT Plan",1,"btn","addRegBtn","m-0",3,"click"],[1,"fa","fa-plus","m-r-10",2,"text-align","center"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["datatable","","matSort","",1,"table",3,"matSortChange"],["mat-sort-header","Branch",1,"actionTh","fixedColumn"],["mat-sort-header","PlanId"],["mat-sort-header","Month",1,""],["mat-sort-header","Year",1,""],["mat-sort-header","StaretDate",1,""],["mat-sort-header","DeptName",1,""],["mat-sort-header","Line",1,""],["mat-sort-header","PlanedByName",1,""],["mat-sort-header","Status",1,"pending","actionTh","fixedColumn"],[1,"actionTh","fixedColumn",2,"text-align","center"],[4,"ngFor","ngForOf"],[3,"staticPagination","paginationData"],["AddOjtPlan",""],["OJTRegi",""],["FilterModal",""],["id","rightModal"],["rightModal",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[1,"col-3","p-r-5","p-l-5"],[1,"actionTd","fixedColumn","text-left"],[1,"actionTd","fixedColumn",3,"ngClass"],[1,"actionTd","fixedColumn",2,"text-align","right"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fa","fa-eye","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],[2,"color","#7044CD","cursor","pointer"],["src","assets/images/ic_excel.png","alt","",1,"img-fluid",3,"click"],["colspan","11","class","text-center loading-div",4,"ngIf"],["colspan","11",1,"text-center","loading-div"],[3,"childComponentClosed"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","opt",1,"col-sm-12","col-form-label","filter-label"],[1,"col-sm-12"],["name","branchId","formControlName","branch",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","disabled","onSelect","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],["name","opt","formControlName","dept",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","onSelect","ngModelChange"],["name","opt","formControlName","cell",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","ngModelChange"],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],[4,"ngIf"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"],[1,"modal-content","interDetContent"],[1,"modal-header","mt-1","mb-1",2,"border-bottom","2px solid #c8e4f5","width","100%"],[1,"row",2,"width","100%"],[1,"col-2"],[1,"input-container"],["for","opt",1,"col-form-label","p-0"],["type","text","readonly","",1,"read-only-input",3,"value"],[1,"col-3"],[1,"row"],[1,"col-11"],[1,"col-1"],["src","assets/images/ic_excel.png","alt","",1,"img-fluid","btn-excel-export",3,"click"],[1,"modal-body","fixedHead"],[1,"table-block","skill-table"],[1,"table","table-bordered"],["type","button","aria-label","Close",1,"btn","cancelBtn",3,"click"],["class","fixedColumn",4,"ngIf"],[1,"fixedColumn"],[1,"subHeading"],["style","text-align: center;","class","fixedColumn",4,"ngIf"],[1,"fixedColumn",2,"text-align","center"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[1,"checkbox-block","form-check"],["colspan","11","class","text-center no-record-found",4,"ngIf"],["colspan","11",1,"text-center","no-record-found"]],template:function(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275element"](2,"app-topBar",2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",3),m["\u0275\u0275elementStart"](4,"div",4),m["\u0275\u0275elementStart"](5,"button",5),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=m["\u0275\u0275reference"](59);return t.filterModalOpen(n)}),m["\u0275\u0275element"](6,"i",6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](7,xe,2,0,"div",7),m["\u0275\u0275template"](8,ve,2,0,"div",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",9),m["\u0275\u0275elementStart"](10,"div",10),m["\u0275\u0275elementStart"](11,"div",0),m["\u0275\u0275elementStart"](12,"div",11),m["\u0275\u0275elementStart"](13,"div",0),m["\u0275\u0275elementStart"](14,"div",12),m["\u0275\u0275elementStart"](15,"div",13),m["\u0275\u0275template"](16,Pe,1,0,"span",14),m["\u0275\u0275template"](17,Le,1,0,"span",15),m["\u0275\u0275elementStart"](18,"input",16),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchListData(!0):""}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](19,Ce,1,0,"div",17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](20,"div",18),m["\u0275\u0275elementStart"](21,"div",19),m["\u0275\u0275elementStart"](22,"div",20),m["\u0275\u0275elementStart"](23,"button",21),m["\u0275\u0275listener"]("click",function(){return t.selectedRegi("Register OJT Plan")}),m["\u0275\u0275element"](24,"i",22),m["\u0275\u0275text"](25,"Register OJT Plan"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"div",23),m["\u0275\u0275elementStart"](27,"div",24),m["\u0275\u0275elementStart"](28,"table",25),m["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),m["\u0275\u0275elementStart"](29,"thead"),m["\u0275\u0275elementStart"](30,"tr"),m["\u0275\u0275elementStart"](31,"th",26),m["\u0275\u0275text"](32,"Plant"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](33,"th",27),m["\u0275\u0275text"](34," OJT Plan No."),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](35,"th",28),m["\u0275\u0275text"](36,"Month"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](37,"th",29),m["\u0275\u0275text"](38,"Year"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](39,"th",30),m["\u0275\u0275text"](40,"OJT Start Date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](41,"th",31),m["\u0275\u0275text"](42,"Department"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](43,"th",32),m["\u0275\u0275text"](44,"Cell/Line"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](45,"th",33),m["\u0275\u0275text"](46,"Planned By"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](47,"th",34),m["\u0275\u0275text"](48,"Status"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](49,"th",35),m["\u0275\u0275text"](50,"Action"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](51,"tbody"),m["\u0275\u0275template"](52,Ee,32,27,"tr",36),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](53,"app-pagination",37),m["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](54,ke,1,0,"ng-template",null,38,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275template"](56,ye,1,0,"ng-template",null,39,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](58,Te,30,18,"ng-template",null,40,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275template"](60,Xe,46,9,"ng-template",41,42,m["\u0275\u0275templateRefExtractor"])}2&e&&(m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](9,Ze,t.isAppliedFilter)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",t.isAppliedFilter),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.isAppliedFilter),m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.searchDet.searchData),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.searchDet.filterFlag),m["\u0275\u0275advance"](33),m["\u0275\u0275property"]("ngForOf",t.ojtPlanList),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[g.a,i.NgClass,i.NgIf,c.c,c.o,c.r,u.a,u.b,i.NgForOf,f.a,b.a,ne,ge,c.A,c.p,c.h,ue.b,x.a,c.g,i.NgStyle],pipes:[i.DatePipe],styles:[".lableHead[_ngcontent-%COMP%]{display:flex;margin-bottom:5px}.input-container[_ngcontent-%COMP%]{position:relative;border:1px solid #ebe7e7;box-shadow:0 2px 4px rgba(0,0,0,.1);height:44px;padding:3px 12px;background-color:#eceeef}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:12px;color:#4e21d1}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:transparent;font-size:14px;color:#333;pointer-events:none;cursor:default}.subHeading[_ngcontent-%COMP%]{text-align:center}.addRegDiv[_ngcontent-%COMP%]{background-size:contain}th.fixedColumn[_ngcontent-%COMP%]{z-index:2}td.fixedColumn[_ngcontent-%COMP%], th.fixedColumn[_ngcontent-%COMP%]{position:sticky;left:0}td.actionTd[_ngcontent-%COMP%], th.actionTh[_ngcontent-%COMP%]{min-width:150px}.fixedColumn[_ngcontent-%COMP%]:nth-child(9){right:150px;width:100px;min-width:100px;max-width:100px}.fixedColumn[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:5;width:100px;min-width:100px;max-width:100px}.fixedColumn[_ngcontent-%COMP%]:nth-child(2){position:sticky;left:100px;z-index:5;width:150px;min-width:150px;max-width:150px}.fixedColumn[_ngcontent-%COMP%]:nth-child(3){position:sticky;left:250px;z-index:5;width:180px;min-width:180px;max-width:180px}.pending[_ngcontent-%COMP%]{position:sticky;left:0;z-index:5}.actionTd[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;z-index:5;min-height:36px;overflow:hidden}th.fixedColumn.empNameCol[_ngcontent-%COMP%]{left:108px;z-index:5}.extraContent[_ngcontent-%COMP%]{padding:0;bottom:5px}.empSkillLevelTd[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.empSkillLevelTd[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:#000!important;font-weight:400;text-align:center}.empSkillLevelTd[_ngcontent-%COMP%]   .checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.empSkillLevelTd[_ngcontent-%COMP%]   .checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{left:0!important;right:0!important;margin:auto;text-align:center}.empSkillLevelTd.EQUAL[_ngcontent-%COMP%], .empSkillLevelTd.NOT_ELIGIBLE[_ngcontent-%COMP%]{background:#99cd3a;color:#000}.tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .checkbox-block.form-check[_ngcontent-%COMP%]{margin:auto;padding:0;text-align:center}.interDetContent[_ngcontent-%COMP%]   .fixedHead[_ngcontent-%COMP%]{max-height:calc(100vh - 25vh)!important;min-height:calc(100vh - 25vh)!important;height:calc(100vh - 25vh)}.interDetContent[_ngcontent-%COMP%]   .fixedHead[_ngcontent-%COMP%]   .skill-table[_ngcontent-%COMP%]   .tableFixHead[_ngcontent-%COMP%], .interDetContent[_ngcontent-%COMP%]   .fixedHead[_ngcontent-%COMP%]   .table-block[_ngcontent-%COMP%]   .tableFixHead[_ngcontent-%COMP%]{overflow-y:auto;max-height:calc(100vh - 28vh)!important;min-height:calc(100vh - 28vh)!important;height:calc(100vh - 28vh);border-bottom:2px solid #b395f1}.fixedColumn[_ngcontent-%COMP%]:nth-child(8){width:120px;right:120px;min-width:120px;max-width:120px}.footerBlock[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:20px 25px!important;border-top:1px solid #e3eaef;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{right:6rem!important}"]}),e})()},{path:"add-ojt-plan",component:ne}];let tt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({imports:[[l.i.forChild(et)],l.i]}),e})();var nt=n("ebz3"),it=n("1yaQ"),lt=n("VX2j");const at={parse:{dateInput:"YYYY"},display:{dateInput:"YYYY",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}},ot={parse:{dateInput:"MM-YYYY"},display:{dateInput:"MM-YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let rt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({providers:[{provide:ot,useValue:at},{provide:"Constant",useValue:lt.a}],imports:[[i.CommonModule,tt,nt.a,c.j,x.b,c.w,v.c,P.c,it.a,C.b]]}),e})()}}]);