(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/wb3":function(e,t,n){"use strict";n.r(t),n.d(t,"MY_FORMATS",function(){return cn}),n.d(t,"SkillMatrixModule",function(){return dn});var l=n("ofXK"),i=n("tyNb"),a=n("Sh6i"),r=n("6K47"),s=n("Iab2"),o=n("3Pt+"),c=n("fXoL"),d=n("1kSV"),m=n("9O41"),h=n("Egam"),p=n("X9RO"),g=n("bFKe");function u(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",29),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().removeFilter()}),c["\u0275\u0275text"](1,"x"),c["\u0275\u0275elementEnd"]()}}function f(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",30),c["\u0275\u0275text"](1,"Filter Applied"),c["\u0275\u0275elementEnd"]())}function D(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"th",43),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e.machineIndex," ")}}function x(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,D,3,1,"ng-container",19),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","empId"!=e.field&&"empName"!=e.field&&"gender"!=e.field&&"experience"!=e.field&&"empLevel"!=e.field)}}function S(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"th",43),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e.levelName," ")}}function b(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,S,3,1,"ng-container",19),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","empId"!=e.field&&"empName"!=e.field&&"gender"!=e.field&&"experience"!=e.field&&"empLevel"!=e.field)}}function v(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"th",43),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e.requiredWorkforce," ")}}function C(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,v,3,1,"ng-container",19),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","empId"!=e.field&&"empName"!=e.field&&"gender"!=e.field&&"experience"!=e.field&&"empLevel"!=e.field)}}const k=function(e,t){return{"second-col":e,"third-col":t}};function L(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"th",44),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](2,k,"empId"===e.field,"empName"===e.field)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.heading," ")}}function I(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,L,3,5,"ng-container",19),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","gender"!=e.field)}}function E(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"td",51),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"](2).$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",n.isObjectEmpty(n.isChecked(t,e.field))?"":n.isChecked(t,e.field).status),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.isObjectEmpty(n.isChecked(t,e.field))?"":n.isChecked(t,e.field).level," ")}}function M(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,E,3,2,"ng-container",19),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","empId"!=e.field&&"empName"!=e.field&&"gender"!=e.field&&"experience"!=e.field&&"empLevel"!=e.field)}}function y(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td",45),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td",46),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td",47),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"td",48),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"td",48),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](11,M,2,1,"ng-container",22),c["\u0275\u0275elementStart"](12,"td",49),c["\u0275\u0275text"](13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"td",50),c["\u0275\u0275text"](15),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"td",50),c["\u0275\u0275text"](17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit,l=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](t+1),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.empId),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.empName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.experience),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.empLevel),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",l.skillMatrixDetails.columns),c["\u0275\u0275advance"](1),c["\u0275\u0275classMap"](l.getSkillLevelClass(n.skillLevel)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.skillLevel,""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",n.skillingPer,"%"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.marks)}}function w(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,y,18,12,"tr",19),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","TL"!=e.empLevel)}}function P(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",53),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.totalCount," ")}}function F(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,P,2,1,"td",52),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.field===n.workstation)}}function A(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,F,2,1,"ng-container",22),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.skillMatrixDetails.columns)}}function O(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"td",51),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"]().$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",n.isObjectEmpty(n.isChecked(t,e.field))?"":n.isChecked(t,e.field).status),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.isObjectEmpty(n.isChecked(t,e.field))?"":n.isChecked(t,e.field).level," ")}}function N(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,O,3,2,"ng-container",19),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","empId"!==e.field&&"empName"!==e.field&&"gender"!==e.field&&"experience"!==e.field&&"empLevel"!==e.field)}}function _(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"tr"),c["\u0275\u0275elementStart"](2,"td",45),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"td",46),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td",47),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td"),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"td"),c["\u0275\u0275text"](11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](12,N,2,1,"ng-container",22),c["\u0275\u0275elementStart"](13,"td",49),c["\u0275\u0275text"](14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"td",49),c["\u0275\u0275text"](16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"td",49),c["\u0275\u0275text"](18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=t.index,l=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](n+1),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.empId),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.empName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.experience),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.empLevel),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",l.skillMatrixDetails.columns),c["\u0275\u0275advance"](1),c["\u0275\u0275classMap"](l.getSkillLevelClass(e.skillLevel)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.skillLevel," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",e.skillingPer,"%"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.marks)}}function V(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"thead"),c["\u0275\u0275elementStart"](2,"tr"),c["\u0275\u0275elementStart"](3,"th",31),c["\u0275\u0275elementStart"](4,"b"),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"th",32),c["\u0275\u0275text"](7,"MACHINE INDEX RATING"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,x,2,1,"ng-container",22),c["\u0275\u0275elementStart"](9,"th",33),c["\u0275\u0275text"](10," NO. OF SHIFTS "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"th",34),c["\u0275\u0275elementStart"](12,"ng-multiselect-dropdown",35),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.shift=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeShift(t)})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeShift(!1)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"tr"),c["\u0275\u0275elementStart"](14,"th",31),c["\u0275\u0275elementStart"](15,"b"),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"th",32),c["\u0275\u0275text"](19,"MIN. SKILL LEVEL REQ."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](20,b,2,1,"ng-container",22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"tr"),c["\u0275\u0275elementStart"](22,"th",31),c["\u0275\u0275elementStart"](23,"div",36),c["\u0275\u0275elementStart"](24,"label"),c["\u0275\u0275elementStart"](25,"b"),c["\u0275\u0275text"](26,"Rev No:- "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"input",37),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().revNo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"th",32),c["\u0275\u0275text"](29,"REQUIRED NUMBER TRAINED"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](30,C,2,1,"ng-container",22),c["\u0275\u0275elementStart"](31,"th",33),c["\u0275\u0275text"](32,"SKILL LEVEL"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"th",38),c["\u0275\u0275text"](34," MULTI SKILL % "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"th",38),c["\u0275\u0275text"](36," MARKS "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](37,"tr"),c["\u0275\u0275elementStart"](38,"th",39),c["\u0275\u0275text"](39,"Sr No"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](40,I,2,1,"ng-container",22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](41,"tbody"),c["\u0275\u0275template"](42,w,2,1,"ng-container",22),c["\u0275\u0275elementStart"](43,"tr"),c["\u0275\u0275elementStart"](44,"td",40),c["\u0275\u0275text"](45,"Actual No Trained"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](46,A,2,1,"ng-container",22),c["\u0275\u0275element"](47,"td",41),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](48,"tr"),c["\u0275\u0275elementStart"](49,"td",42),c["\u0275\u0275text"](50,"Team Leader Skill Level"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](51,_,19,12,"ng-container",22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"]("Doc No:- \xa0 ",(null==e.skillMatrixDocument?null:e.skillMatrixDocument.docName)||"-",""),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",e.skillMatrixDetails.columns),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("placeholder","Select Shift")("settings",e.SingleDropdownSettings)("data",e.shiftList)("ngModel",e.searchDet.shift),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("Rev Date:- \xa0 ",c["\u0275\u0275pipeBind2"](17,15,null==e.skillMatrixDocument?null:e.skillMatrixDocument.currentDate," dd MMMM yyyy"),""),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngForOf",e.skillMatrixDetails.columns),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("ngModel",e.revNo),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",e.skillMatrixDetails.columns),c["\u0275\u0275advance"](10),c["\u0275\u0275property"]("ngForOf",e.skillMatrixDetails.columns),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",e.filteredEmpData),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngForOf",e.skillMatrixDetails.workstationLvlCount),c["\u0275\u0275advance"](3),c["\u0275\u0275attribute"]("colspan",e.skillMatrixDetails.columns.length+3),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",e.filteredSkillMatrixTLData)}}function W(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",56),c["\u0275\u0275text"](1," Data Not Found "),c["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",57),c["\u0275\u0275element"](1,"app-loading"),c["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"tbody"),c["\u0275\u0275elementStart"](2,"tr"),c["\u0275\u0275template"](3,W,2,0,"td",54),c["\u0275\u0275template"](4,T,2,0,"td",55),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",!e.listLoader),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.listLoader)}}function R(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",56),c["\u0275\u0275text"](1," Data Not Found "),c["\u0275\u0275elementEnd"]())}function j(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,R,2,0,"td",54),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.listLoading)}}function Y(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"li",23),c["\u0275\u0275elementStart"](1,"div",24),c["\u0275\u0275elementStart"](2,"label",25),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",0),c["\u0275\u0275elementStart"](5,"div",26),c["\u0275\u0275elementStart"](6,"label",25),c["\u0275\u0275text"](7,"REQD."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](8,"br"),c["\u0275\u0275elementStart"](9,"p",27),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",26),c["\u0275\u0275elementStart"](12,"label",25),c["\u0275\u0275text"](13,"ACT."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](14,"br"),c["\u0275\u0275elementStart"](15,"p",27),c["\u0275\u0275text"](16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",26),c["\u0275\u0275elementStart"](18,"label",25),c["\u0275\u0275text"](19,"GAP"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](20,"br"),c["\u0275\u0275elementStart"](21,"p",27),c["\u0275\u0275text"](22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](e.levelName),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](e.requiredCount||"0"),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](e.actualCount||"0"),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](e.requiredCount&&e.requiredCount>0&&e.requiredCount>e.actualCount?e.requiredCount-e.actualCount:"0")}}function z(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Y,23,4,"li",58),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","L4"!=e.levelName)}}function $(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Please select plant "),c["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",81),c["\u0275\u0275template"](1,$,2,0,"div",19),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.filterData.controls.branchId.errors.required)}}function H(e,t){1&e&&c["\u0275\u0275element"](0,"span",82)}function q(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",83),c["\u0275\u0275text"](1," Loading..."),c["\u0275\u0275elementEnd"]())}function G(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",84),c["\u0275\u0275text"](1,"Apply Filter"),c["\u0275\u0275elementEnd"]())}function Q(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",59),c["\u0275\u0275elementStart"](1,"h4",60),c["\u0275\u0275text"](2,"Filter"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"button",61),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",62),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",63),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.submitFilterForm(t.filterData)}),c["\u0275\u0275elementStart"](7,"div",64),c["\u0275\u0275elementStart"](8,"perfect-scrollbar"),c["\u0275\u0275elementStart"](9,"div",65),c["\u0275\u0275elementStart"](10,"label",66),c["\u0275\u0275text"](11,"Plant "),c["\u0275\u0275elementStart"](12,"span",67),c["\u0275\u0275text"](13,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",68),c["\u0275\u0275elementStart"](15,"ng-multiselect-dropdown",69),c["\u0275\u0275listener"]("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeBranch(t)})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeBranch(!1)})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.branch=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,U,2,1,"div",70),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",65),c["\u0275\u0275elementStart"](18,"label",71),c["\u0275\u0275text"](19,"Department "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",68),c["\u0275\u0275elementStart"](21,"ng-multiselect-dropdown",72),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.dept=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeDept(t)})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeDept(!1)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",65),c["\u0275\u0275elementStart"](23,"label",73),c["\u0275\u0275text"](24,"Cell / Line "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"div",68),c["\u0275\u0275elementStart"](26,"ng-multiselect-dropdown",74),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.cell=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeCell(t)})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeCell(!1)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"div",75),c["\u0275\u0275elementStart"](28,"button",76),c["\u0275\u0275template"](29,H,1,0,"span",77),c["\u0275\u0275template"](30,q,2,0,"span",78),c["\u0275\u0275template"](31,G,2,0,"span",79),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"button",80),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275text"](33,"Cancel "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("formGroup",e.filterData),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("placeholder","Select Plant")("settings",e.SingleDropdownSettings)("data",e.branchAccessList)("ngModel",e.searchDet.branch),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.filterData.controls.branchId.invalid&&(e.filterData.controls.branchId.touched||e.filterData.controls.branchId.dirty)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("placeholder","Select Department")("settings",e.SingleDropdownSettings)("data",e.deptList)("ngModel",e.searchDet.dept),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("placeholder","Select Cell / Line")("settings",e.SingleDropdownSettings)("data",e.cellList)("ngModel",e.searchDet.cell),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",e.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.submitSpinner)}}const J=function(e,t){return{"fa-search":e,"fa-times-circle":t}},K=function(e){return{applied:e}};let X=(()=>{class e{constructor(e,t,n,l){this.apiService=e,this.modalService=t,this.fb=n,this.listLoader=!1,this.exportLoader=!1,this.skillMatrixDetails={},this.searchDet={},this.SingleDropdownSettings={},this.SingleCellDropdownSettings={},this.branchAccessList=[],this.userDet={},this.selectedBranch={},this.deptList=[],this.cellList=[],this.constant={},this.filterFlag=!1,this.isAppliedFilter=!1,this.hasSkillMatrixData=!1,this.revNo=[],this.shiftList=[{id:1,name:1},{id:2,name:2},{id:3,name:3}],this.filteredSkillMatrixTLData=[],this.sheetColumns=[],this.constant=l}ngOnInit(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.searchDet.shift=[this.shiftList[0]],this.searchDet.branch=[{id:this.userDet.branch.branchId,name:this.userDet.branch.name}],this.getBranchAccessList(),this.searchDet.isDefaultWorking=!0,this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.filterData=this.fb.group({branchId:new o.f("",o.z.required),deptId:new o.f(""),lineIds:new o.f("")})}getBranchAccessList(){this.apiService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(e=>{this.branchAccessList=e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?this.setArray(e.branchAccessList,"branchId","branchName"):[{id:this.userDet.branch.branchId,name:this.userDet.branch.name}],this.branchAccessList=this.sortFunction(this.branchAccessList,"name"),this.getDeptList()})}onChangeBranch(e){this.searchDet.isDefaultWorking=!1,e?(this.deptList=[],this.searchDet.dept=[],this.cellList=[],this.searchDet.cell=[],this.searchDet.branch=[{id:e.id,name:e.name}],this.getDeptList()):(this.deptList=[],this.searchDet.dept=[],this.cellList=[],this.searchDet.cell=[])}getDeptList(){null!=this.searchDet.branch&&this.searchDet.branch.length>0&&this.apiService.getdepartmentlistbybranchid("getdepartmentlistbybranchid/"+this.searchDet.branch[0].id).subscribe(e=>{e.result&&null!=e.deptList&&e.deptList.length>0?(this.deptList=this.setArray(e.deptList,"deptId","deptName"),this.deptList=this.sortFunction(this.deptList,"deptName"),this.searchDet.isDefaultWorking&&(this.searchDet.dept=[this.deptList[0]],this.getCellList())):this.deptList=[]})}getCellList(){var e={branchId:this.searchDet.branch[0].id};null!=this.searchDet.dept&&this.searchDet.dept.length>0&&(e.deptId=this.searchDet.dept[0].id),this.apiService.getCellList("apis/sm/getCellList",e).subscribe(e=>{e.result&&null!=e.dataList&&e.dataList.length>0?(e.dataList=this.sortFunction(e.dataList,"lineName"),this.cellList=this.setArray(e.dataList,"lineId","lineName"),this.searchDet.cell=[this.cellList[0]],this.searchDet.filterFlag||this.getSkillMatixData()):this.cellList=[]})}onChangeCell(e){this.searchDet.isDefaultWorking=!1}onChangeDept(e){this.searchDet.isDefaultWorking=!1,e?(this.getCellList(),this.cellList=[],this.searchDet.cell=[]):(this.cellList=[],this.searchDet.cell=[],this.searchDet.dept=[])}isObjectEmpty(e){return 0==Object.keys(e).length}getSkillMatixData(){let e;this.skillMatrixDetails={},this.skillMatrixDocument={},this.filteredSkillMatrixTLData=[],this.listLoader=!0,null!=this.searchDet.cell&&this.searchDet.cell.length>0&&(e=this.cellList.filter(e=>e.id==this.searchDet.cell[0].id));let t={orgId:this.userDet.organization.orgId};null!=this.searchDet.shift&&this.searchDet.shift.length>0&&(t.shiftNo=this.searchDet.shift[0].id),null!=this.searchDet.branch&&this.searchDet.branch.length>0&&(t.branchId=this.searchDet.branch[0].id),null!=this.searchDet.dept&&this.searchDet.dept.length>0&&(t.deptId=this.searchDet.dept[0].id),null!=this.searchDet.cell&&this.searchDet.cell.length>0&&(t.lineId=this.searchDet.cell[0].id),this.getSkillMatrixListForExport={},this.hasSkillMatrixData=!1,this.multiskillingPercentage=0,this.apiService.getSkillMatrixData("apis/sm/getSkillMatrixList",t).subscribe(e=>{var t;if(this.listLoader=!1,e.result){if(this.getSkillMatrixListForExport=null!==(t=e.data.skillMatrixDetails)&&void 0!==t?t:{},this.hasSkillMatrixData=null!=e.data.skillMatrixDetails,e.data.hasOwnProperty("levelSummary")&&null!=e.data.levelSummary&&e.data.levelSummary.length>0){for(let t=0;t<e.data.levelSummary.length;t++)e.data.levelSummary[t].requiredCount=e.data.levelSummary[t].requiredCount?Math.round(e.data.levelSummary[t].requiredCount):0,e.data.levelSummary[t].actualCount=e.data.levelSummary[t].actualCount?Math.round(e.data.levelSummary[t].actualCount):0;e.data.levelSummary=this.sortFunction(e.data.levelSummary,"levelId")}if(this.skillMatrixDetails=e.data,null!=e.data.tableData&&e.data.tableData.length>0){this.skillMatrixDetails.tableEmpData=[],this.filteredEmpData=[];for(let t=0;t<e.data.tableData.length;t++)"TL"!=e.data.tableData[t].empLevel&&(this.skillMatrixDetails.tableEmpData.push(e.data.tableData[t]),this.multiskillingPercentage+=e.data.tableData[t].skillingPer);this.multiskillingPercentage=Math.round(this.multiskillingPercentage/this.skillMatrixDetails.tableEmpData.length),this.filteredEmpData=this.skillMatrixDetails.tableEmpData}this.skillMatrixDocument=e.data.documentName}else this.skillMatrixDetails={};this.filteredSkillMatrixTLData=this.skillMatrixDetails.tableData.filter(e=>"TL"==e.empLevel)},e=>{this.listLoader=!1})}getCombinedHeader(e){return`${this.skillMatrixDetails.columns.find(t=>t.field==e).heading}`}getHeadingWithLevel(e){return` ${e.heading}`}getWorkStationLength(){let e=0;if(!this.isObjectEmpty(this.skillMatrixDetails)&&null!=this.skillMatrixDetails.columns&&0!=this.skillMatrixDetails.columns.length)for(let t=0;t<this.skillMatrixDetails.columns.length;t++)"empId"!=this.skillMatrixDetails.columns[t].field&&"empName"!=this.skillMatrixDetails.columns[t].field&&"gender"!=this.skillMatrixDetails.columns[t].field&&"experience"!=this.skillMatrixDetails.columns[t].field&&"empLevel"!=this.skillMatrixDetails.columns[t].field&&e++;return e}setArray(e,t,n){let l=[];if(null!=e&&e.length>0)for(const i of e)i.id=i[t],i.name=i[n],l.push(i);return l}isChecked(e,t){for(let n in e)if(t==n)return!this.isObjectEmpty(e)&&e[n].hasOwnProperty("currentSkillLevelId")?1==e[n].currentSkillLevelId?{status:this.constant.EQUAL,level:e[n].currentSkillLevel}:2==e[n].currentSkillLevelId?{status:this.constant.ELIGIBLE,level:e[n].currentSkillLevel}:3==e[n].currentSkillLevelId||4==e[n].currentSkillLevelId?{status:this.constant.NOT_ELIGIBLE,level:e[n].currentSkillLevel}:{status:this.constant.OTHER,level:" "}:{status:this.constant.OTHER,level:" "};return{}}getSkillLevelClass(e){switch(e){case"L1":return"red-background";case"L2":return"gray-background";case"L3":case"L4":return"green-background";default:return"white-background"}}exportSkillMatrix(){this.exportLoader=!0;let e=new r.Workbook,t=e.addWorksheet("Skill Matrix",{});this.sheetColumns=[{header:"",key:"sr",width:30},{header:"",key:"empName",width:30},{header:"",key:"empName",width:30},{header:"MACHINE INDEX RATING",key:"MACHINE_INDEX_RATING",width:30}];for(let n=0;n<this.skillMatrixDetails.columns.length;n++)"empId"!=this.skillMatrixDetails.columns[n].field&&"empName"!=this.skillMatrixDetails.columns[n].field&&"gender"!=this.skillMatrixDetails.columns[n].field&&"experience"!=this.skillMatrixDetails.columns[n].field&&"empLevel"!=this.skillMatrixDetails.columns[n].field&&this.sheetColumns.push({header:this.skillMatrixDetails.columns[n].machineIndex,key:this.skillMatrixDetails.columns[n].machineIndex,width:30});t.columns=this.sheetColumns,this.sheetColumns=[],t.mergeCells("A1","C1"),this.sheetColumns=[{header:"",key:"sr",width:30},{header:"",key:"empName",width:30},{header:"",key:"empName",width:30},{header:"MIN. SKILL LEVEL REQ.",key:"MIN_SKILL_LEVEL_REQ",width:30}];for(let n=0;n<this.skillMatrixDetails.columns.length;n++)"empId"!=this.skillMatrixDetails.columns[n].field&&"empName"!=this.skillMatrixDetails.columns[n].field&&"gender"!=this.skillMatrixDetails.columns[n].field&&"experience"!=this.skillMatrixDetails.columns[n].field&&"empLevel"!=this.skillMatrixDetails.columns[n].field&&this.sheetColumns.push({header:this.skillMatrixDetails.columns[n].levelName,key:this.skillMatrixDetails.columns[n].levelName,width:30});t.columns=this.sheetColumns,e.xlsx.writeBuffer().then(e=>{let t=new Blob([e],{type:"xlsx"});s.saveAs(t,"Skill_Matrix.xlsx")}),this.exportLoader=!1}exportReport(){let e=[],t=this.skillMatrixDetails.columns.filter(e=>e.machineIndex).length,n=5+t;if(null!=this.skillMatrixDocument&&null!=this.skillMatrixDocument)var l=new Date(this.skillMatrixDocument.currentDate).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"});if(this.hasSkillMatrixData){let t={};t.c0="Cell Name:-"+this.getSkillMatrixListForExport.lineName,e.push(t)}for(let r=0;r<3;r++){let i={};if(0===r?i.c0=null!=this.skillMatrixDocument?"Doc No:-"+this.skillMatrixDocument.docName:"Doc No:-":1===r?i.c0=null!=l?"Rev Date:-"+l:"Rev Date:-":2===r&&(i.c0=null!=this.revNo&&""!=this.revNo?"Rev No:- "+this.revNo:"Rev No:- "),0==r?i.c3="MACHINE INDEX RATING":1==r?i.c3="MIN. SKILL LEVEL REQ.":2==r&&(i.c3="REQUIRED NUMBER TRAINED"),0==r){for(let e=5;e<t+5;e++)i["c"+e]=this.skillMatrixDetails.columns[e].machineIndex;i["c"+(t+5)]="NO. OF SHIFTS",n++,i["c"+(t+6)]=this.searchDet.shift[0].id,n++}else if(1==r)for(let e=5;e<t+5;e++)i["c"+e]=this.skillMatrixDetails.columns[e].levelName;else if(2==r){for(let e=5;e<t+5;e++)i["c"+e]=this.skillMatrixDetails.columns[e].requiredWorkforce;i["c"+(t+5)]="SKILL LEVEL",n++,i["c"+(t+6)]="MULTI SKILL %",n++,i["c"+(t+7)]="MARKS",n++}console.log(i),e.push(i)}let i=[],a={c0:"Sr No",c1:"Emp Id",c2:"Name",c3:"Exp",c4:"Employee Level"};for(let r=5;r<t+5;r++)a["c"+r]=this.skillMatrixDetails.columns[r].field,i.push(this.skillMatrixDetails.columns[r].field);e.push(a);let o=[];o.push(10),o.push(10),o.push(20),o.push(10),o.push(20);let c=[],d=0;for(let r=0;r<this.skillMatrixDetails.tableEmpData.length;r++)if("TL"!=this.skillMatrixDetails.tableEmpData[r].empLevel){let n={};n.c0=r+1,n.c1=this.skillMatrixDetails.tableEmpData[r].empId,n.c2=this.skillMatrixDetails.tableEmpData[r].empName,n.c3=this.skillMatrixDetails.tableEmpData[r].experience,n.c4=this.skillMatrixDetails.tableEmpData[r].empLevel;for(let e=5;e<t+5;e++)for(var m in o.push(20),this.skillMatrixDetails.tableEmpData[r])if(m==i[e-5]){let t=this.isChecked(this.skillMatrixDetails.tableEmpData[r],m);n["c"+e]=t.level,t.status==this.constant.EQUAL&&c.push({row:r+5,col:e+1});break}n["c"+(t+5)]=this.skillMatrixDetails.tableEmpData[r].skillLevel,n["c"+(t+6)]=this.skillMatrixDetails.tableEmpData[r].skillingPer+"%",n["c"+(t+7)]=this.skillMatrixDetails.tableEmpData[r].marks,e.push(n),d++}if(null!=this.skillMatrixDetails.workstationLvlCount){let t={c0:"Actual No Trained",c1:"",c2:"",c3:"",c4:""},n=5;for(let e=0;e<this.skillMatrixDetails.workstationLvlCount.length;e++)t["c"+n]=this.skillMatrixDetails.workstationLvlCount[e].totalCount,n++;e.push(t)}if(e.push({}),null!=this.filteredSkillMatrixTLData){let t={c0:"Team Leader Skill Level",c1:"",c2:"",c3:"",c4:""},n=5;for(let e=0;e<this.skillMatrixDetails.workstationLvlCount.length+5;e++)t["c"+n]="",n++;e.push(t)}e.push({});for(let r=0;r<this.filteredSkillMatrixTLData.length;r++)if("TL"===this.filteredSkillMatrixTLData[r].empLevel){let n={};n.c0=r+1,n.c1=this.filteredSkillMatrixTLData[r].empId,n.c2=this.filteredSkillMatrixTLData[r].empName,n.c3=this.filteredSkillMatrixTLData[r].experience,n.c4=this.filteredSkillMatrixTLData[r].empLevel;for(let e=5;e<t+5;e++)for(var m in o.push(20),this.filteredSkillMatrixTLData[r])if(m==i[e-5]){let t=this.isChecked(this.filteredSkillMatrixTLData[r],m);n["c"+e]=t.level,t.status==this.constant.EQUAL&&c.push({row:r+5,col:e+1});break}n["c"+(t+5)]=this.filteredSkillMatrixTLData[r].skillLevel,n["c"+(t+6)]=this.filteredSkillMatrixTLData[r].skillingPer+"%",n["c"+(t+7)]=this.filteredSkillMatrixTLData[r].marks,e.push(n)}e.push({});for(let r=0;r<this.skillMatrixDetails.tableEmpData.length;r++)if("TL"===this.skillMatrixDetails.tableEmpData[r].empLevel){let n={};n.c0=r+1,n.c1=this.skillMatrixDetails.tableEmpData[r].empId,n.c2=this.skillMatrixDetails.tableEmpData[r].empName,n.c3=this.skillMatrixDetails.tableEmpData[r].experience,n.c4=this.skillMatrixDetails.tableEmpData[r].empLevel;for(let e=5;e<t+5;e++)for(var m in o.push(20),this.skillMatrixDetails.tableEmpData[r])if(m==i[e-5]){let t=this.isChecked(this.skillMatrixDetails.tableEmpData[r],m);n["c"+e]=t.level,t.status==this.constant.EQUAL&&c.push({row:r+5,col:e+1});break}n["c"+(t+5)]=this.skillMatrixDetails.tableEmpData[r].skillLevel,n["c"+(t+6)]=this.skillMatrixDetails.tableEmpData[r].skillingPer+"%",n["c"+(t+7)]=this.skillMatrixDetails.tableEmpData[r].marks,e.push(n)}a={},a.c0="Skill Level",a.c1="REQD.",a.c2="ACT.",a.c3="GAP",e.push(a);for(let r=0;r<this.skillMatrixDetails.levelSummary.length;r++)"L4"!=this.skillMatrixDetails.levelSummary[r].levelName&&(a={},a.c0="L"+(r+1),a.c1=this.skillMatrixDetails.levelSummary[r].requiredCount,a.c2=this.skillMatrixDetails.levelSummary[r].actualCount,a.c3=this.skillMatrixDetails.levelSummary[r].requiredCount&&this.skillMatrixDetails.levelSummary[r].requiredCount>0&&this.skillMatrixDetails.levelSummary[r].requiredCount>this.skillMatrixDetails.levelSummary[r].actualCount?this.skillMatrixDetails.levelSummary[r].requiredCount-this.skillMatrixDetails.levelSummary[r].actualCount:0,e.push(a));e.push({}),a={},a.c0="Average Multiskilling %",a.c1=this.multiskillingPercentage+" %",e.push(a);let h=[],p=new r.Workbook,g=p.addWorksheet("Skill Matrix",{});for(let r=0;r<n;r++)h.push({key:["c"+r],width:o[r]});g.columns=h;var u=[],f={};Object.assign({},f),e.forEach(e=>{for(var t in f={},e)f[t]=e[t];u.push(f)}),g.addRows(u,"n");for(let r=1;r<4;r++)g.mergeCells(r,4,r,5);g.mergeCells(d+6,1,d+6,5),g.mergeCells(d+7,1,d+7,this.skillMatrixDetails.workstationLvlCount.length+5+3);for(let r=1;r<5;r++)g.getRow(r).font={bold:!0};for(let r=1;r<4;r++){let e=g.getRow(r);for(let t=6;t<=e.cellCount;t++)e.getCell(t).alignment={vertical:"middle",horizontal:"center"}}let D=6+this.skillMatrixDetails.tableEmpData.length;g.getRow(D).font={bold:!0};for(let r=5;r<this.skillMatrixDetails.tableEmpData.length+5;r++)g.getRow(r).eachCell((e,t)=>{t>5&&(e.border={top:{style:"double",color:{argb:"f6f6f6"}},left:{style:"double",color:{argb:"f6f6f6"}},bottom:{style:"double",color:{argb:"f6f6f6"}},right:{style:"double",color:{argb:"f6f6f6"}}},e.alignment={vertical:"middle",horizontal:"center"})});D=this.hasSkillMatrixData?6+this.skillMatrixDetails.tableEmpData.length+this.filteredSkillMatrixTLData.length+5:6+this.skillMatrixDetails.tableEmpData.length+this.filteredSkillMatrixTLData.length+4;for(let r=0;r<this.skillMatrixDetails.levelSummary.length;r++){let e=g.getRow(D+r+1);e.alignment={horizontal:"center"},1==this.skillMatrixDetails.levelSummary[r].levelId?e.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}}:2==this.skillMatrixDetails.levelSummary[r].levelId?e.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"D9D9D9"}}:3==this.skillMatrixDetails.levelSummary[r].levelId&&(e.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"99cd3a"}})}let x=[],S=[];for(let r=0;r<this.skillMatrixDetails.tableEmpData.length;r++)"TL"!==this.skillMatrixDetails.tableEmpData[r].empLevel?x.push(this.skillMatrixDetails.tableEmpData[r]):S.push(this.skillMatrixDetails.tableEmpData[r]);for(let r=5;r<x.length+5;r++){let e=g.getRow(r);for(let n=6;n<t+5+4;n++){let t=!1;c.forEach(e=>{e.row===r&&e.col===n&&(t=!0)});let l=e.getCell(n).value;"L1"===l?(e.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}},e.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L2"===l?(e.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"D9D9D9"}},e.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L3"===l||"L4"===l?(e.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"99cd3a"}},e.getCell(n).alignment={vertical:"middle",horizontal:"center"}):e.getCell(n).alignment={vertical:"middle",horizontal:"center"}}}for(let r=5+x.length;r<this.skillMatrixDetails.tableEmpData.length+5+4;r++){let e=g.getRow(r);for(let n=6;n<t+5+4;n++){let t=!1;c.forEach(e=>{e.row===r&&e.col===n&&(t=!0)});let l=e.getCell(n).value;"L1"===l?(e.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}},e.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L2"===l?(e.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"D9D9D9"}},e.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L3"===l||"L4"===l?(e.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"99cd3a"}},e.getCell(n).alignment={vertical:"middle",horizontal:"center"}):e.getCell(n).alignment={vertical:"middle",horizontal:"center"}}}for(let r=5;r<this.skillMatrixDetails.workstationLvlCount.length+5;r++){let e=g.getRow(r);for(let n=6;n<t+5+1+1;n++){let t=!1;c.forEach(e=>{e.row===r&&e.col===n&&(t=!0)});let l=e.getCell(n).value;"L1"===l?(e.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}},e.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L2"===l?(e.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"D9D9D9"}},e.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L3"===l||"L4"===l?(e.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"99cd3a"}},e.getCell(n).alignment={vertical:"middle",horizontal:"center"}):e.getCell(n).alignment={vertical:"middle",horizontal:"center"}}}for(let r=1;r<4;r++)g.mergeCells(r,1,r,3);const b={L1:"FF0000",L2:"D9D9D9",L3:"99CD3A",L4:"99CD3A"},v=["Actual No Trained","Team Leader Skill Level","Skill Level","Average Multiskilling %"];g.eachRow((e,t)=>{t>3&&e.eachCell(e=>{let t=e.value?e.value.toString():"";b[t]&&(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:b[t]}},e.alignment={vertical:"middle",horizontal:"center"},e.font={bold:!0},e.border={top:{style:"thin",color:{argb:"808080"}},bottom:{style:"thin",color:{argb:"808080"}},left:{style:"thin",color:{argb:"808080"}},right:{style:"thin",color:{argb:"808080"}}}),v.includes(t)&&(e.alignment={vertical:"middle",horizontal:"left"},e.font={bold:!0});const n=e.col;(g.getColumn(n).width||10)<20&&(g.getColumn(n).width=20)}),t===(this.hasSkillMatrixData?4:3)&&e.eachCell((e,t)=>{t>5&&(e.alignment={vertical:"middle",horizontal:"center"})})}),g.getColumn(13).alignment={vertical:"middle",horizontal:"center"},g.getColumn(14).alignment={vertical:"middle",horizontal:"center"},p.xlsx.writeBuffer().then(e=>{let t=new Blob([e],{type:"xlsx"});s.saveAs(t,"Skill Matrix.xlsx")})}testCell(){return!0}sortFunction(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var l=Number(e[t])?e[t]:e[t].toUpperCase(),i=Number(n[t])?n[t]:n[t].toUpperCase();return l<i?-1:l>i?1:0}),e}getSearchList(e){}getSkillMatrixDetails(){}getBCForfReqSkillLvl(e){switch(e){case"Level 1":return"white";case"Level 2":return"yellow";case"Level 3":case"Level 4":return"#acc906";default:return""}}getLevelNameForWorkstation(e,t){const n=e.workstations.find(e=>e.id===t);return n?n.levelName:""}getBackgroundColorForLevel(e,t){switch(this.getLevelNameForWorkstation(e,t)){case"Level 1":return"white";case"Level 2":return"yellow";case"Level 3":case"Level 4":return"#acc906";default:return""}}getHighestWorkstationLevel(e){const t=e.reduce((e,t)=>!e||t.reqSkillLevelId>e.reqSkillLevelId?t:e,null);return t?t.levelName:""}getBackgroundColorForHighestLevel(e){switch(this.getHighestWorkstationLevel(e)){case"Level 1":return"white";case"Level 2":return"yellow";case"Level 3":case"Level 4":return"#acc906";default:return""}}filterModalOpen(e){this.searchDet.filterFlag=!0,this.modalService.open(e,{windowClass:"filterPopup",backdrop:"static",keyboard:!1})}submitFilterForm(e){e.invalid?Object.keys(e.controls).forEach(t=>{e.controls[t].markAsDirty()}):(this.isAppliedFilter=!0,this.searchDet.filterFlag=!1,this.modalService.dismissAll(),this.getSkillMatixData())}removeFilter(){this.isAppliedFilter=!1,this.filterData.reset(),this.searchDet.branch=[{id:this.userDet.branch.branchId,name:this.userDet.branch.name}],this.searchDet.branchId=[],this.searchDet.deptId=[],this.searchDet.lineIds=[],this.searchDet.dept=[],this.searchDet.cell=[],this.searchDet.fromDate=null,this.searchDet.toDate=null,this.getSkillMatixData()}onChangeShift(e){this.getSkillMatixData()}filterList(){const e=this.searchInput.trim().toLowerCase();this.filteredEmpData=this.skillMatrixDetails.tableEmpData.filter(t=>Object.values(t).some(t=>t.toString().toLowerCase().includes(e)))}clearSearch(){this.searchInput="",this.filteredEmpData=[...this.skillMatrixDetails.tableEmpData]}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](a.a),c["\u0275\u0275directiveInject"](d.j),c["\u0275\u0275directiveInject"](o.e),c["\u0275\u0275directiveInject"]("Constant"))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-skill-matrix"]],decls:39,vars:15,consts:[[1,"row","m-0"],[1,"col-7","m-auto"],["title","Home",2,"max-width","200px"],[1,"col-3","m-auto","main"],[1,"form-group","has-search",2,"margin-top","20px","max-width","220px"],[1,"fa","form-control-feedback",3,"ngClass","click"],["type","text","name","searchInput","placeholder","Search by Emp Id, Name","autocomplete","off",1,"form-control",2,"border","1px solid #7044cd","background-color","transparent","border-radius","12px","min-width","218px",3,"ngModel","ngModelChange","input"],[1,"col-2","p-0","m-auto",2,"display","flex","gap","30px"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],["src","assets/images/ic_excel.png","alt","",1,"img-fluid","btn-excel-export",2,"height","37px","width","30px",3,"click"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"table-block","skill-table"],[1,"table-responsive","tableFixHead"],["id","tbl-skill-matrix",1,"table","table-bordered"],[4,"ngIf"],[1,"pr"],[1,"count-block"],[4,"ngFor","ngForOf"],[1,"countLi"],[1,"headerBlock"],[1,"heading"],[1,"col-4","text-center","m-auto","p-l-5","p-r-5"],[1,"m-0","count"],["FilterModal",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],["colspan","3","scope","col",1,"first-col"],["colspan","2","scope","col",1,""],["rowspan","2","scope","col",1,"vertical-text"],["rowspan","2","colspan","2","scope","col",1,"vertical-text"],["name","shift",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],[1,"input-wrapper"],["placeholder","Enter Rev No","id","revNo","name","revNo","type","number","pattern","^\\d{1,2}$",1,"form-control","checksheetinputBox",3,"ngModel","ngModelChange"],["rowspan","2","scope","col",1,"vertical-text",2,"position","static !important"],["scope","col",1,"first-col","first-col-head"],["colspan","5",2,"text-align","center"],["colspan","3"],[2,"padding-left","15em"],["scope","col",1,"text-center"],["scope","col",1,"",3,"ngClass"],[1,"first-col-td"],[1,"second-col-td"],[1,"third-col-td"],[1,""],[2,"text-align","center"],[1,"",2,"text-align","center"],[1,"text-center","empSkillLevelTd",3,"ngClass"],["class","text-center empSkillLevelTd",4,"ngIf"],[1,"text-center","empSkillLevelTd"],["colspan","11","class","text-center no-record-found",4,"ngIf"],["colspan","11","class","text-center loading-div",4,"ngIf"],["colspan","11",1,"text-center","no-record-found"],["colspan","11",1,"text-center","loading-div"],["class","countLi",4,"ngIf"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","moduleId",1,"col-sm-12","col-form-label","filter-label"],[1,"astrik"],[1,"col-sm-12"],["name","selectedModuleId","formControlName","branchId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],["for","dept",1,"col-sm-12","col-form-label","filter-label"],["name","dept","formControlName","deptId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],["for","cell",1,"col-sm-12","col-form-label","filter-label"],["name","cell","formControlName","lineIds",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],["type","button","aria-label","Close",1,"btn","cancelBtn",3,"click"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275element"](2,"app-topBar",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275element"](4,"div"),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275elementStart"](6,"span",5),c["\u0275\u0275listener"]("click",function(){return t.clearSearch()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"input",6),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchInput=e})("input",function(){return t.filterList()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",7),c["\u0275\u0275elementStart"](9,"div",8),c["\u0275\u0275elementStart"](10,"button",9),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](38);return t.filterModalOpen(n)}),c["\u0275\u0275element"](11,"i",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](12,u,2,0,"div",11),c["\u0275\u0275template"](13,f,2,0,"div",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"img",13),c["\u0275\u0275listener"]("click",function(){return t.exportReport()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div",14),c["\u0275\u0275element"](16,"div",15),c["\u0275\u0275elementStart"](17,"div",16),c["\u0275\u0275elementStart"](18,"div",17),c["\u0275\u0275elementStart"](19,"table",18),c["\u0275\u0275template"](20,V,52,18,"ng-container",19),c["\u0275\u0275template"](21,B,5,2,"ng-container",19),c["\u0275\u0275template"](22,j,2,1,"tr",19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"div",20),c["\u0275\u0275elementStart"](24,"ul",21),c["\u0275\u0275template"](25,z,2,1,"ng-container",22),c["\u0275\u0275elementContainerStart"](26),c["\u0275\u0275elementStart"](27,"li",23),c["\u0275\u0275elementStart"](28,"div",24),c["\u0275\u0275elementStart"](29,"label",25),c["\u0275\u0275text"](30,"Average Multiskilling %"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"div",0),c["\u0275\u0275elementStart"](32,"div",26),c["\u0275\u0275element"](33,"label",25),c["\u0275\u0275element"](34,"br"),c["\u0275\u0275elementStart"](35,"p",27),c["\u0275\u0275text"](36),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](37,Q,34,17,"ng-template",null,28,c["\u0275\u0275templateRefExtractor"])}2&e&&(c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](10,J,!t.searchInput,t.searchInput)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.searchInput),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](13,K,t.isAppliedFilter)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.isAppliedFilter),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAppliedFilter),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("ngIf",!t.isObjectEmpty(t.skillMatrixDetails)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isObjectEmpty(t.skillMatrixDetails)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==t.filteredEmpData||0==t.filteredEmpData.length),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",t.skillMatrixDetails.levelSummary),c["\u0275\u0275advance"](11),c["\u0275\u0275textInterpolate1"]("",t.multiskillingPercentage," %"))},directives:[m.a,l.NgClass,o.c,o.o,o.r,l.NgIf,l.NgForOf,h.a,o.t,o.u,p.a,o.A,o.p,o.h,g.b,o.g],pipes:[l.DatePipe],styles:[".logo[_ngcontent-%COMP%]{height:20px}.insideLabel[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:0;font:normal normal 700 12px/1.5 Helvetica Neue;left:1.5rem;color:#7044cd}.center-align[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.bg-l1[_ngcontent-%COMP%]{background-color:red}.bg-l2[_ngcontent-%COMP%]{background-color:#d9d9d9}.bg-l3[_ngcontent-%COMP%]{background-color:green}.skill-table[_ngcontent-%COMP%]{margin-top:5px;border-top:1px solid #d3d3d3}.skill-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{box-shadow:none!important;border-color:#d3d3d3;border-width:1px}.excelbutton[_ngcontent-%COMP%]{cursor:pointer}.excelbutton[_ngcontent-%COMP%]   .excelFont[_ngcontent-%COMP%]{font:normal normal 500 11px/1.5 Helvetica Neue}.empSkillLevelTd[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:#000!important;font-weight:400;text-align:center}.empSkillLevelTd.EQUAL[_ngcontent-%COMP%]{background:red}.empSkillLevelTd.ELIGIBLE[_ngcontent-%COMP%]{background:#d9d9d9}.empSkillLevelTd.NOT_ELIGIBLE[_ngcontent-%COMP%]{background:#99cd3a}.empSkillLevelTd.OTHER[_ngcontent-%COMP%]{background:#fff}.red-background[_ngcontent-%COMP%]{background:red}.gray-background[_ngcontent-%COMP%]{background:#d9d9d9}.green-background[_ngcontent-%COMP%]{background:#99cd3a}.white-background[_ngcontent-%COMP%]{background:#fff}.count-block[_ngcontent-%COMP%]{padding:0;margin:0;display:inline-block;width:100%}.count-block[_ngcontent-%COMP%]   .countLi[_ngcontent-%COMP%]{float:left;list-style:none;width:22%;background:#fff;padding:0 10px 5px;margin:10px 10px 5px;border-radius:5px;box-shadow:0 0 8px #8e8e8e}.count-block[_ngcontent-%COMP%]   .countLi[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:normal normal normal 13px/1.5 Helvetica Neue;margin:0}.count-block[_ngcontent-%COMP%]   .countLi[_ngcontent-%COMP%]   .headerBlock[_ngcontent-%COMP%]{border-bottom:1px solid #7044cd;margin:0 -10px;padding:0 10px}.count-block[_ngcontent-%COMP%]   .countLi[_ngcontent-%COMP%]   .headerBlock[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{color:#7044cd;padding:5px;font-weight:700}.count-block[_ngcontent-%COMP%]   .countLi[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font:normal normal 700 14px/1.5 Helvetica Neue;color:#000}.btn-excel-export[_ngcontent-%COMP%]{cursor:pointer}.input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.form-control[_ngcontent-%COMP%]{margin-top:-9px;height:calc(1.5em + .75rem + -4px);margin-bottom:-10px}.vertical-text[_ngcontent-%COMP%]{vertical-align:middle}.text-center[_ngcontent-%COMP%]{text-align:center}.first-col[_ngcontent-%COMP%]{left:0}.first-col[_ngcontent-%COMP%], .second-col[_ngcontent-%COMP%]{position:sticky;top:0;width:100px;z-index:5}.second-col[_ngcontent-%COMP%]{left:68px}.third-col[_ngcontent-%COMP%]{position:sticky;left:145px;top:0;width:100px;z-index:5}.first-col-td[_ngcontent-%COMP%]{left:0}.first-col-td[_ngcontent-%COMP%], .second-col-td[_ngcontent-%COMP%]{position:sticky;*position:relative;width:100px;z-index:4}.second-col-td[_ngcontent-%COMP%]{left:68px}.third-col-td[_ngcontent-%COMP%]{position:sticky;*position:relative;left:145px;width:100px;z-index:4}.extraContent[_ngcontent-%COMP%]{margin-left:12px;padding:2px 10px 0 5px}.main[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}"]}),e})();var Z=n("wd/R"),ee=n("Dh3D"),te=n("h77R"),ne=n("qFsG"),le=n("iadO");function ie(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",38),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().removeFilter()}),c["\u0275\u0275text"](1,"x"),c["\u0275\u0275elementEnd"]()}}function ae(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",39),c["\u0275\u0275text"](1,"Filter Applied"),c["\u0275\u0275elementEnd"]())}function re(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",40),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().getSearchList(!0)}),c["\u0275\u0275elementEnd"]()}}function se(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",41),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().getSearchList(!1)}),c["\u0275\u0275elementEnd"]()}}const oe=function(e,t){return{completed:e,pending:t}};function ce(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td",42),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"td"),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td"),c["\u0275\u0275text"](12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"td"),c["\u0275\u0275text"](14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"td"),c["\u0275\u0275text"](16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"td"),c["\u0275\u0275text"](18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"td"),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"td"),c["\u0275\u0275text"](23),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"td",43),c["\u0275\u0275text"](25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.branchName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.assignedEmpId),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.assignedEmpName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.cmpyEmpId),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.oeEmpName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.deptName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.lineName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.workstation),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.currentSkillLevel),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.activityDate?c["\u0275\u0275pipeBind2"](21,13,e.activityDate,"dd-MM-yyyy"):"N/A"),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](e.activity),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](16,oe,"COMPLETED"==e.status,"PENDING"==e.status)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.status,"")}}function de(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",46),c["\u0275\u0275text"](1," Data not found "),c["\u0275\u0275elementEnd"]())}function me(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",47),c["\u0275\u0275element"](1,"app-loading"),c["\u0275\u0275elementEnd"]())}function he(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,de,2,0,"td",44),c["\u0275\u0275template"](2,me,2,0,"td",45),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.listLoading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.listLoading)}}function pe(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Please Select Plant "),c["\u0275\u0275elementEnd"]())}function ge(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",77),c["\u0275\u0275template"](1,pe,2,0,"div",35),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.filterFormData.controls.branch.errors.required)}}function ue(e,t){1&e&&c["\u0275\u0275element"](0,"span",78)}function fe(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",79),c["\u0275\u0275text"](1," Loading..."),c["\u0275\u0275elementEnd"]())}function De(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",80),c["\u0275\u0275text"](1,"Apply Filter"),c["\u0275\u0275elementEnd"]())}function xe(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",48),c["\u0275\u0275elementStart"](1,"h4",49),c["\u0275\u0275text"](2,"Filter"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"button",50),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",51),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",52),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.submitFilterForm(t.filterFormData)}),c["\u0275\u0275elementStart"](7,"div",53),c["\u0275\u0275elementStart"](8,"perfect-scrollbar"),c["\u0275\u0275elementStart"](9,"div",54),c["\u0275\u0275elementStart"](10,"label",55),c["\u0275\u0275text"](11,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",56),c["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",57),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.branchId=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(t,"plant")})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(!1,"plant")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](14,ge,2,1,"div",58),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div",54),c["\u0275\u0275elementStart"](16,"label",59),c["\u0275\u0275text"](17,"Department"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",56),c["\u0275\u0275elementStart"](19,"ng-multiselect-dropdown",60),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.deptId=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(t,"dept")})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(!1,"dept")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",54),c["\u0275\u0275elementStart"](21,"label",59),c["\u0275\u0275text"](22,"Cell/Line"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"div",56),c["\u0275\u0275elementStart"](24,"ng-multiselect-dropdown",61),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.lineIds=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(t,"line")})("onSelectAll",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeAll(t,"dept")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"div",54),c["\u0275\u0275elementStart"](26,"label",62),c["\u0275\u0275text"](27,"Level"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",56),c["\u0275\u0275elementStart"](29,"ng-multiselect-dropdown",63),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.skillLvlId=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(t,"skillLvlId")})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(!1,"skillLvlId")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"div",54),c["\u0275\u0275elementStart"](31,"label",59),c["\u0275\u0275text"](32,"From Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",56),c["\u0275\u0275elementStart"](34,"div",64),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275reference"](40).open()}),c["\u0275\u0275elementStart"](35,"div",65),c["\u0275\u0275elementStart"](36,"div",66),c["\u0275\u0275element"](37,"i",67),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"input",68),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.fromDate=t})("keydown",function(){return!1})("dateChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().selectCustomDate(t,"")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](39,"mat-datepicker",null,69),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](41,"div",54),c["\u0275\u0275elementStart"](42,"label",59),c["\u0275\u0275text"](43,"To Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](44,"div",56),c["\u0275\u0275elementStart"](45,"div",64),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275reference"](51).open()}),c["\u0275\u0275elementStart"](46,"div",65),c["\u0275\u0275elementStart"](47,"div",66),c["\u0275\u0275element"](48,"i",67),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](49,"input",70),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.toDate=t})("keydown",function(){return!1})("dateChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().selectCustomDate("",t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](50,"mat-datepicker",null,71),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](52,"div",72),c["\u0275\u0275elementStart"](53,"button",73),c["\u0275\u0275template"](54,ue,1,0,"span",74),c["\u0275\u0275template"](55,fe,2,0,"span",75),c["\u0275\u0275template"](56,De,2,0,"span",76),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](40),t=c["\u0275\u0275reference"](51),n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("formGroup",n.filterFormData),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("placeholder","Select Plant")("settings",n.SingleDropdownSettings)("data",n.getSortFunction(n.plantList,"plant"))("disabled",!1)("ngModel",n.searchDet.branchId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.submitAttempted&&n.filterFormData.controls.branch.invalid&&(n.filterFormData.controls.branch.touched||n.filterFormData.controls.branch.dirty)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("placeholder","Select Department")("settings",n.SingleDropdownSettings)("data",n.getSortFunction(n.masterDeptList,"dept"))("disabled",!1)("ngModel",n.searchDet.deptId),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("placeholder","Select Cell/Line")("settings",n.multipleDropdownSettings)("data",n.getSortFunction(n.cellList,"cell"))("ngModel",n.searchDet.lineIds),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("placeholder","Select Level")("settings",n.SingleDropdownSettings)("data",n.masterLevelList)("ngModel",n.searchDet.skillLvlId),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("ngModel",n.searchDet.fromDate)("max",n.maxDate)("matDatepicker",e),c["\u0275\u0275advance"](11),c["\u0275\u0275property"]("ngModel",n.searchDet.toDate)("min",n.searchDet.fromDate)("max",n.maxDate)("matDatepicker",t),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",n.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!n.submitSpinner)}}const Se=function(e){return{applied:e}};let be=(()=>{class e{constructor(e,t,n){this.skillingService=e,this.modalService=t,this.fb=n,this.filterFlag=!1,this.searchDet={},this.actionList=[],this.selectedBranch={},this.branchAccessList=[],this.deptList=[],this.loggedInEmpDet={},this.SingleDropdownSettings={},this.multipleDropdownSettings={},this.listLoading=!1,this.submitAttempted=!1,this.plantList=[],this.masterDeptList=[],this.isAppliedFilter=!1,this.masterLevelList=[],this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},this.getSkillMatrixOjtList=function(){this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;let e={orgId:this.loggedInEmpDet.organization.orgId,offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};console.log(this.searchDet.branchId),e.branchId=null!=this.searchDet.branchId&&this.searchDet.branchId.length>0?this.searchDet.branchId[0].id:this.loggedInEmpDet.branch.branchId,null!=this.searchDet.deptId&&this.searchDet.deptId.length>0&&(e.deptId=this.searchDet.deptId[0].id),null!=this.searchDet.lineIds&&this.searchDet.lineIds.length>0&&(e.lineIds=this.getIDsArray(this.searchDet.lineIds)),null!=this.searchDet.fromDate&&(e.fromDt=Z(this.searchDet.fromDate).format("YYYY-MM-DD")),null!=this.searchDet.toDate&&(e.toDate=Z(this.searchDet.toDate).format("YYYY-MM-DD")),null!=this.searchDet.skillLvlId&&this.searchDet.skillLvlId.length>0&&(e.skillLevelId=this.searchDet.skillLvlId[0].id),this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(e.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(e.colName=this.sorting.active,e.orderType=this.sorting.direction.toUpperCase()),this.skillingService.getSkillMatrixActionList("apis/sm/getSkillMatrixActionList",e).subscribe(e=>{e.result?(1==this.staticPagination.page&&(this.staticPagination.total=e.totalCount,this.staticPagination.totalPages=Math.ceil(e.totalCount/this.staticPagination.itemsPerPage)),null!=e.smActionList&&e.smActionList.length>0?(this.actionList=e.smActionList,console.log(this.actionList),this.staticPagination.listLength=this.actionList.length):(this.actionList=[],this.staticPagination.listLength=this.actionList.length)):(this.actionList=[],this.listLoading=!1,this.staticPagination.listLength=this.actionList.length)}),console.log(e)}}ngOnInit(){this.loggedInEmpDet=JSON.parse(localStorage.getItem("userDet")),this.filterFormData=this.fb.group({branch:new o.f("",o.z.required),dept:new o.f(""),lineIds:new o.f(""),fromDate:new o.f(""),toDate:new o.f(""),skillLvlId:new o.f("")}),this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.multipleDropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0},this.getBranchAccessList(),this.getSkillMatrixOjtList(),this.getMasterSkillLevelList()}getSearchList(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getSkillMatrixOjtList()}filterModalOpen(e){this.filterFlag=!0,this.modalService.open(e,{windowClass:"filterPopup"})}getBranchAccessList(){this.skillingService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.loggedInEmpDet.organization.orgId+"/"+this.loggedInEmpDet.empId).subscribe(e=>{this.plantList=e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?this.setArray(e.branchAccessList,"branchId","branchName"):[{id:this.loggedInEmpDet.branch.branchId,name:this.loggedInEmpDet.branch.name}]})}getDeptList(e){this.skillingService.getdepartmentlistbybranchid("getdepartmentlistbybranchid/"+e.id).subscribe(e=>{e.result&&null!=e.deptList&&e.deptList.length>0?(this.masterDeptList=this.setArray(e.deptList,"deptId","deptName"),console.log(this.masterDeptList)):this.masterDeptList=[]})}submitFilterForm(e){this.submitAttempted=!0,e.invalid?Object.keys(e.controls).forEach(t=>{e.controls[t].markAsDirty()}):(this.clearPagination(),this.isAppliedFilter=!0,this.searchDet.filterFlag=!0,this.staticPagination.offset=0,this.staticPagination.itemsPerPage=10,this.modalService.dismissAll(),this.getSkillMatrixOjtList())}removeFilter(){this.isAppliedFilter=!1,this.filterFormData.reset(),this.searchDet.branchId=[],this.searchDet.deptId=[],this.searchDet.lineIds=[],this.searchDet.fromDate=null,this.searchDet.toDate=null,this.searchDet.skillLvlId=[],this.getSkillMatrixOjtList()}setArray(e,t,n){let l=[];if(null!=e&&e.length>0)for(const i of e)i.id=i[t],i.name=i[n],l.push(i);return l}onChange(e,t){console.log(e),e?"plant"==t?(this.getDeptList(e),this.searchDet.deptId=[],this.searchDet.lineIds=[]):"dept"==t&&(this.getCellList(e),this.searchDet.lineIds=[]):"plant"==t?this.searchDet&&(this.searchDet.departmentList=[]):"dept"==t&&this.searchDet&&(this.searchDet.cellLineList=[])}loadMore(e){this.staticPagination=e,this.actionList=[],this.listLoading=!0,this.getSkillMatrixOjtList()}sortData(e){this.sorting=e,this.getSkillMatrixOjtList()}clearPagination(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}getSortFunction(e,t){return e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"plant"!==t||e.sort(function(e,t){var n=e.name?e.name.toUpperCase():"",l=t.name?t.name.toUpperCase():"";return n<l?-1:n>l?1:0})),e}selectCustomDate(e,t){console.log("From Date:",e),console.log("To Date:",t),null!=e.value&&null!=e.value&&""!=e.value&&(this.searchDet.fromDate=new Date(e.value)),null!=t.value&&null!=t.value&&""!=t.value&&(this.searchDet.toDate=new Date(t.value))}getMasterSkillLevelList(){this.skillingService.getMasterLevelList("apis/sm/getLevelList").subscribe(e=>{this.masterLevelList=e.result&&null!=e.dataList&&e.dataList.length>0?this.setArray(e.dataList,"id","levelName"):[]})}getCellList(e){this.skillingService.getCellList("apis/sm/getCellList",{branchId:this.searchDet.branchId[0].id,deptId:e.id}).subscribe(e=>{e.result&&null!=e.dataList&&e.dataList.length>0?(this.cellList=this.setArray(e.dataList,"lineId","lineName"),console.log(this.cellList),console.log(this.searchDet.cell)):this.cellList=[]})}onChangeAll(e,t){e?console.log("Select All action"):console.log("Unselect All action")}getIDsArray(e){let t=[];if(null!=e&&e.length>0)for(const n of e)t.push(n.id);return t}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](a.a),c["\u0275\u0275directiveInject"](d.j),c["\u0275\u0275directiveInject"](o.e))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-actions"]],decls:56,vars:12,consts:[[1,"row","m-0"],[1,"col-11","m-auto"],["title","Actions"],[1,"col-1","p-0","m-auto","text-center"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"p-l-0","p-r-5","col-4"],[1,"p-l-0","p-r-5",3,"ngClass"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","name","searchInput","placeholder","Search here..","autocomplete","off",1,"form-control",2,"border-bottom","1px solid #7044cd",3,"ngModel","ngModelChange","keyup"],[1,"col-4","p-r-5","p-l-5","form-group"],[1,"col-4","p-0"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["datatable","","matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName",1,"fixedColumn"],["mat-sort-header","AssignedEmpId",1,""],["mat-sort-header","AssignedEmpName",1,""],["mat-sort-header","CmpyEmpId",1,""],["mat-sort-header","EmpName",1,""],["mat-sort-header","DeptName",1,""],["mat-sort-header","Line",1,""],["mat-sort-header","Workstation",1,""],["mat-sort-header","LevelName",1,""],["mat-sort-header","ActivityDate",1,""],["mat-sort-header","Activity",1,""],["mat-sort-header","status",1,"pending","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["filterPopup",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[1,"actionTd","fixedColumn"],[1,"actionTd","fixedColumn",3,"ngClass"],["colspan","8","class","text-center no-record-found",4,"ngIf"],["colspan","8","class","text-center loading-div",4,"ngIf"],["colspan","8",1,"text-center","no-record-found"],["colspan","8",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","branch",1,"col-sm-12","col-form-label","filter-label"],[1,"col-sm-12"],["name","branch","id","branch","formControlName","branch",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","disabled","ngModel","ngModelChange","onSelect","onDeSelect"],["class","custom-errorMsg","style","padding-left: 15px;z-index: 10;",4,"ngIf"],["for","opt",1,"col-sm-12","col-form-label","filter-label"],["name","dept","id","dept","formControlName","dept",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","disabled","ngModel","ngModelChange","onSelect","onDeSelect"],["name","opt","formControlName","lineIds",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onSelectAll"],["for","skillLvlId",1,"col-sm-12","col-form-label","filter-label","p-b-0"],["name","skillLvlId","id","skillLvlId","formControlName","skillLvlId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],[1,"input-group","m-0","custom-Input-Group",3,"click"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"feather","icon-calendar"],["matInput","","placeholder","From Date","formControlName","fromDate","name","opt",1,"form-control","datePickInput",3,"ngModel","max","matDatepicker","ngModelChange","keydown","dateChange"],["startDatePicker",""],["matInput","","placeholder","To Date","formControlName","toDate","name","opt",1,"form-control","datePickInput",3,"ngModel","min","max","matDatepicker","ngModelChange","keydown","dateChange"],["toDatePicker",""],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg",2,"padding-left","15px","z-index","10"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275element"](2,"app-topBar",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275elementStart"](4,"div",4),c["\u0275\u0275elementStart"](5,"button",5),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](55);return t.filterModalOpen(n)}),c["\u0275\u0275element"](6,"i",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](7,ie,2,0,"div",7),c["\u0275\u0275template"](8,ae,2,0,"div",8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",9),c["\u0275\u0275elementStart"](10,"div",10),c["\u0275\u0275elementStart"](11,"div",0),c["\u0275\u0275elementStart"](12,"div",11),c["\u0275\u0275elementStart"](13,"div",0),c["\u0275\u0275elementStart"](14,"div",12),c["\u0275\u0275elementStart"](15,"div",13),c["\u0275\u0275template"](16,re,1,0,"span",14),c["\u0275\u0275template"](17,se,1,0,"span",15),c["\u0275\u0275elementStart"](18,"input",16),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](19,"div",17),c["\u0275\u0275element"](20,"div",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"div",19),c["\u0275\u0275elementStart"](22,"div",20),c["\u0275\u0275elementStart"](23,"table",21),c["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),c["\u0275\u0275elementStart"](24,"thead"),c["\u0275\u0275elementStart"](25,"tr"),c["\u0275\u0275elementStart"](26,"th",22),c["\u0275\u0275text"](27,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"th",23),c["\u0275\u0275text"](29," Assigned Emp ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"th",24),c["\u0275\u0275text"](31,"Assigned Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"th",25),c["\u0275\u0275text"](33,"Emp ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"th",26),c["\u0275\u0275text"](35,"Emp Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"th",27),c["\u0275\u0275text"](37,"Department"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"th",28),c["\u0275\u0275text"](39,"Cell/Line"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"th",29),c["\u0275\u0275text"](41,"Workstation"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"th",30),c["\u0275\u0275text"](43,"Level"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](44,"th",31),c["\u0275\u0275text"](45,"Assigned Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](46,"th",32),c["\u0275\u0275text"](47,"Activity"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](48,"th",33),c["\u0275\u0275text"](49,"Status"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"tbody"),c["\u0275\u0275template"](51,ce,26,19,"tr",34),c["\u0275\u0275template"](52,he,3,2,"tr",35),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](53,"app-pagination",36),c["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](54,xe,57,30,"ng-template",null,37,c["\u0275\u0275templateRefExtractor"])}2&e&&(c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](10,Se,t.isAppliedFilter)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.isAppliedFilter),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAppliedFilter),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngClass",t.filterFlag?"col-6":"col-12"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),c["\u0275\u0275advance"](33),c["\u0275\u0275property"]("ngForOf",t.actionList),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==t.actionList||0==t.actionList.length),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[m.a,l.NgClass,l.NgIf,o.c,o.o,o.r,ee.a,ee.b,l.NgForOf,te.a,p.a,o.A,o.p,o.h,g.b,h.a,o.g,ne.b,le.b,le.a],pipes:[l.DatePipe],styles:[".tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .fixedColumn[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;border-left:none;border-right:none}"]}),e})();var ve=n("Oq+w");function Ce(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",37),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().removeFilter()}),c["\u0275\u0275text"](1,"x"),c["\u0275\u0275elementEnd"]()}}function ke(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",38),c["\u0275\u0275text"](1,"Filter Applied"),c["\u0275\u0275elementEnd"]())}function Le(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",39),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().getSearchList(!0)}),c["\u0275\u0275elementEnd"]()}}function Ie(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",40),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().getSearchList(!1)}),c["\u0275\u0275elementEnd"]()}}const Ee=function(e,t){return{completed:e,pending:t}};function Me(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td",41),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td"),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"td"),c["\u0275\u0275text"](11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"td"),c["\u0275\u0275text"](13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"td"),c["\u0275\u0275text"](15),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"td"),c["\u0275\u0275text"](17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"td"),c["\u0275\u0275text"](19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"td"),c["\u0275\u0275text"](21),c["\u0275\u0275pipe"](22,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"td"),c["\u0275\u0275text"](24),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"td",42),c["\u0275\u0275text"](26),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"td",43),c["\u0275\u0275elementStart"](28,"i",44),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit,l=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](57);return l.openViewModal(i,n)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.branchName||"N/A"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](5,13,e.ojtStartDate,"dd-MM-yyyy")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](e.cmpEmpId),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.empName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.title),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.deptName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.workstationName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.levelName||"N/A"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.assessmentType||"N/A"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.assessmentDate?c["\u0275\u0275pipeBind2"](22,16,e.assessmentDate,"dd-MM-yyyy"):"N/A"),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](e.score),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](19,Ee,"PASS"==e.status,"FAIL"==e.status)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.status||"N/A","")}}function ye(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",47),c["\u0275\u0275text"](1," Data not found "),c["\u0275\u0275elementEnd"]())}function we(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",48),c["\u0275\u0275element"](1,"app-loading"),c["\u0275\u0275elementEnd"]())}function Pe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,ye,2,0,"td",45),c["\u0275\u0275template"](2,we,2,0,"td",46),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.listLoading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.listLoading)}}function Fe(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Please select plant "),c["\u0275\u0275elementEnd"]())}function Ae(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",69),c["\u0275\u0275template"](1,Fe,2,0,"div",33),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.filterData.controls.branchId.errors.required)}}function Oe(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Please select department "),c["\u0275\u0275elementEnd"]())}function Ne(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",69),c["\u0275\u0275template"](1,Oe,2,0,"div",33),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.filterData.controls.deptLvlId.errors.required)}}function _e(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Please select workstation "),c["\u0275\u0275elementEnd"]())}function Ve(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",69),c["\u0275\u0275template"](1,_e,2,0,"div",33),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitAttempted&&e.filterData.controls.masterWork.errors.required)}}function We(e,t){1&e&&c["\u0275\u0275element"](0,"span",70)}function Te(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",71),c["\u0275\u0275text"](1," Loading..."),c["\u0275\u0275elementEnd"]())}function Be(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",72),c["\u0275\u0275text"](1,"Apply Filter"),c["\u0275\u0275elementEnd"]())}function Re(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",49),c["\u0275\u0275elementStart"](1,"h4",50),c["\u0275\u0275text"](2,"Filter"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"button",51),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",52),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",53),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.submitFilterForm(t.filterData)}),c["\u0275\u0275elementStart"](7,"div",54),c["\u0275\u0275elementStart"](8,"perfect-scrollbar"),c["\u0275\u0275elementStart"](9,"div",55),c["\u0275\u0275elementStart"](10,"label",56),c["\u0275\u0275text"](11,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",57),c["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",58),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.branchId=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(t,"plant")})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onDeSelectPlant(!1,"plant")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](14,Ae,2,1,"div",59),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div",55),c["\u0275\u0275elementStart"](16,"label",60),c["\u0275\u0275text"](17,"Department"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",57),c["\u0275\u0275elementStart"](19,"ng-multiselect-dropdown",61),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.deptIds=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(t,"plant")})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(!1,"plant")})("onSelectAll",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeAll(t,"userType")})("onDeSelectAll",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeAll(t,"userType")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](20,Ne,2,1,"div",59),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"div",55),c["\u0275\u0275elementStart"](22,"label",62),c["\u0275\u0275text"](23,"Workstation"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"div",57),c["\u0275\u0275elementStart"](25,"ng-multiselect-dropdown",63),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.masterWorkList=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](26,Ve,2,1,"div",59),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"div",64),c["\u0275\u0275elementStart"](28,"button",65),c["\u0275\u0275template"](29,We,1,0,"span",66),c["\u0275\u0275template"](30,Te,2,0,"span",67),c["\u0275\u0275template"](31,Be,2,0,"span",68),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("formGroup",e.filterData),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("placeholder","Select Plant")("settings",e.SingleDropdownSettings)("data",e.getSortFunction(e.plantList,"plant"))("ngModel",e.searchDet.branchId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitAttempted&&e.filterData.controls.branchId.invalid&&(e.filterData.controls.branchId.touched||e.filterData.controls.branchId.dirty)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("placeholder","Select Department")("settings",e.multipleDropdownSettings)("data",e.getSortFunction(e.masterDeptList,"cell"))("ngModel",e.searchDet.deptIds),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitAttempted&&e.filterData.controls.deptLvlId.invalid&&(e.filterData.controls.deptLvlId.touched||e.filterData.controls.deptLvlId.dirty)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("placeholder","Select Workstation")("settings",e.multipleDropdownSettings)("data",e.getSortFunction(e.masterWorkList,"work"))("disabled",!1)("ngModel",e.searchDet.masterWorkList),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.filterData.controls.masterWork.invalid&&(e.filterData.controls.masterWork.touched||e.filterData.controls.masterWork.dirty)),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",e.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.submitSpinner)}}function je(e,t){if(1&e&&c["\u0275\u0275element"](0,"app-assessessment-detail-modal",73),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("selectedDetail",e.selectedRecForModal)}}const Ye=function(e){return{applied:e}};let ze=(()=>{class e{constructor(e,t,n){this.skillingService=e,this.modalService=t,this.fb=n,this.SingleDropdownSettings={},this.multipleDropdownSettings={},this.searchDet={},this.isUpload=!1,this.filterFlag=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},this.submitAttempted=!1}ngOnInit(){this.loggedInEmpDet=JSON.parse(localStorage.getItem("userDet")),this.filterData=this.fb.group({branchId:new o.f("",o.z.required),masterWork:new o.f(""),deptLvlId:new o.f("")}),this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.multipleDropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0},this.getMasterSkillLevelList(),this.getAccessiblePlantList(),this.getAssessmentList("")}getAssessmentList(e){this.assessmentData=[],this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;let t={orgId:this.loggedInEmpDet.organization.orgId,offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};"filter"==e?(null!=this.searchDet.branchId&&this.searchDet.branchId.length>0&&(t.branchId=this.searchDet.branchId[0].id),null!=this.searchDet.deptIds&&this.searchDet.deptIds.length>0&&(t.deptIds=this.getIDsArray(this.searchDet.deptIds)),null!=this.searchDet.masterWorkList&&this.searchDet.masterWorkList.length>0&&(t.workstationIds=this.getIDsArray(this.searchDet.masterWorkList))):t.branchId=this.loggedInEmpDet.branch.branchId,this.searchDet.searchData&&this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction.toUpperCase()),console.log(t),this.skillingService.getAssessmentDisplay("apis/sm/getOJTAssessmentsList",t).subscribe(e=>{e.result?(1==this.staticPagination.page&&(this.staticPagination.total=e.totalCount,this.staticPagination.totalPages=Math.ceil(e.totalCount/this.staticPagination.itemsPerPage)),null!=e.dataList&&e.dataList.length>0?(this.assessmentData=e.dataList,console.log(this.assessmentData),this.staticPagination.listLength=e.dataList.length):this.assessmentData=[]):this.assessmentData=[]})}filterModalOpen(e){this.filterFlag=!0,this.modalService.open(e,{windowClass:"filterPopup"})}getAccessiblePlantList(){this.skillingService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.loggedInEmpDet.organization.orgId+"/"+this.loggedInEmpDet.empId).subscribe(e=>{e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?(this.plantList=this.setArray(e.branchAccessList,"branchId","branchName"),this.searchDet.plantList=this.setArray(e.branchAccessList,"branchId","branchName")):this.plantList=[{id:this.loggedInEmpDet.branch.branchId,name:this.loggedInEmpDet.branch.name}],this.getAssessmentList("")})}getMasterSkillLevelList(){this.skillingService.getMasterLevelList("apis/sm/getLevelList").subscribe(e=>{this.masterLevelList=e.result&&null!=e.dataList&&e.dataList.length>0?this.setArray(e.dataList,"id","levelName"):[]})}getMasterDepartmentList(e){this.skillingService.getMasterDepartmentList("getdepartmentlistbybranchid/"+e.id).subscribe(e=>{e.result?(console.log(e),null!=e.deptList&&e.deptList.length>0?(this.masterDeptList=this.setArray(e.deptList,"deptId","deptName"),this.searchDet.departmentList=this.setArray(e.deptList,"deptId","deptName"),this.getWorkstationList()):this.masterDeptList=[]):this.masterDeptList=[]})}getWorkstationList(){this.listLoading=!0;let e={branchId:this.searchDet.branchId[0].id,orgId:this.loggedInEmpDet.organization.orgId};if(null!=this.getIDsArray(this.searchDet.deptIds)&&this.getIDsArray(this.searchDet.deptIds).length>0)for(let t=0;t<this.getIDsArray(this.searchDet.deptIds).length;t++)e.deptIds=this.getIDsArray(this.searchDet.deptIds),console.log(e.deptIds);console.log(e),this.skillingService.getWorkstationList("apis/sm/getWorkstationList",e).subscribe(e=>{console.log(e),this.listLoading=!1,e.result&&null!=e.dataList&&e.dataList.length>0?(this.worksatationData=e.dataList,this.masterWorkList=this.setArray(e.dataList,"id","workstation"),this.searchDet.masterWorkStationList=this.setArray(e.dataList,"id","workstation"),console.log(this.searchDet.masterWorkList)):this.worksatationData=[]})}setArray(e,t,n){let l=[];if(null!=e&&e.length>0)for(const i of e)i.id=i[t],i.name=i[n],l.push(i);return l}openViewModal(e,t){console.log(t),this.selectedRecForModal="",this.selectedRecForModal=t,console.log(this.selectedRecForModal),this.modalService.open(e,{windowClass:"right"}).result.then(e=>{},e=>{})}loadMore(e){this.staticPagination=e,this.getAssessmentList("")}sortData(e){this.sorting=e,this.getAssessmentList("")}submitFilterForm(e){this.submitAttempted=!0,e.invalid?Object.keys(e.controls).forEach(t=>{e.controls[t].markAsDirty()}):(this.clearPagination(),this.searchDet.filterFlag=!0,this.getAssessmentList("filter"),this.modalService.dismissAll())}removeFilter(){this.submitAttempted=!1,this.filterData.patchValue({branchId:[],deptLvlId:[],masterWork:[]}),this.searchDet.branchId=[],this.searchDet.deptIds=[],this.searchDet.masterWorkList=[],this.searchDet.filterFlag=!1,this.getAssessmentList("")}resetFormField(e,t){Object.keys(e.controls).forEach(n=>{""!=t&&n==t?(e.get(t).reset(),e.get(t).markAsPristine(),e.get(t).markAsUntouched()):(e.get(n).reset(),e.get(n).markAsPristine(),e.get(n).markAsUntouched())})}onChangeAll(e,t){e?console.log("Select All action"):console.log("Unselect All action")}onChange(e,t){e?"plant"==t&&this.getMasterDepartmentList(e):"plant"==t&&this.searchDet.filterModalOpen&&(this.searchDet.departmentList=[],this.resetFormField(this.filterData,"deptIds"))}getIDsArray(e){let t=[];if(null!=e&&e.length>0)for(const n of e)t.push(n.id);return t}getSearchList(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getAssessmentList(this.filterFlag?"filter":"")}clearPagination(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}getSortFunction(e,t){return e&&Array.isArray(e)&&e.length>0&&("plant"!==t&&"cell"!==t&&"work"!==t||e.sort(function(e,t){var n=e.name?e.name.toUpperCase():"",l=t.name?t.name.toUpperCase():"";return n<l?-1:n>l?1:0})),e}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](a.a),c["\u0275\u0275directiveInject"](d.j),c["\u0275\u0275directiveInject"](o.e))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-assessments"]],decls:58,vars:11,consts:[[1,"row","m-0"],[1,"col-8","m-auto"],["title","Assessments"],[1,"col-3","m-auto"],[1,"col-1","p-0","m-auto","text-center"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent","row","m-0"],[1,"col-4"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","name","searchInput","placeholder","Search By Name","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col-4","p-0"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["datatable","","matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName",1,"fixedColumn"],["mat-sort-header","EmpName",1,""],["mat-sort-header","AssessmentTitle",1,""],["mat-sort-header","DeptName",1,""],["mat-sort-header","Workstation",1,""],["mat-sort-header","SkillLevel",1,""],["mat-sort-header","AssessmentType",1,""],["mat-sort-header","AssessmentDate",1,""],["mat-sort-header","Score",1,""],["mat-sort-header","Status",1,"fixedColumn"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["FilterModal",""],["assessmentDetail",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[1,"actionTd","fixedColumn","text-left"],[1,"actionTd","fixedColumn",3,"ngClass"],[1,"actionTd","fixedColumn"],[1,"fa","fa-eye","viewIcon",2,"cursor","pointer",3,"click"],["colspan","8","class","text-center no-record-found",4,"ngIf"],["colspan","8","class","text-center loading-div",4,"ngIf"],["colspan","8",1,"text-center","no-record-found"],["colspan","8",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","branchId",1,"col-sm-12","col-form-label","filter-label","p-b-0"],[1,"col-sm-12"],["name","branchId","id","branchId","formControlName","branchId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],["class","custom-errorMsg",4,"ngIf"],["for","deptLvlId",1,"col-sm-12","col-form-label","filter-label","p-b-0"],["name","deptLvlId","id","deptLvlId","formControlName","deptLvlId",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],["for","opt",1,"col-sm-12","col-form-label","filter-label"],["name","masterWorkList","id","masterWorkList","formControlName","masterWork",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","disabled","ngModel","ngModelChange"],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"],[3,"selectedDetail"]],template:function(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275element"](2,"app-topBar",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](3,"div",3),c["\u0275\u0275elementStart"](4,"div",4),c["\u0275\u0275elementStart"](5,"div",5),c["\u0275\u0275elementStart"](6,"button",6),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](55);return t.filterModalOpen(n)}),c["\u0275\u0275element"](7,"i",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,Ce,2,0,"div",8),c["\u0275\u0275template"](9,ke,2,0,"div",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",10),c["\u0275\u0275elementStart"](11,"div",11),c["\u0275\u0275elementStart"](12,"div",12),c["\u0275\u0275elementStart"](13,"div",13),c["\u0275\u0275template"](14,Le,1,0,"span",14),c["\u0275\u0275template"](15,Ie,1,0,"span",15),c["\u0275\u0275elementStart"](16,"input",16),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](17,"div",17),c["\u0275\u0275element"](18,"div",17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"div",18),c["\u0275\u0275elementStart"](20,"div",19),c["\u0275\u0275elementStart"](21,"table",20),c["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),c["\u0275\u0275elementStart"](22,"thead"),c["\u0275\u0275elementStart"](23,"tr"),c["\u0275\u0275elementStart"](24,"th",21),c["\u0275\u0275text"](25,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"th"),c["\u0275\u0275text"](27,"OJT Start Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"th"),c["\u0275\u0275text"](29,"Emp ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"th",22),c["\u0275\u0275text"](31,"Emp Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"th",23),c["\u0275\u0275text"](33,"Assessment Title"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"th",24),c["\u0275\u0275text"](35,"Department"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"th",25),c["\u0275\u0275text"](37,"Workstation"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"th",26),c["\u0275\u0275text"](39,"Level"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"th",27),c["\u0275\u0275text"](41,"Assessment Type"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"th",28),c["\u0275\u0275text"](43,"Assessment Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](44,"th",29),c["\u0275\u0275text"](45,"Score"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](46,"th",30),c["\u0275\u0275text"](47,"Status"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](48,"th",31),c["\u0275\u0275text"](49,"Action"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"tbody"),c["\u0275\u0275template"](51,Me,29,22,"tr",32),c["\u0275\u0275template"](52,Pe,3,2,"tr",33),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](53,"app-pagination",34),c["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](54,Re,32,20,"ng-template",null,35,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](56,je,1,1,"ng-template",null,36,c["\u0275\u0275templateRefExtractor"])}2&e&&(c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](9,Ye,t.searchDet.filterFlag)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.searchDet.filterFlag),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.searchDet.filterFlag),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),c["\u0275\u0275advance"](35),c["\u0275\u0275property"]("ngForOf",t.assessmentData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==t.assessmentData||0==t.assessmentData.length),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[m.a,l.NgClass,l.NgIf,o.c,o.o,o.r,ee.a,ee.b,l.NgForOf,te.a,p.a,o.A,o.p,o.h,g.b,h.a,o.g,ve.a],pipes:[l.DatePipe],styles:[".headerTitle[_ngcontent-%COMP%]{color:#7044cd!important;font:normal normal 500 18px/1.5 Helvetica Neue!important}.tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .fixedColumn[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;border-left:none;border-right:none}.tableFixHead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(11), .tableFixHead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(11){width:150px;min-width:150px;max-width:150px;right:72px}"]}),e})();var $e=n("7jS0");function Ue(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275text"](1),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" (",e.levelName,") ")}}function He(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"th",41),c["\u0275\u0275text"](2),c["\u0275\u0275template"](3,Ue,2,1,"ng-container",34),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e.heading,""),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.hasOwnProperty("levelName")&&e.levelName)}}function qe(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,He,4,2,"ng-container",34),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Add"!=n.selectedDet.title||"empId"!=e.field&&"cmpyEmpId"!=e.field&&"empName"!=e.field)}}function Ge(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275text"](1),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit,t=c["\u0275\u0275nextContext"](3).$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" \xa0(",n.isChecked(e,t.field).level,") ")}}const Qe=function(e){return{"red-text":e}};function Je(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",44),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit,n=c["\u0275\u0275nextContext"](3).$implicit,l=c["\u0275\u0275nextContext"](3);return"View"==l.selectedDet.title?"":l.onChangeEmp(t,n,"remove")}),c["\u0275\u0275element"](1,"input",45),c["\u0275\u0275elementStart"](2,"label",46),c["\u0275\u0275text"](3),c["\u0275\u0275template"](4,Ge,2,1,"ng-container",34),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"](3).$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](7,Qe,0==e.isEligible)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("checked",e.isSelected)("id","checkbox"+e.empId+"_"+t.field)("disabled","View"==n.selectedDet.title),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("for","checkbox"+e.empId+"_"+t.field),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",e.empName," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!n.isObjectEmpty(n.isChecked(e,t.field)))}}function Ke(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Je,5,9,"div",43),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](3).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.isSelected&&n.id==e.workstationId)}}function Xe(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Ke,2,1,"ng-container",40),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](5);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.selectedWorkForceData)}}function Ze(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275text"](1),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit,t=c["\u0275\u0275nextContext"](3).$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" \xa0(",n.isChecked(e,t.field).level,") ")}}function et(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",48),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit,n=c["\u0275\u0275nextContext"](3).$implicit;return c["\u0275\u0275nextContext"](3).onChangeEmp(t,n,"add")}),c["\u0275\u0275element"](1,"input",49),c["\u0275\u0275elementStart"](2,"label",46),c["\u0275\u0275text"](3),c["\u0275\u0275template"](4,Ze,2,1,"ng-container",34),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"](3).$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("checked",e.isSelected)("id","checkbox"+e.empId+"_"+t.field),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("for","checkbox"+e.empId+"_"+t.field),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",e.empName," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!n.isObjectEmpty(n.isChecked(e,t.field)))}}function tt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,et,5,5,"div",47),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.isSelected)}}function nt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,tt,2,1,"ng-container",40),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](5);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.skillMatrixDetails.tableData)}}function lt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"td",42),c["\u0275\u0275template"](2,Xe,2,1,"ng-container",34),c["\u0275\u0275template"](3,nt,2,1,"ng-container",34),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null!=e.selectedWorkForceData&&e.selectedWorkForceData.length>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null!=e.skillMatrixDetails.tableData&&e.skillMatrixDetails.tableData.length>0)}}function it(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,lt,4,2,"ng-container",34),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Add"!=n.selectedDet.title||"empId"!=e.field&&"cmpyEmpId"!=e.field&&"empName"!=e.field)}}function at(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,it,2,1,"ng-container",40),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.skillMatrixDetails.columns)}}function rt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",52),c["\u0275\u0275text"](1," Data Not Found "),c["\u0275\u0275elementEnd"]())}function st(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",53),c["\u0275\u0275element"](1,"app-loading"),c["\u0275\u0275elementEnd"]())}function ot(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,rt,2,0,"td",50),c["\u0275\u0275template"](2,st,2,0,"td",51),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.listLoader),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.listLoader)}}function ct(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"thead"),c["\u0275\u0275elementStart"](2,"tr"),c["\u0275\u0275template"](3,qe,2,1,"ng-container",40),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"tbody"),c["\u0275\u0275template"](5,at,2,1,"tr",34),c["\u0275\u0275template"](6,ot,3,2,"tr",34),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",e.skillMatrixDetails.columns),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!e.isObjectEmpty(e.skillMatrixDetails)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.isObjectEmpty(e.skillMatrixDetails))}}function dt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",56),c["\u0275\u0275text"](1," Data Not Found "),c["\u0275\u0275elementEnd"]())}function mt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",57),c["\u0275\u0275element"](1,"app-loading"),c["\u0275\u0275elementEnd"]())}function ht(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"tbody"),c["\u0275\u0275elementStart"](2,"tr"),c["\u0275\u0275template"](3,dt,2,0,"td",54),c["\u0275\u0275template"](4,mt,2,0,"td",55),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",!e.listLoader),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.listLoader)}}function pt(e,t){1&e&&c["\u0275\u0275element"](0,"span",62)}function gt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",63),c["\u0275\u0275text"](1," Loading..."),c["\u0275\u0275elementEnd"]())}function ut(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",64),c["\u0275\u0275text"](1,"Submit "),c["\u0275\u0275elementEnd"]())}function ft(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",58),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.submitLoader?"":t.saveWorkForce()}),c["\u0275\u0275template"](1,pt,1,0,"span",59),c["\u0275\u0275template"](2,gt,2,0,"span",60),c["\u0275\u0275template"](3,ut,2,0,"span",61),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitLoader),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitLoader),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.submitLoader)}}let Dt=(()=>{class e{constructor(e,t,n){this.apiService=e,this.alertService=t,this.searchDet={},this.shiftList=[],this.branchAccessList=[],this.deptList=[],this.cellList=[],this.userDet={},this.submitLoader=!1,this.listLoader=!1,this.skillMatrixDetails={},this.columns=[],this.SingleDropdownSettings={},this.constant={},this.minDate=Z(),this.selectedWorkForceData=[],this.constant=n}ngOnInit(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.minDate=new Date,this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},"View"==this.selectedDet.title?(this.searchDet={branch:[{id:this.selectedDet.branchId,name:this.selectedDet.branchName}],dept:[{id:this.selectedDet.deptId,name:this.selectedDet.deptName}],cell:[{id:this.selectedDet.lineId,name:this.selectedDet.lineName}],shift:[{id:this.selectedDet.shiftId,name:this.selectedDet.shiftName}],maxDate:new Date(Z(new Date).format("YYYY,MM,DD")),fromDate:new Date(Z(this.selectedDet.fromDate).format("YYYY,MM,DD")),toDate:new Date(Z(this.selectedDet.toDate).format("YYYY,MM,DD"))},this.getWFDetails()):(this.searchDet.maxDate=new Date(Z(new Date).format("YYYY,MM,DD")),this.getBranchAccessList())}getBranchAccessList(){this.apiService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(e=>{this.branchAccessList=e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?this.setArray(e.branchAccessList,"branchId","branchName"):[{id:this.userDet.branch.branchId,name:this.userDet.branch.name}],this.branchAccessList=this.sortFunction(this.branchAccessList,"branchName"),this.searchDet.branch=[this.branchAccessList[0]],this.getDeptList(),this.getShiftData(this.searchDet.branch[0])})}onChangeBranch(e){e?(this.getDeptList(),this.getShiftData(e),this.shiftList=[],this.searchDet.shift=[]):(this.deptList=[],this.searchDet.dept=[],this.cellList=[],this.searchDet.cell=[],this.shiftList=[],this.searchDet.shift=[])}onChangeDept(e){e?this.getCellList():(this.skillMatrixDetails={},this.cellList=[],this.searchDet.cell=[])}onChangeCell(e){e?this.getSkillMatixData():this.skillMatrixDetails={}}onChangeShift(e){}getDeptList(){null!=this.searchDet.branch&&this.searchDet.branch.length>0?this.apiService.getdepartmentlistbybranchid("getdepartmentlistbybranchid/"+this.searchDet.branch[0].id).subscribe(e=>{e.result&&null!=e.deptList&&e.deptList.length>0?(this.deptList=this.setArray(e.deptList,"deptId","deptName"),this.deptList=this.sortFunction(this.deptList,"deptName"),this.searchDet.dept=[this.deptList[0]],this.getCellList()):this.deptList=[]}):(this.cellList=[],this.searchDet.cell=[],this.skillMatrixDetails={})}getCellList(){var e={branchId:this.searchDet.branch[0].id};null!=this.searchDet.dept&&this.searchDet.dept.length>0&&(e.deptId=this.searchDet.dept[0].id),this.apiService.getCellList("apis/sm/getCellList",e).subscribe(e=>{e.result&&null!=e.dataList&&e.dataList.length>0?(e.dataList=this.sortFunction(e.dataList,"lineName"),this.cellList=this.setArray(e.dataList,"lineId","lineName"),this.searchDet.cell=[this.cellList[0]],this.getSkillMatixData()):this.cellList=[]})}getShiftData(e){this.apiService.getShiftData("apis/sm/getShiftList",{branchId:e.id}).subscribe(e=>{e.result&&null!=e.dataList&&e.dataList.length>0?(e.dataList=this.sortFunction(e.dataList,"shiftName"),this.shiftList=this.setArray(e.dataList,"id","shiftName")):this.shiftList=[]})}selectDate(e,t){}getWFDetails(){this.skillMatrixDetails={},this.listLoader=!0,this.apiService.getWFDetailsList("apis/sm/getWorkForceDeploymentDetails",{deptId:this.selectedDet.deptId,shiftId:this.selectedDet.shiftId,branchId:this.selectedDet.branchId,lineId:this.selectedDet.lineId}).subscribe(e=>{if(this.listLoader=!1,e.result){if(this.skillMatrixDetails=e.data,null!=this.skillMatrixDetails.columns&&this.skillMatrixDetails.columns.length>0)for(let e=0;e<this.skillMatrixDetails.columns.length;e++)this.skillMatrixDetails.columns[e].id=this.skillMatrixDetails.columns[e].workstationId,this.skillMatrixDetails.columns[e].levelName=this.skillMatrixDetails.columns[e].level;if(null!=this.skillMatrixDetails.empList&&this.skillMatrixDetails.empList.length>0){this.selectedWorkForceData=[];for(let e=0;e<this.skillMatrixDetails.empList.length;e++)this.skillMatrixDetails.empList[e].isSelected=!0,this.selectedWorkForceData.push(this.skillMatrixDetails.empList[e])}}else this.skillMatrixDetails={}},e=>{this.skillMatrixDetails={},this.listLoader=!1})}getSkillMatixData(){this.skillMatrixDetails={},this.listLoader=!0;let e={orgId:this.userDet.organization.orgId,branchId:this.searchDet.branch[0].id};null!=this.searchDet.dept&&this.searchDet.dept.length>0&&(e.deptId=this.searchDet.dept[0].id),null!=this.searchDet.cell&&this.searchDet.cell.length>0&&(e.lineId=this.searchDet.cell[0].id),this.apiService.getSkillMatrixData("apis/sm/getSkillMatrixEmpList",e).subscribe(e=>{if(console.log(e),this.listLoader=!1,e.result){if(this.skillMatrixDetails=e.data,null!=this.skillMatrixDetails.tableData&&this.skillMatrixDetails.tableData.length>0){this.columns=[];for(let e=0;e<this.skillMatrixDetails.columns.length;e++)this.columns.push(this.skillMatrixDetails.columns[e].field);console.log(this.skillMatrixDetails);for(let e=0;e<this.skillMatrixDetails.tableData.length;e++)this.skillMatrixDetails.tableData[e].isSelected=!1}this.skillMatrixDetails.tableDataCopy=this.setArray(this.skillMatrixDetails.tableData,"empId","empName"),this.skillMatrixDetails.tableData=this.setArray(this.skillMatrixDetails.tableData,"empId","empName")}else this.skillMatrixDetails={}},e=>{this.skillMatrixDetails={},this.listLoader=!1})}ngOnChanges(e){if(console.log(e),null!=this.selectedWorkForceData&&this.selectedWorkForceData.length>0)for(const t of this.selectedWorkForceData){let e=this.skillMatrixDetails.tableData.length;for(;e--;)this.skillMatrixDetails.tableData[e].isSelected=!1,this.skillMatrixDetails.tableData[e].empId==t.empId&&(this.skillMatrixDetails.tableData[e].isSelected=!0)}}isCheckedStatus(e,t){for(let n in e)if(t===n&&e[n].hasOwnProperty("currentSkillLevelId")&&e[n].hasOwnProperty("requireSkillLevelId"))return e[n].currentSkillLevelId>=e[n].requireSkillLevelId;return!1}isEligibleCheck(e,t){let n=!1;return e[t.field].currentSkillLevelId>=t.levelId&&(n=!0),n}onChangeEmp(e,t,n){if(console.log(e),console.log(t),"add"==n){let n=e.name;this.isObjectEmpty(this.isChecked(e,t.field))||(n+=" ("+this.isChecked(e,t.field).level+")");let l={empId:e.id,empName:n,workstationId:t.id,isSelected:!0,isEligible:this.isEligibleCheck(e,t)};this.selectedWorkForceData.push(l);let i=this.skillMatrixDetails.tableData.length;for(;i--;)this.skillMatrixDetails.tableData[i].empId==e.empId&&(this.skillMatrixDetails.tableData[i].isSelected=!0);console.log(this.selectedWorkForceData)}else{if(null!=this.selectedWorkForceData&&this.selectedWorkForceData.length>0){let t=this.selectedWorkForceData.length;for(;t--;)this.selectedWorkForceData[t].empId==e.empId&&this.selectedWorkForceData.splice(t,1)}let t=this.skillMatrixDetails.tableData.length;for(;t--;)this.skillMatrixDetails.tableData[t].empId==e.empId&&(this.skillMatrixDetails.tableData[t].isSelected=!1)}}saveWorkForce(){if(this.submitLoader=!0,null==this.searchDet.dept||0==this.searchDet.dept.length)return this.alertService.error("Please select department"),void(this.submitLoader=!1);if(null==this.searchDet.cell||0==this.searchDet.cell.length)return this.alertService.error("Please select cell / line"),void(this.submitLoader=!1);if(null==this.searchDet.shift||0==this.searchDet.shift.length)return this.alertService.error("Please select shift"),void(this.submitLoader=!1);if(!this.searchDet.fromDate||!this.searchDet.toDate)return this.alertService.error("Please select from and to date"),void(this.submitLoader=!1);if(null!=this.selectedWorkForceData&&this.selectedWorkForceData.length>0)for(let t=0;t<this.selectedWorkForceData.length;t++)this.selectedWorkForceData[t].deptId=this.searchDet.dept[0].id,this.selectedWorkForceData[t].lineId=this.searchDet.cell[0].id,this.selectedWorkForceData[t].shiftId=this.searchDet.shift[0].id,this.selectedWorkForceData[t].fromDt=Z(this.searchDet.fromDate).format("YYYY-MM-DD"),this.selectedWorkForceData[t].toDt=Z(this.searchDet.toDate).format("YYYY-MM-DD");let e={createdBy:this.userDet.empId,empList:this.selectedWorkForceData};if(null==e.empList||0==e.empList.length)return this.alertService.error("Please select employee"),void(this.submitLoader=!1);console.log(e),this.apiService.saveWorkforceData("apis/sm/saveWorkForceDeployment",e).subscribe(e=>{this.submitLoader=!1,e.result?(this.alertService.success("Workforce deployment saved successfully."),this.close("Cross Click")):this.alertService.error(100==e.statusCode?e.reason:"Error occurred while saving data. Please try again")},e=>{this.submitLoader=!1})}isObjectEmpty(e){return 0==Object.keys(e).length}isChecked(e,t){for(let n in e)if("View"==this.selectedDet.title){if(t==e.workstationName){if(this.isObjectEmpty(e)||!e.hasOwnProperty("currentSkillLevel")||!e.hasOwnProperty("currentSkillLevelId")||null==e.currentSkillLevelId)return{status:this.constant.NOT_ELIGIBLE,level:"L0"};if(e.currentSkillLevelId)return{status:this.constant.EQUAL,level:e.currentSkillLevel}}}else if(t==n){if(this.isObjectEmpty(e)||!e[n].hasOwnProperty("currentSkillLevel")||!e[n].hasOwnProperty("currentSkillLevelId"))return{status:this.constant.NOT_ELIGIBLE,level:"L0"};if(e[n].currentSkillLevelId==e[n].requireSkillLevelId)return{status:this.constant.EQUAL,level:e[n].currentSkillLevel};if(e[n].currentSkillLevelId>e[n].requireSkillLevelId)return{status:this.constant.EQUAL,level:e[n].currentSkillLevel};if(e[n].requireSkillLevelId-e[n].currentSkillLevelId==1)return{status:this.constant.ELIGIBLE,level:e[n].currentSkillLevel};if(e[n].requireSkillLevelId-e[n].currentSkillLevelId>1)return{status:this.constant.NOT_ELIGIBLE,level:e[n].currentSkillLevel}}return{}}sortFunction(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var l=Number(e[t])?e[t]:e[t].toUpperCase(),i=Number(n[t])?n[t]:n[t].toUpperCase();return l<i?-1:l>i?1:0}),e}setArray(e,t,n){let l=[];if(null!=e&&e.length>0)for(const i of e)i.id=i[t],i.name=i[n],l.push(i);return l}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](a.a),c["\u0275\u0275directiveInject"]($e.b),c["\u0275\u0275directiveInject"]("Constant"))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-view-workforce"]],inputs:{close:"close",selectedDet:"selectedDet"},features:[c["\u0275\u0275NgOnChangesFeature"]],decls:76,vars:35,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","headerTitle"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"row","m-0","formInputField"],[1,"col-2","insideLabel","p-l-5","p-r-5"],["for","moduleId",1,"col-form-label","p-0"],[1,"astrik"],[1,""],["name","branch",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","onSelect","onDeSelect","ngModelChange"],["for","dept",1,"col-form-label","p-0"],["name","dept",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","ngModelChange","onSelect","onDeSelect"],["for","cell",1,"col-form-label","p-0"],["name","cell",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","ngModelChange","onSelect","onDeSelect"],["for","shift",1,"col-form-label","p-0"],["name","shift",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","ngModelChange","onSelect","onDeSelect"],[1,"col-4","p-l-5","p-r-5"],[1,"row","m-0"],[1,"col-6","insideLabel","datePickerBlock","p-l-5","p-r-5"],["for","fromDate",1,"col-form-label"],[1,"custom-Input-Group",3,"click"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"feather","icon-calendar"],["matInput","","placeholder","From Date","name","fromDate",1,"form-control","datePickInput",3,"ngModel","min","matDatepicker","disabled","ngModelChange","keydown","dateChange"],["input","ngModel"],["fromDatePicker",""],["for","toDate",1,"col-form-label"],["matInput","","placeholder","To Date","name","toDate",1,"form-control","datePickInput",3,"ngModel","min","matDatepicker","disabled","ngModelChange","keydown","dateChange"],["toDatePicker",""],[1,"modal-body",2,"padding","10px"],[1,"table-block","skill-table"],[1,"table-responsive","tableFixHead"],[1,"table","table-bordered"],[4,"ngIf"],[1,"modal-footer"],[1,"row"],[1,"col-sm-12"],["type","button","aria-label","Close",1,"btn","cancelBtn","m-l-5",2,"margin-right","10px",3,"disabled","click"],["type","button","class","btn submitBtn event-btn",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","col",1,""],[1,"p-0"],["class","checkbox-block form-check",3,"ngClass","click",4,"ngIf"],[1,"checkbox-block","form-check",3,"ngClass","click"],["type","checkbox",1,"form-check-input",3,"checked","id","disabled"],[3,"for"],["class","checkbox-block form-check",3,"click",4,"ngIf"],[1,"checkbox-block","form-check",3,"click"],["type","checkbox",1,"form-check-input",3,"checked","id"],["colspan","12","class","text-center no-record-found",4,"ngIf"],["colspan","12","class","text-center loading-div",4,"ngIf"],["colspan","12",1,"text-center","no-record-found"],["colspan","12",1,"text-center","loading-div"],["colspan","6","class","text-center no-record-found",4,"ngIf"],["colspan","6","class","text-center loading-div",4,"ngIf"],["colspan","6",1,"text-center","no-record-found"],["colspan","6",1,"text-center","loading-div"],["type","button",1,"btn","submitBtn","event-btn",3,"click"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"h4",1),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"button",2),c["\u0275\u0275listener"]("click",function(){return t.close("Cross Click")}),c["\u0275\u0275elementStart"](4,"span",3),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"label",6),c["\u0275\u0275text"](9,"Plant\xa0"),c["\u0275\u0275elementStart"](10,"span",7),c["\u0275\u0275text"](11,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",8),c["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",9),c["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeBranch(e)})("onDeSelect",function(){return t.onChangeBranch(!1)})("ngModelChange",function(e){return t.searchDet.branch=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",5),c["\u0275\u0275elementStart"](15,"label",10),c["\u0275\u0275text"](16,"Department\xa0"),c["\u0275\u0275elementStart"](17,"span",7),c["\u0275\u0275text"](18,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"div",8),c["\u0275\u0275elementStart"](20,"ng-multiselect-dropdown",11),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.dept=e})("onSelect",function(e){return t.onChangeDept(e)})("onDeSelect",function(){return t.onChangeDept(!1)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"div",5),c["\u0275\u0275elementStart"](22,"label",12),c["\u0275\u0275text"](23,"Cell / Line\xa0"),c["\u0275\u0275elementStart"](24,"span",7),c["\u0275\u0275text"](25,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"div",8),c["\u0275\u0275elementStart"](27,"ng-multiselect-dropdown",13),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.cell=e})("onSelect",function(e){return t.onChangeCell(e)})("onDeSelect",function(){return t.onChangeCell(!1)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",5),c["\u0275\u0275elementStart"](29,"label",14),c["\u0275\u0275text"](30,"Shift\xa0"),c["\u0275\u0275elementStart"](31,"span",7),c["\u0275\u0275text"](32,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",8),c["\u0275\u0275elementStart"](34,"ng-multiselect-dropdown",15),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.shift=e})("onSelect",function(e){return t.onChangeShift(e)})("onDeSelect",function(){return t.onChangeShift(!1)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"div",16),c["\u0275\u0275elementStart"](36,"div",17),c["\u0275\u0275elementStart"](37,"div",18),c["\u0275\u0275elementStart"](38,"label",19),c["\u0275\u0275text"](39,"From Date\xa0"),c["\u0275\u0275elementStart"](40,"span",7),c["\u0275\u0275text"](41,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"div",20),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275reference"](49).open()}),c["\u0275\u0275elementStart"](43,"div",21),c["\u0275\u0275elementStart"](44,"div",22),c["\u0275\u0275element"](45,"i",23),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](46,"input",24,25),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.fromDate=e})("keydown",function(){return!1})("dateChange",function(e){return t.selectDate("from",e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](48,"mat-datepicker",null,26),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"div",18),c["\u0275\u0275elementStart"](51,"label",27),c["\u0275\u0275text"](52,"To Date\xa0"),c["\u0275\u0275elementStart"](53,"span",7),c["\u0275\u0275text"](54,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](55,"div",20),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275reference"](62).open()}),c["\u0275\u0275elementStart"](56,"div",21),c["\u0275\u0275elementStart"](57,"div",22),c["\u0275\u0275element"](58,"i",23),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](59,"input",28,25),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.toDate=e})("keydown",function(){return!1})("dateChange",function(e){return t.selectDate("to",e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](61,"mat-datepicker",null,29),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](63,"div",30),c["\u0275\u0275elementStart"](64,"perfect-scrollbar"),c["\u0275\u0275elementStart"](65,"div",31),c["\u0275\u0275elementStart"](66,"div",32),c["\u0275\u0275elementStart"](67,"table",33),c["\u0275\u0275template"](68,ct,7,3,"ng-container",34),c["\u0275\u0275template"](69,ht,5,2,"ng-container",34),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](70,"div",35),c["\u0275\u0275elementStart"](71,"div",36),c["\u0275\u0275elementStart"](72,"div",37),c["\u0275\u0275elementStart"](73,"button",38),c["\u0275\u0275listener"]("click",function(){return t.close("Cross Click")}),c["\u0275\u0275text"](74,"Cancel "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](75,ft,4,3,"button",39),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](49),n=c["\u0275\u0275reference"](62);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",t.selectedDet.title," Workforce Deployment "),c["\u0275\u0275advance"](11),c["\u0275\u0275property"]("placeholder","Select Plant")("settings",t.SingleDropdownSettings)("data",t.branchAccessList)("ngModel",t.searchDet.branch)("disabled","View"==t.selectedDet.title),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("placeholder","Select Department")("settings",t.SingleDropdownSettings)("data",t.deptList)("ngModel",t.searchDet.dept)("disabled","View"==t.selectedDet.title),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("placeholder","Select Cell / Line")("settings",t.SingleDropdownSettings)("data",t.cellList)("ngModel",t.searchDet.cell)("disabled","View"==t.selectedDet.title),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("placeholder","Select Shift")("settings",t.SingleDropdownSettings)("data",t.shiftList)("ngModel",t.searchDet.shift)("disabled","View"==t.selectedDet.title),c["\u0275\u0275advance"](12),c["\u0275\u0275property"]("ngModel",t.searchDet.fromDate)("min",t.minDate)("matDatepicker",e)("disabled","View"==t.selectedDet.title),c["\u0275\u0275advance"](13),c["\u0275\u0275property"]("ngModel",t.searchDet.toDate)("min",t.searchDet.fromDate)("matDatepicker",n)("disabled","View"==t.selectedDet.title),c["\u0275\u0275advance"](5),c["\u0275\u0275styleProp"]("height","Add"==t.selectedDet.title?"calc(100vh - 23vh)":"calc(100vh - 15vh)"),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",!t.isObjectEmpty(t.skillMatrixDetails)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isObjectEmpty(t.skillMatrixDetails)),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("disabled",t.submitLoader&&"Add"==t.selectedDet.title),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","Add"==t.selectedDet.title)}},directives:[h.a,o.o,o.r,ne.b,o.c,le.b,le.a,g.b,l.NgIf,l.NgForOf,l.NgClass,p.a],styles:[".tableFixHead[_ngcontent-%COMP%]{max-height:calc(100vh - 23vh)!important;min-height:calc(100vh - 23vh)!important;height:calc(100vh - 23vh)!important}.tableFixHead.ViewTable[_ngcontent-%COMP%]{max-height:calc(100vh - 15vh)!important;min-height:calc(100vh - 15vh)!important;height:calc(100vh - 15vh)!important}.formInputField[_ngcontent-%COMP%]{border-bottom:1px solid #7044cd}.formInputField[_ngcontent-%COMP%]   .insideLabel[_ngcontent-%COMP%]{margin-bottom:10px}.formInputField[_ngcontent-%COMP%]   .insideLabel[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:0;font:normal normal 700 12px/1.5 Helvetica Neue;left:1.5rem;color:#7044cd}.formInputField[_ngcontent-%COMP%]   .insideLabel.datePickerBlock[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{top:-10px;background:#fff;padding:0 5px;left:15px}.formInputField[_ngcontent-%COMP%]   .insideLabel.datePickerBlock[_ngcontent-%COMP%]   .custom-Input-Group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled, .formInputField[_ngcontent-%COMP%]   .insideLabel.datePickerBlock[_ngcontent-%COMP%]   .custom-Input-Group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:transparent}.checkbox-block[_ngcontent-%COMP%]{padding:8px 10px!important;border-bottom:1px solid #d3d3d3!important;cursor:pointer!important}.checkbox-block[_ngcontent-%COMP%]:last-child{border-bottom:none!important}.checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;cursor:pointer!important}.checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{margin-right:5px!important}.checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{top:.9rem!important;left:.89rem!important}.red-text[_ngcontent-%COMP%]{color:red}.footerBlock[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:5px 25px!important;border-top:1px solid #e3eaef;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}"]}),e})();function xt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",34),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().removeFilter()}),c["\u0275\u0275text"](1,"x"),c["\u0275\u0275elementEnd"]()}}function St(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",35),c["\u0275\u0275text"](1,"Filter Applied"),c["\u0275\u0275elementEnd"]())}function bt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",36),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().getSearchList(!0)}),c["\u0275\u0275elementEnd"]()}}function vt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",37),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().getSearchList(!1)}),c["\u0275\u0275elementEnd"]()}}function Ct(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"td"),c["\u0275\u0275text"](8),c["\u0275\u0275pipe"](9,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"td"),c["\u0275\u0275text"](11),c["\u0275\u0275pipe"](12,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"td"),c["\u0275\u0275elementStart"](14,"a",38),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit,l=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](46);return l.addWorkForce(i,n,"View")}),c["\u0275\u0275element"](15,"i",39),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](16," \xa0 \xa0 "),c["\u0275\u0275elementStart"](17,"i",40),c["\u0275\u0275elementStart"](18,"img",41),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"]().getWorkForceDeploymentDetails(n)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.deptName||""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.lineName||""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.shiftName||""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"]((e.fromDate?c["\u0275\u0275pipeBind2"](9,5,e.fromDate,"dd-MM-yyyy"):"")||""),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"]((e.toDate?c["\u0275\u0275pipeBind2"](12,8,e.toDate,"dd-MM-yyyy"):"")||"")}}function kt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",44),c["\u0275\u0275text"](1," Data Not Found "),c["\u0275\u0275elementEnd"]())}function Lt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",45),c["\u0275\u0275element"](1,"app-loading"),c["\u0275\u0275elementEnd"]())}function It(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,kt,2,0,"td",42),c["\u0275\u0275template"](2,Lt,2,0,"td",43),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.listLoader),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.listLoader)}}function Et(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Please select plant "),c["\u0275\u0275elementEnd"]())}function Mt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",66),c["\u0275\u0275template"](1,Et,2,0,"div",31),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.formdata.controls.branchId.errors.required)}}function yt(e,t){1&e&&c["\u0275\u0275element"](0,"span",67)}function wt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",68),c["\u0275\u0275text"](1,"Loading..."),c["\u0275\u0275elementEnd"]())}function Pt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",69),c["\u0275\u0275text"](1,"Apply Filter"),c["\u0275\u0275elementEnd"]())}function Ft(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",46),c["\u0275\u0275elementStart"](1,"h4",47),c["\u0275\u0275text"](2,"Filter"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"button",48),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",49),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",50),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.submitFilterForm(t.filterData)}),c["\u0275\u0275elementStart"](7,"div",51),c["\u0275\u0275elementStart"](8,"perfect-scrollbar"),c["\u0275\u0275elementStart"](9,"div",52),c["\u0275\u0275elementStart"](10,"label",53),c["\u0275\u0275text"](11,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",54),c["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",55),c["\u0275\u0275listener"]("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(t,"plant")})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(!1,"dept")})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.branch=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](14,Mt,2,1,"div",56),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div",52),c["\u0275\u0275elementStart"](16,"label",57),c["\u0275\u0275text"](17,"Department"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",54),c["\u0275\u0275elementStart"](19,"ng-multiselect-dropdown",58),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.deptId=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(t,"dept")})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(!1,"line")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",52),c["\u0275\u0275elementStart"](21,"label",59),c["\u0275\u0275text"](22,"Cell / Line"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"div",54),c["\u0275\u0275elementStart"](24,"ng-multiselect-dropdown",60),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.lineIds=t})("onSelect",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275nextContext"]();return n.onChange(t,n.line)})("onSelectAll",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(t,"dept")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"div",61),c["\u0275\u0275elementStart"](26,"button",62),c["\u0275\u0275template"](27,yt,1,0,"span",63),c["\u0275\u0275template"](28,wt,2,0,"span",64),c["\u0275\u0275template"](29,Pt,2,0,"span",65),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("formGroup",e.filterData),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("placeholder","Select Plant")("settings",e.SingleDropdownSettings)("data",e.branchAccessList)("ngModel",e.searchDet.branch),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitAttempted&&e.formdata.controls.branchId.invalid&&(e.formdata.controls.branchId.touched||e.filterData.controls.branchId.dirty)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("placeholder","Select Department")("settings",e.SingleDropdownSettings)("data",e.searchDet.deptList)("ngModel",e.searchDet.deptId),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("placeholder","Select Cell / Line")("settings",e.SingleDropdownSettings)("data",e.cellLineList)("ngModel",e.searchDet.lineIds),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",e.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.submitSpinner)}}function At(e,t){if(1&e&&c["\u0275\u0275element"](0,"app-add-view-workforce",70),2&e){const e=t.close,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("close",e)("selectedDet",n.selectedDet)}}const Ot=function(e){return{applied:e}};let Nt=(()=>{class e{constructor(e,t,n,l){this.apiService=e,this.modalConfig=t,this.fb=n,this.modalService=l,this.submitAttempted=!1,this.userDet={},this.cellLineList=[],this.searchDet={},this.selectedDet={},this.branchAccessList=[],this.workforceList=[],this.deptList=[],this.SingleDropdownSettings={},this.filterFlag=!1,this.listLoader=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:5,listLength:50},this.headings={},this.WorkForceDetails=[],this.empListArray=[],this.columnsArray=[],this.headingName=[],this.isAppliedFilter=!1,t.backdrop="static",t.keyboard=!1}ngOnInit(){this.userDet=JSON.parse(localStorage.getItem("userDet")),console.log(this.userDet),new Date,this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.getBranchAccessList(),this.date=Z(new Date).format("YYYY-MM"),this.filterData=this.fb.group({branchId:new o.f("",o.z.required),deptId:new o.f(""),lineIds:new o.f("")}),this.getWorkforceList("")}getBranchAccessList(){this.apiService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(e=>{e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?(this.branchAccessList=this.setArray(e.branchAccessList,"branchId","branchName"),this.branchAccessList=this.sortFunction(this.branchAccessList,"branchName"),console.log(this.branchAccessList),console.log(this.searchDet.branch)):this.branchAccessList=[{id:this.userDet.branch.branchId,name:this.userDet.branch.name}],this.branchAccessList=this.sortFunction(this.branchAccessList,"name")})}resetFormField(e,t){Object.keys(e.controls).forEach(n=>{n==t&&(e.get(t).reset(),e.get(t).markAsPristine(),e.get(t).markAsUntouched())})}onChange(e,t){e?"plant"==t?(this.resetFormField(this.filterData,"searchDet.branch"),this.resetFormField(this.filterData,"searchDet.deptId"),this.resetFormField(this.filterData,"searchDet.lineIds"),this.getDeptList(e),this.searchDet.deptId=[],this.searchDet.deptList=[]):"dept"==t&&(console.log(e),this.getCellList(this.searchDet.branch),this.searchDet.lineIds=[]):"plant"==t?this.searchDet&&(this.searchDet.deptList=[],this.searchDet.lineIds=[]):"dept"==t&&this.searchDet&&(this.searchDet.lineIds=[])}getSearchList(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getWorkforceList(this.filterFlag?"filter":"")}clearPagination(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}onChangeCell(e){e||(this.workforceList=[])}removeFilter(){this.isAppliedFilter=!1,this.filterData.reset(),this.searchDet.branch=[],this.searchDet.deptId=[],this.searchDet.lineIds=[],this.searchDet.fromDate=null,this.searchDet.toDate=null,this.getWorkforceList("")}submitFilterForm(e){this.submitAttempted=!0,e.invalid?Object.keys(e.controls).forEach(t=>{e.controls[t].markAsDirty()}):(this.clearPagination(),this.isAppliedFilter=!0,this.searchDet.filterFlag=!0,this.getWorkforceList("filter"),this.modalService.dismissAll())}getDeptList(e){null!=this.searchDet.branch&&this.searchDet.branch.length>0&&this.apiService.getdepartmentlistbybranchid("getdepartmentlistbybranchid/"+e.id).subscribe(e=>{e.result?(console.log(e),null!=e.deptList&&e.deptList.length>0?(console.log(e.deptList),this.searchDet.deptList=this.setArray(e.deptList,"deptId","deptName"),this.searchDet.deptList=this.sortFunction(this.searchDet.deptList,"deptName")):this.searchDet.deptList=[]):this.searchDet.deptList=[]})}getCellList(e){this.selectedBranchId=this.searchDet.branch[0].id,console.log(this.selectedBranchId),this.selectedDeptId=this.searchDet.deptId[0].id,console.log(this.selectedDeptId);const t={branchId:this.selectedBranchId,deptId:this.selectedDeptId};console.log(t),this.apiService.getCellList("apis/sm/getCellList",t).subscribe(e=>{e.result&&null!=e.dataList&&e.dataList.length>0?(console.log(e.dataList),this.cellLineList=this.setArray(e.dataList,"lineId","lineName"),this.cellLineList=this.sortFunction(this.cellLineList,"lineName")):this.cellLineList=[]})}getWorkforceList(e){this.workforceList=[],this.listLoader=!0;let t={branchId:this.userDet.branch.branchId,orgId:this.userDet.organization.orgId,offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage,this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction.toUpperCase()),"filter"==e&&(null!=this.searchDet.branchId&&this.searchDet.branchId.length>0&&(t.branchId=this.searchDet.branchId[0].id),null!=this.searchDet.deptId&&this.searchDet.deptId.length>0&&(t.deptId=this.searchDet.deptId[0].id),null!=this.searchDet.lineIds&&this.searchDet.lineIds.length>0&&(t.lineIds=this.getIDsArray(this.searchDet.lineIds)),null!=this.searchDet.fromDate&&(t.fromDt=Z(this.searchDet.fromDate).format("YYYY-MM-DD")),null!=this.searchDet.toDate&&(t.toDate=Z(this.searchDet.toDate).format("YYYY-MM-DD"))),this.searchDet.searchData&&this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),this.staticPagination.listLength=10,console.log(t),this.apiService.getWorkforceDeploymentData("apis/sm/getWorkForceDeploymentList",t).subscribe(e=>{if(this.listLoader=!1,e.result){if(null!=e.dataList&&e.dataList.length>0){this.workforceList=e.dataList,console.log(this.workforceList),1==this.staticPagination.page&&(this.staticPagination.total=e.totalCount,this.staticPagination.totalPages=this.staticPagination.total>0?Math.ceil(this.staticPagination.total/this.staticPagination.itemsPerPage):0);let t=!0;this.workforceList.forEach(e=>{1!=e.stageId&&(t=!1)}),t&&(this.workforceList=this.workforceList.sort(function(e,t){return e.dayNo-t.dayNo})),this.staticPagination.listLength=this.workforceList.length}else this.workforceList=[],this.staticPagination.listLength=this.workforceList.length;this.staticPagination.listLength=this.workforceList.length}else this.workforceList=[],this.staticPagination.listLength=this.workforceList.length})}sortData(e){this.sorting=e,console.log(this.sorting),this.getWorkforceList("")}getWorkForceDeploymentDetails(e){this.headings.lineName=e.lineName,this.headings.deptName=e.deptName,this.headings.branchName=e.branchName,this.headings.shiftName=e.shiftName,console.log(e);var t={deptId:e.deptId,branchId:e.branchId,lineId:e.lineId,shiftId:e.shiftId};e.toDate=Z(new Date).format("YYYY-MM"),console.log(t),this.apiService.getWorkForceDeploymentDetails("apis/sm/getWorkForceDeploymentDetails",t).subscribe(e=>{console.log(e),e.result&&(this.WorkForceDetails=e.data,this.columnsArray=this.WorkForceDetails.columns,this.empListArray=this.WorkForceDetails.empList,this.exportToExcel(),console.log(this.WorkForceDetails))})}addWorkForce(e,t,n){this.selectedDet=t,this.selectedDet.title=n,this.modalService.open(e,{windowClass:"right"}).result.then(e=>{this.getWorkforceList("")},e=>{console.log(e),this.getWorkforceList("")})}filterModalOpen(e){this.filterFlag=!0,this.modalService.open(e,{windowClass:"filterPopup"}),this.getWorkforceList("filter")}sortFunction(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var l=Number(e[t])?e[t]:e[t].toUpperCase(),i=Number(n[t])?n[t]:n[t].toUpperCase();return l<i?-1:l>i?1:0}),e}setArray(e,t,n){let l=[];if(null!=e&&e.length>0)for(const i of e)i.id=i[t],i.name=i[n],l.push(i);return l}getIDsArray(e){let t=[];if(null!=e&&e.length>0)for(const n of e)t.push(n.id);return t}exportToExcel(){const e=new r.Workbook,t=e.addWorksheet("Skill Matrix"),n=["Emp Id","Emp Name","Work Station"];for(let l=1;l<=n.length;l++)t.getColumn(1).width=15;t.getColumn(2).width=25,t.getColumn(3).width=25,Array(n.length).fill("")[Math.floor(n.length/2)]=this.headingName,t.getRow(1).height=30,t.getRow(2).height=30,t.getRow(3).height=30,t.getRow(1).font={bold:!0},t.getRow(2).font={bold:!0},t.getRow(3).font={bold:!0},t.mergeCells("A1:C1"),t.getCell("A1").value="Plant :"+this.headings.branchName+"     Department :"+this.headings.deptName+"     Shift :"+this.headings.shiftName,t.getCell("A1").alignment={horizontal:"center",vertical:"middle",wrapText:!0},t.getCell("A1").border={top:{style:"thin"},bottom:{style:"thin"}},t.mergeCells("A2:C2"),t.getCell("A2").value=this.headings.lineName,t.getCell("A2").fill={type:"pattern",pattern:"solid",fgColor:{argb:"99cd3a"}},t.getCell("A2").alignment={horizontal:"center",vertical:"middle",wrapText:!0},t.getCell("A2").border={top:{style:"thin"},bottom:{style:"thin"}},t.mergeCells("A3:C3"),t.getCell("A3").value="Fron Date :"+Z(this.WorkForceDetails.empList[0].fromDate).format("DD-MM-YYY")+"    To Date :"+Z(this.WorkForceDetails.empList[0].toDate).format("DD-MM-YYYY"),t.getCell("A3").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"}},t.getCell("A3").alignment={horizontal:"center",vertical:"middle",wrapText:!0},t.getCell("A3").border={top:{style:"thin"},bottom:{style:"thin"}},t.addRow(n),this.WorkForceDetails.empList.forEach(e=>{t.addRow([e.companyEmpId,e.empName,e.workstationName])}),e.xlsx.writeBuffer().then(e=>{const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),l=document.createElement("a");l.href=n,l.download="skill-matrix.xlsx",l.click(),window.URL.revokeObjectURL(n)})}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](a.a),c["\u0275\u0275directiveInject"](d.k),c["\u0275\u0275directiveInject"](o.e),c["\u0275\u0275directiveInject"](d.j))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-workforce-deployment"]],decls:47,vars:10,consts:[[1,"row","m-0"],[1,"col-8","m-auto"],["title","Workforce Deployment",1,"title"],[1,"col-3","m-auto"],[1,"col-1","p-0","m-auto","text-center"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"form-group","has-search","col-4"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","name","searchInput","placeholder","Search by palace holder","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col-4"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button","title","Add Workforce Deployment",1,"btn","addRegBtn","m-0",3,"click"],[1,"fa","fa-plus","m-r-10",2,"text-align","center"],[1,"table-block","skill-table"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["scope","col","mat-sort-header","Department"],["mat-sort-header","Line","scope","col"],["scope","col","mat-sort-header","Shift"],["scope","col","mat-sort-header","FromDate"],["scope","col","mat-sort-header","ToDate"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["filterPopup",""],["addWorkForceModal",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[2,"color","#7044CD","cursor","pointer",3,"click"],[1,"fa","fa-eye","viewIcon"],[2,"color","#7044CD","cursor","pointer"],["src","assets/images/ic_excel.png","alt","",1,"img-fluid",3,"click"],["colspan","6","class","text-center no-record-found",4,"ngIf"],["colspan","6","class","text-center loading-div",4,"ngIf"],["colspan","6",1,"text-center","no-record-found"],["colspan","6",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","moduleId",1,"col-sm-12","col-form-label","filter-label"],[1,"col-sm-12"],["name","selectedModuleId","formControlName","branchId",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"],["class","custom-errorMsg","style","padding-left: 15px;",4,"ngIf"],["for","dept",1,"col-sm-12","col-form-label","filter-label"],["name","dept","formControlName","deptId",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],["for","cell",1,"col-sm-12","col-form-label","filter-label"],["name","cell","formControlName","lineIds",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onSelectAll"],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg",2,"padding-left","15px"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"],[3,"close","selectedDet"]],template:function(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275element"](2,"app-topBar",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](3,"div",3),c["\u0275\u0275elementStart"](4,"div",4),c["\u0275\u0275elementStart"](5,"div",5),c["\u0275\u0275elementStart"](6,"button",6),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](44);return t.filterModalOpen(n)}),c["\u0275\u0275element"](7,"i",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,xt,2,0,"div",8),c["\u0275\u0275template"](9,St,2,0,"div",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",10),c["\u0275\u0275elementStart"](11,"div",11),c["\u0275\u0275elementStart"](12,"div",0),c["\u0275\u0275elementStart"](13,"div",12),c["\u0275\u0275template"](14,bt,1,0,"span",13),c["\u0275\u0275template"](15,vt,1,0,"span",14),c["\u0275\u0275elementStart"](16,"input",15),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](17,"div",16),c["\u0275\u0275elementStart"](18,"div",17),c["\u0275\u0275elementStart"](19,"div",18),c["\u0275\u0275elementStart"](20,"button",19),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](46);return t.addWorkForce(n,{},"Add")}),c["\u0275\u0275element"](21,"i",20),c["\u0275\u0275text"](22,"Create"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"div",21),c["\u0275\u0275elementStart"](24,"div",22),c["\u0275\u0275elementStart"](25,"table",23),c["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),c["\u0275\u0275elementStart"](26,"thead"),c["\u0275\u0275elementStart"](27,"tr"),c["\u0275\u0275elementStart"](28,"th",24),c["\u0275\u0275text"](29,"Department"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"th",25),c["\u0275\u0275text"](31,"Cell / Line"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"th",26),c["\u0275\u0275text"](33,"Shift"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"th",27),c["\u0275\u0275text"](35,"From Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"th",28),c["\u0275\u0275text"](37,"To Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"th",29),c["\u0275\u0275text"](39,"Action"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"tbody"),c["\u0275\u0275template"](41,Ct,19,11,"tr",30),c["\u0275\u0275template"](42,It,3,2,"tr",31),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](43,Ft,30,17,"ng-template",null,32,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](45,At,1,2,"ng-template",null,33,c["\u0275\u0275templateRefExtractor"])}2&e&&(c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](8,Ot,t.isAppliedFilter)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.isAppliedFilter),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAppliedFilter),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),c["\u0275\u0275advance"](25),c["\u0275\u0275property"]("ngForOf",t.workforceList),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==t.workforceList||0==t.workforceList.length))},directives:[m.a,l.NgClass,l.NgIf,o.c,o.o,o.r,ee.a,ee.b,l.NgForOf,p.a,o.A,o.p,o.h,g.b,h.a,o.g,Dt],pipes:[l.DatePipe],styles:[".insideLabel[_ngcontent-%COMP%]{margin-bottom:10px}.insideLabel[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:0;font:normal normal 700 12px/1.5 Helvetica Neue;left:1.5rem;color:#7044cd}.extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]{right:5rem!important}.img-fluid[_ngcontent-%COMP%]{height:20px}.title[_ngcontent-%COMP%]{color:#7044cd!important}.extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{right:9rem!important}"]}),e})();var _t=n("fsj3");function Vt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",32),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().removeFilter()}),c["\u0275\u0275text"](1,"x"),c["\u0275\u0275elementEnd"]()}}function Wt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",33),c["\u0275\u0275text"](1,"Filter Applied"),c["\u0275\u0275elementEnd"]())}function Tt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",34),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().getSearchList(!0)}),c["\u0275\u0275elementEnd"]()}}function Bt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",35),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().getSearchList(!1)}),c["\u0275\u0275elementEnd"]()}}const Rt=function(e,t){return{completed:e,pending:t}};function jt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"td"),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td"),c["\u0275\u0275text"](12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"td",36),c["\u0275\u0275text"](14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"td",37),c["\u0275\u0275elementStart"](16,"a",38),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit,l=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](47);return l.previewCertificate(n,i)}),c["\u0275\u0275element"](17,"i",39),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](18," \xa0 \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.branchName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.deptName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.companyEmpId),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.empName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.workstationName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.levelName),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](8,Rt,"COMPLETED"==e.status,"PENDING"==e.status)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.status)}}function Yt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",42),c["\u0275\u0275text"](1," Data Not Found "),c["\u0275\u0275elementEnd"]())}function zt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",43),c["\u0275\u0275element"](1,"app-loading"),c["\u0275\u0275elementEnd"]())}function $t(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,Yt,2,0,"td",40),c["\u0275\u0275template"](2,zt,2,0,"td",41),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.listLoading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.listLoading)}}function Ut(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Please select plant "),c["\u0275\u0275elementEnd"]())}function Ht(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",62),c["\u0275\u0275template"](1,Ut,2,0,"div",28),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.filterData.controls.branchId.errors.required)}}function qt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Please select department "),c["\u0275\u0275elementEnd"]())}function Gt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",62),c["\u0275\u0275template"](1,qt,2,0,"div",28),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.filterData.controls.deptIds.errors.required)}}function Qt(e,t){1&e&&c["\u0275\u0275element"](0,"span",63)}function Jt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",64),c["\u0275\u0275text"](1," Loading..."),c["\u0275\u0275elementEnd"]())}function Kt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",65),c["\u0275\u0275text"](1,"Apply Filter"),c["\u0275\u0275elementEnd"]())}function Xt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",44),c["\u0275\u0275elementStart"](1,"h4",45),c["\u0275\u0275text"](2,"Filter"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"button",46),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",47),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",48),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.submitFilterForm(t.filterData)}),c["\u0275\u0275elementStart"](7,"div",49),c["\u0275\u0275elementStart"](8,"perfect-scrollbar"),c["\u0275\u0275elementStart"](9,"div",50),c["\u0275\u0275elementStart"](10,"label",51),c["\u0275\u0275text"](11,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",52),c["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",53),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.branch=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(t,"plant")})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(!1,"plant")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](14,Ht,2,1,"div",54),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div",50),c["\u0275\u0275elementStart"](16,"label",55),c["\u0275\u0275text"](17,"Department"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",52),c["\u0275\u0275elementStart"](19,"ng-multiselect-dropdown",56),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().searchDet.deptIds=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(t,"dept")})("onDeSelect",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChange(!1,"dept")})("onSelectAll",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeAll(t,"dept")})("onDeSelectAll",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onChangeAll(t,"dept")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](20,Gt,2,1,"div",54),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"div",57),c["\u0275\u0275elementStart"](22,"button",58),c["\u0275\u0275template"](23,Qt,1,0,"span",59),c["\u0275\u0275template"](24,Jt,2,0,"span",60),c["\u0275\u0275template"](25,Kt,2,0,"span",61),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("formGroup",e.filterData),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("placeholder","Select Plant")("settings",e.SingleDropdownSettings)("data",e.getSortFunction(e.plantList,"plant"))("ngModel",e.searchDet.branch),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitAttempted&&e.filterData.controls.branchId.invalid&&(e.filterData.controls.branchId.touched||e.filterData.controls.branchId.dirty)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("placeholder","Select Department")("settings",e.multipleDropdownSettings)("data",e.getSortFunction(e.searchDet.departmentList,"dept"))("ngModel",e.searchDet.deptIds),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitAttempted&&e.filterData.controls.deptIds.invalid&&(e.filterData.controls.deptIds.touched||e.filterData.controls.deptIds.dirty)),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",e.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.submitSpinner)}}function Zt(e,t){if(1&e&&c["\u0275\u0275element"](0,"app-viewCertificate",66),2&e){const e=t.close,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("close",e)("selectedDet",n.selectedRecForModal)}}const en=function(e){return{applied:e}},tn=[{path:"",component:X},{path:"home",component:X},{path:"actions",component:be},{path:"ojt_plan",loadChildren:()=>n.e(23).then(n.bind(null,"FDYh")).then(e=>e.OjtPlanModule)},{path:"ojt_registration",loadChildren:()=>n.e(24).then(n.bind(null,"YZv3")).then(e=>e.OjtRegistrationModule)},{path:"workforce_Deployment",component:Nt},{path:"assessments",component:ze},{path:"certificates",component:(()=>{class e{constructor(e,t,n,l,i){this.modalConfig=e,this.modalService=t,this.alertService=n,this.fb=l,this.apiService=i,this.submitAttempted=!1,this.searchDet={},this.userDet={},this.submitSpinner=!1,this.plantList=[],this.listLoading=!1,this.staticPagination={total:50,page:1,maxSize:5,itemsPerPage:10,totalPages:5,listLength:50},this.filterFlag=!1,e.backdrop="static",e.keyboard=!1}ngOnInit(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.filterData=this.fb.group({branchId:new o.f("",o.z.required),deptIds:new o.f("")}),this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.multipleDropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0},this.getAccessiblePlantList(),this.getMasterCertificateList()}setArray(e,t,n){let l=[];if(null!=e&&e.length>0)for(const i of e)i.id=i[t],i.name=i[n],l.push(i);return l}getAccessiblePlantList(){this.apiService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(e=>{console.log(e),this.plantList=e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?this.setArray(e.branchAccessList,"branchId","branchName"):[{id:this.userDet.branch.branchId,name:this.userDet.branch.name}],this.searchDet.branchId=this.plantList[0].branchId,this.getbranchId=this.plantList[0].id,console.log(this.getbranchId)})}getDepartmentList(e){console.log(e),this.apiService.getDepartmentByBranch("getdepartmentlistbybranchid/"+e).subscribe(e=>{e.result&&null!=e.deptList&&e.deptList.length>0?(this.departmentList=this.setArray(e.deptList,"deptId","deptName"),this.searchDet.departmentList=this.setArray(e.deptList,"deptId","deptName")):this.searchDet.departmentList=[]})}filterModalOpen(e){this.resetFormField(this.filterData,"branchId"),this.resetFormField(this.filterData,"deptIds"),this.searchDet.branch=[],this.searchDet.deptIds=[],this.modalService.open(e,{windowClass:"filterPopup"}).result.then(e=>{console.log(`Closed with: ${e}`)},e=>{console.log("Closed with:"+e),"Cross click"==e&&(this.submitAttempted=!1)})}onChange(e,t){e?"plant"==t&&(this.searchDet.branchId=e.id,console.log(e),this.searchDet.deptIds=[],this.getDepartmentList(this.searchDet.branchId)):"plant"==t&&(this.searchDet.departmentList=[],this.resetFormField(this.filterData,"deptIds"))}onChangeAll(e,t){e?console.log("Select All action"):console.log("Unselect All action")}submitFilterForm(e){this.submitAttempted=!0,console.log(e),e.invalid&&(Object.keys(e.controls).forEach(t=>{e.controls[t].markAsDirty()}),e.controls.branchId.invalid)||(this.clearPagination(),this.searchDet.filterFlag=!0,this.getMasterCertificateList(),this.modalService.dismissAll())}clearPagination(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}removeFilter(){this.submitAttempted=!1,this.filterData.reset(),this.searchDet.branch=[],this.searchDet.deptIds=[],this.searchDet.filterFlag=!1,this.searchDet.filterPopupOpen=!1,this.certificateList=[],this.getDepartmentList(this.plantList[0].id)}getMasterCertificateList(){this.listLoading=!0,this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;var e={orgId:this.userDet.organization.orgId,offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};if(null!=this.searchDet.branch&&this.searchDet.branch.length>0)for(let t=0;t<this.searchDet.branch.length;t++)e.branchId=this.searchDet.branch[0].id;else e.branchId=this.userDet.branch.branchId;if(null!=this.getIDsArray(this.searchDet.deptIds)&&this.getIDsArray(this.searchDet.deptIds).length>0)for(let t=0;t<this.getIDsArray(this.searchDet.deptIds).length;t++)e.deptIds=this.getIDsArray(this.searchDet.deptIds);this.sorting&&""!=this.sorting.direction&&(e.colName=this.sorting.active,e.orderType=this.sorting.direction.toUpperCase()),this.searchDet.searchData&&this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(e.search=this.searchDet.searchInput),this.apiService.getCertificateList("apis/sm/getCertificateList",e).subscribe(e=>{this.listLoading=!1,console.log(e),e.result?(1==this.staticPagination.page&&(this.staticPagination.total=e.totalCount,this.staticPagination.totalPages=Math.ceil(e.totalCount/this.staticPagination.itemsPerPage)),null!=e.dataList&&e.dataList.length>0?(this.certificateList=e.dataList,console.log(this.certificateList),this.staticPagination.listLength=e.dataList.length):(this.certificateList=[],this.staticPagination.listLength=this.certificateList.length,this.staticPagination.total=this.certificateList.length)):(this.certificateList=[],this.staticPagination.listLength=this.certificateList.length,this.staticPagination.total=this.certificateList.length)})}previewCertificate(e,t){console.log(e,t),this.selectedRecForModal=e,this.modalService.open(t,{windowClass:"bottom"})}resetFormField(e,t){Object.keys(e.controls).forEach(n=>{""!=t&&n==t?(e.get(t).reset(),e.get(t).markAsPristine(),e.get(t).markAsUntouched()):(e.get(n).reset(),e.get(n).markAsPristine(),e.get(n).markAsUntouched())})}loadMore(e){this.certificateList=[],this.listLoading=!0,this.staticPagination=e,this.certificateList=[],this.getMasterCertificateList()}sortData(e){this.sorting=e,this.getMasterCertificateList()}getIDsArray(e){let t=[];if(null!=e&&e.length>0)for(const n of e)t.push(n.id);return t}getSearchList(e){console.log(e),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getMasterCertificateList()}getSortFunction(e,t){return e&&Array.isArray(e)&&e.length>0&&("plant"!==t&&"cell"!==t&&"dept"!==t||e.sort(function(e,t){var n=e.name?e.name.toUpperCase():"",l=t.name?t.name.toUpperCase():"";return n<l?-1:n>l?1:0})),e}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](d.k),c["\u0275\u0275directiveInject"](d.j),c["\u0275\u0275directiveInject"]($e.b),c["\u0275\u0275directiveInject"](o.e),c["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-certificates"]],decls:48,vars:11,consts:[[1,"row","m-0"],[1,"col-8","m-auto"],["title","Certificates"],[1,"col-3","m-auto"],[1,"col-1","p-0","m-auto","text-center"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent","row","m-0"],[1,"col-4"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","name","searchInput","placeholder","Search by name or workstation","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","DeptName"],["mat-sort-header","EmpId"],["mat-sort-header","EmpName"],["mat-sort-header","Workstation"],["mat-sort-header","LevelName"],["mat-sort-header","Status"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["FilterModal",""],["certificateModal",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[3,"ngClass"],[1,"actionTd","fixedColumn"],[2,"color","#7044CD","cursor","pointer",3,"click"],[1,"fa","fa-eye","viewIcon"],["colspan","11","class","text-center no-record-found",4,"ngIf"],["colspan","11","class","text-center loading-div",4,"ngIf"],["colspan","11",1,"text-center","no-record-found"],["colspan","11",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","branchId",1,"col-sm-12","col-form-label","filter-label","p-b-0"],[1,"col-sm-12"],["name","branchId","id","branchId","formControlName","branchId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],["class","custom-errorMsg","style","padding-left: 15px;",4,"ngIf"],["for","deptIds",1,"col-sm-12","col-form-label","filter-label","p-b-0"],["name","deptIds","id","deptIds","formControlName","deptIds",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg",2,"padding-left","15px"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"],[3,"close","selectedDet"]],template:function(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275element"](2,"app-topBar",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](3,"div",3),c["\u0275\u0275elementStart"](4,"div",4),c["\u0275\u0275elementStart"](5,"div",5),c["\u0275\u0275elementStart"](6,"button",6),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](45);return t.filterModalOpen(n)}),c["\u0275\u0275element"](7,"i",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,Vt,2,0,"div",8),c["\u0275\u0275template"](9,Wt,2,0,"div",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",10),c["\u0275\u0275elementStart"](11,"div",11),c["\u0275\u0275elementStart"](12,"div",12),c["\u0275\u0275elementStart"](13,"div",13),c["\u0275\u0275template"](14,Tt,1,0,"span",14),c["\u0275\u0275template"](15,Bt,1,0,"span",15),c["\u0275\u0275elementStart"](16,"input",16),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](17,"div",12),c["\u0275\u0275element"](18,"div",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"div",17),c["\u0275\u0275elementStart"](20,"div",18),c["\u0275\u0275elementStart"](21,"table",19),c["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),c["\u0275\u0275elementStart"](22,"thead"),c["\u0275\u0275elementStart"](23,"tr"),c["\u0275\u0275elementStart"](24,"th",20),c["\u0275\u0275text"](25,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"th",21),c["\u0275\u0275text"](27,"Department"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"th",22),c["\u0275\u0275text"](29,"Emp. ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"th",23),c["\u0275\u0275text"](31,"Emp.Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"th",24),c["\u0275\u0275text"](33,"WorkStation"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"th",25),c["\u0275\u0275text"](35,"Level"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"th",26),c["\u0275\u0275text"](37,"Status"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"th"),c["\u0275\u0275text"](39,"Action"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"tbody"),c["\u0275\u0275template"](41,jt,19,11,"tr",27),c["\u0275\u0275template"](42,$t,3,2,"tr",28),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](43,"app-pagination",29),c["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](44,Xt,26,14,"ng-template",null,30,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](46,Zt,1,2,"ng-template",null,31,c["\u0275\u0275templateRefExtractor"])}2&e&&(c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](9,en,t.searchDet.filterFlag)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.searchDet.filterFlag),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.searchDet.filterFlag),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),c["\u0275\u0275advance"](25),c["\u0275\u0275property"]("ngForOf",t.certificateList),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==t.certificateList||0==t.certificateList.length),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[m.a,l.NgClass,l.NgIf,o.c,o.o,o.r,ee.a,ee.b,l.NgForOf,te.a,p.a,o.A,o.p,o.h,g.b,h.a,o.g,_t.a],styles:[".extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border-radius:0;border:none;border-bottom:1px solid #7044cd;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:4px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1rem!important;color:#7044cd!important}.input-group-append[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{position:relative;top:.5em}.form-group[_ngcontent-%COMP%]{padding:.7rem 0;margin:0}.form-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-group[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 14px/1.5 Helvetica Neue;letter-spacing:0;color:#707070}.custom-errorMsg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:80%;color:#ff5252}.customInputField[_ngcontent-%COMP%]{margin-left:15px;padding-top:5px;width:100%;box-sizing:border-box;border:none;box-shadow:none}.tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{position:relative}.tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.actionTd[_ngcontent-%COMP%], .tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.actionTh[_ngcontent-%COMP%]{width:100px}.tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}"]}),e})()}];let nn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[i.i.forChild(tn)],i.i]}),e})();var ln=n("ebz3"),an=n("QrAV"),rn=n("VX2j"),sn=n("1yaQ"),on=n("FKr1");const cn={parse:{dateInput:"YYYY-MM-DD"},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let dn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({providers:[{provide:"Constant",useValue:rn.a},{provide:on.e,useValue:cn}],imports:[[l.CommonModule,nn,ln.a,o.j,h.b,o.w,an.a,ne.c,le.c,sn.a]]}),e})()},Sh6i:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var l=n("bnLG"),i=n("fXoL");let a=(()=>{class e{constructor(e){this.httpService=e}deleteOJTPlan(e){return this.httpService.getMethod(e)}getBranchAccessList(e){return this.httpService.getMethod(e)}getdepartmentlistbybranchid(e){return this.httpService.getMethod(e)}getOJTPlan(e,t){return this.httpService.postMethod(e,t)}getOJTRegistration(e,t){return this.httpService.postMethod(e,t)}getSkillMatrixList(e,t){return this.httpService.postMethod(e,t)}getWorkforceResourceList(e,t){return this.httpService.postMethod(e,t)}getSkillMatrixEmpList(e,t){return this.httpService.postMethod(e,t)}getWorkstationList(e,t){return this.httpService.postMethod(e,t)}submitOJTPlan(e,t){return this.httpService.postMethod(e,t)}submitOJTRegi(e,t){return this.httpService.postMethod(e,t)}getOJTPlanDetails(e){return this.httpService.getMethod(e)}getUserTypeList(e,t){return this.httpService.postMethod(e,t)}getCellList(e,t){return this.httpService.postMethod(e,t)}getWorkForceDeploymentDetails(e,t){return this.httpService.postMethod(e,t)}getDepartmentByBranch(e){return this.httpService.getMethod(e)}getCertificateList(e,t){return this.httpService.postMethod(e,t)}getAssessmentDisplay(e,t){return this.httpService.postMethod(e,t)}getMasterLevelList(e){return this.httpService.getMethod(e)}getMasterDepartmentList(e){return this.httpService.getMethod(e)}getSkillMatrixActionList(e,t){return this.httpService.postMethod(e,t)}getSkillMatrixData(e,t){return this.httpService.postMethod(e,t)}getShiftData(e,t){return this.httpService.postMethod(e,t)}getWorkforceDeploymentData(e,t){return this.httpService.postMethod(e,t)}getWFDetailsList(e,t){return this.httpService.postMethod(e,t)}saveWorkforceData(e,t){return this.httpService.postMethod(e,t)}getOJTRegistrationDetails(e){return this.httpService.getMethod(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](l.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},VX2j:function(e,t,n){"use strict";n.d(t,"a",function(){return l});const l={EQUAL:"EQUAL",ELIGIBLE:"ELIGIBLE",NOT_ELIGIBLE:"NOT_ELIGIBLE",OTHER:"OTHER"}}}]);