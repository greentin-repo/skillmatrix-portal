!function(){function e(e,n){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==a.return||a.return()}finally{if(c)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"0JGa":function(t,a,i){"use strict";i.r(a),i.d(a,"ReferenceModule",function(){return be});var o=i("ofXK"),s=i("tyNb"),c=i("fXoL"),l=i("CYrx"),d=i("PSD3"),m=i.n(d),h=i("7jS0"),f=i("3Pt+"),p=i("1kSV"),g=i("Egam"),u=i("Dh3D"),b=i("h77R"),S=i("X9RO");function v(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",30),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().getSearchList(!0)}),c["\u0275\u0275elementEnd"]()}}function C(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",31),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().getSearchList(!1)}),c["\u0275\u0275elementEnd"]()}}function M(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"app-loading",32),c["\u0275\u0275text"](1,"Please Wait..."),c["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275text"](6),c["\u0275\u0275pipe"](7,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td",33),c["\u0275\u0275elementStart"](9,"i",34),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit,a=c["\u0275\u0275nextContext"](),r=c["\u0275\u0275reference"](40);return a.editRefModel(r,"top",e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](10,"\xa0 \xa0 "),c["\u0275\u0275elementStart"](11,"i",35),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"]().removeRefModel(e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](12,"\xa0 \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.branchName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.modelName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.createdDate?c["\u0275\u0275pipeBind2"](7,3,a.createdDate,"dd-MM-yyyy"):"N/A")}}function y(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",38),c["\u0275\u0275text"](1," Data not Found "),c["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",39),c["\u0275\u0275element"](1,"app-loading"),c["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,y,2,0,"td",36),c["\u0275\u0275template"](2,x,2,0,"td",37),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!n.isModelListLoading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.isModelListLoading)}}function P(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",58),c["\u0275\u0275text"](1," please enter model name "),c["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&c["\u0275\u0275element"](0,"span",59)}function L(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",60),c["\u0275\u0275text"](1," Loading..."),c["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",61),c["\u0275\u0275text"](1,"Submit"),c["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",40),c["\u0275\u0275elementStart"](1,"h4",41),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"button",42),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",43),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",44),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]();return e.saveReferenceModel(e.formdata)}),c["\u0275\u0275elementStart"](7,"div",45),c["\u0275\u0275elementStart"](8,"div"),c["\u0275\u0275elementStart"](9,"div",46),c["\u0275\u0275elementStart"](10,"label",47),c["\u0275\u0275text"](11,"Model Name \xa0 "),c["\u0275\u0275elementStart"](12,"span",48),c["\u0275\u0275text"](13,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",49),c["\u0275\u0275elementStart"](15,"input",50),c["\u0275\u0275listener"]("ngModelChange",function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().addEditReferenceModel.modelName=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,P,2,0,"div",51),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](17,"div",52),c["\u0275\u0275elementStart"](18,"div",53),c["\u0275\u0275elementStart"](19,"button",54),c["\u0275\u0275template"](20,I,1,0,"span",55),c["\u0275\u0275template"](21,L,2,0,"span",56),c["\u0275\u0275template"](22,D,2,0,"span",57),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.modalTitle),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("formGroup",a.formdata),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("ngModel",a.addEditReferenceModel.modelName),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.isFormSubmitted&&a.formdata.controls.modelName.invalid||(a.formdata.controls.modelName.touched||a.formdata.controls.modelName.Untouched)&&a.formdata.controls.modelName.hasError("required")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("disabled",a.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}var k,w=((k=function(){function t(e,a,r,i,o){n(this,t),this.skillMatrixService=a,this.alertService=r,this.modalService=i,this.fb=o,this.searchDet={},this.submitSpinner=!1,this.isModelListLoading=!1,this.referencemodelList=[],this.referenceModel={},this.SingleBranchDropdownSettings={},this.userDet={},this.branchAccessList=[],this.addEditReferenceModel={},this.isFormSubmitted=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},e.backdrop="static",e.keyboard=!1}return r(t,[{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getBranchAccessList(),this.SingleBranchDropdownSettings={singleSelection:!0,idField:"branchId",textField:"branchName",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.formdata=this.fb.group({modelName:new f.f("",f.z.required)}),this.resetForm()}},{key:"getBranchAccessList",value:function(){var e=this;this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?(e.branchAccessList=t.branchAccessList,e.branchAccessList=e.setArray(e.branchAccessList,"branchId","branchName"),e.branchAccessList=e.sortFunction(e.branchAccessList,"name"),e.referenceModel.branch=[e.branchAccessList[0]]):e.branchAccessList=[{branchId:e.userDet.branch.branchId,branchName:e.userDet.branch.name}],e.branchAccessList.length>0&&(e.referenceModel.branch=[e.branchAccessList[0]]),e.onChangeBranch(e.branchAccessList[0])})}},{key:"onChangeBranch",value:function(e){e?(this.disableReferModel=!0,this.referenceModel.branchId=e.branchId,this.getModelListData()):(this.disableReferModel=!1,this.referencemodelList=[])}},{key:"getModelListData",value:function(){var e=this;this.isModelListLoading=!0,console.log(this.staticPagination.total),this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;var t={offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage,branchId:this.referenceModel.branchId};this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction.toUpperCase()),console.log(t),this.skillMatrixService.getModelListData("apis/sm/getModelList",t).subscribe(function(t){t.result?(e.isModelListLoading=!1,1==e.staticPagination.page&&(e.staticPagination.total=t.totalCount,e.staticPagination.totalPages=Math.ceil(t.totalCount/e.staticPagination.itemsPerPage)),null!=t.dataList&&t.dataList.length>0?(e.referencemodelList=t.dataList,e.staticPagination.listLength=e.referencemodelList.length):(e.referencemodelList=[],e.staticPagination.listLength=e.referencemodelList.length,e.staticPagination.total=e.referencemodelList.length)):(e.referencemodelList=[],e.staticPagination.listLength=e.referencemodelList.length,e.staticPagination.total=e.referencemodelList.length,e.isModelListLoading=!1)},function(t){e.referencemodelList=[],e.isModelListLoading=!1})}},{key:"addRefModalOpen",value:function(e,t){this.modalTitle="Add New Model",this.addEditReferenceModel.branch="",this.addEditReferenceModel.modelName="",this.resetForm(),this.modalService.open(e,{windowClass:t})}},{key:"resetForm",value:function(){this.formdata.reset(),this.isFormSubmitted=!1}},{key:"editRefModel",value:function(e,t,n){this.modalTitle="Update Model",this.addEditReferenceModel.modelName=n.modelName,this.addEditReferenceModel.modelId=n.id;for(var a=0;a<this.branchAccessList.length;a++)this.branchAccessList[a].branchId==n.branchId&&(this.addEditReferenceModel.branch=[this.branchAccessList[a]]);this.modalService.open(e,{windowClass:t})}},{key:"saveReferenceModel",value:function(e){var t=this;if(this.isFormSubmitted=!0,e.valid)if(null==this.addEditReferenceModel.modelId||""==this.addEditReferenceModel.modelId){if(null!=this.addEditReferenceModel.branch&&this.addEditReferenceModel.branch.length>0)for(var n=0;n<this.addEditReferenceModel.branch.length;n++)this.addEditReferenceModel.branchId=this.addEditReferenceModel.branch[n].branchId;this.reqBody={branchId:this.referenceModel.branch[0].branchId,modelName:this.addEditReferenceModel.modelName,isActive:!0,updatedBy:this.userDet.empId},this.skillMatrixService.saveReferenceModel("apis/sm/addModelDetails",this.reqBody).subscribe(function(e){e.result?(t.modalService.dismissAll(),t.alertService.success("New model added successfully"),t.submitSpinner=!1,t.addEditReferenceModel.branch="",t.addEditReferenceModel.modelName="",t.getModelListData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while adding data. Please try again")})}else{if(null!=this.addEditReferenceModel.branch&&this.addEditReferenceModel.branch.length>0)for(var a=0;a<this.addEditReferenceModel.branch.length;a++)this.addEditReferenceModel.branchId=this.addEditReferenceModel.branch[a].branchId;this.reqBody={modelId:this.addEditReferenceModel.modelId,branchId:this.addEditReferenceModel.branchId,modelName:this.addEditReferenceModel.modelName,updatedBy:this.userDet.empId},this.skillMatrixService.updateModalDetails("apis/sm/updateModelDetails",this.reqBody).subscribe(function(e){e.result?(t.modalService.dismissAll(),t.alertService.success("Model updated successfully"),t.addEditReferenceModel.branch="",t.addEditReferenceModel.modelName="",t.addEditReferenceModel.modelId="",t.submitSpinner=!1,t.getModelListData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while updating data. Please try again")})}}},{key:"removeRefModel",value:function(e){var t=this;m.a.fire({title:"Are You Sure!",text:"Do you want to remove this model ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove It",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(function(n){n.isConfirmed&&(t.reqBody={modelId:e.id,updatedBy:t.userDet.empId},t.skillMatrixService.deleteModelDetails("apis/sm/deleteModelDetails",t.reqBody).subscribe(function(e){e.result?(t.alertService.success("Model removed successfully"),t.getModelListData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while removing data. Please try again")}))})}},{key:"loadMore",value:function(e){this.staticPagination=e,this.referencemodelList=[],this.isModelListLoading=!0,this.getModelListData()}},{key:"sortData",value:function(e){this.sorting=e,this.getModelListData()}},{key:"getSearchList",value:function(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getModelListData()}},{key:"clearPagination",value:function(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}},{key:"getSortFunction",value:function(e,t){return e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"level"!==t||e.sort(function(e,t){var n=e.branchName?e.branchName.toUpperCase():"",a=t.branchName?t.branchName.toUpperCase():"";return n<a?-1:n>a?1:0})),e}},{key:"setArray",value:function(t,n,a){var r=[];if(null!=t&&t.length>0){var i,o=e(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.id=s[n],s.name=s[a],r.push(s)}}catch(c){o.e(c)}finally{o.f()}}return r}},{key:"sortFunction",value:function(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),r=Number(n[t])?n[t]:n[t].toUpperCase();return a<r?-1:a>r?1:0}),e}}]),t}()).\u0275fac=function(e){return new(e||k)(c["\u0275\u0275directiveInject"](p.k),c["\u0275\u0275directiveInject"](l.a),c["\u0275\u0275directiveInject"](h.b),c["\u0275\u0275directiveInject"](p.j),c["\u0275\u0275directiveInject"](f.e))},k.\u0275cmp=c["\u0275\u0275defineComponent"]({type:k,selectors:[["app-reference-model"]],decls:41,vars:12,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-8","p-0"],[1,"col-6"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","id","your-element-id","name","searchInput","placeholder","Search by model and plant name","autocomplete","off",1,"form-control",2,"padding-right","2.4rem",3,"ngModel","ngModelChange","keyup"],[1,"col-6","p-r-5","p-l-5"],[1,"form-group","m-0"],["for","branch",1,"col-form-label1","p-0",2,"top","11px"],[1,"p-l-5"],["name","branch","id","branch",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button",1,"btn","addRegBtn","m-0",3,"disabled","click"],[1,"fa","fa-plus","m-r-10"],["style","position: absolute;top: 50%;left: 50%;",4,"ngIf"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","ModelName"],["mat-sort-header","CreatedDate"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["openRefModalModel",""],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[2,"position","absolute","top","50%","left","50%"],[1,"actionTd","size","text-left"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],["colspan","2","class","text-center no-record-found",4,"ngIf"],["colspan","2","class","text-center loading-div",4,"ngIf"],["colspan","2",1,"text-center","no-record-found"],["colspan","2",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"row","form-group"],["for","modelName",1,"col-sm-4","col-form-label"],[1,"astrik"],[1,"col-sm-8"],["type","text","id","modelName","name","modelName","placeholder","Enter model name","formControlName","modelName","maxlength","255",1,"form-control","customInput-field",3,"ngModel","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],[1,"footerDiv"],[1,"footerBtn"],["type","submit",1,"btn","btn-lg","submitBtn","event-btn",3,"disabled"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275elementStart"](4,"div",2),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275template"](7,v,1,0,"span",6),c["\u0275\u0275template"](8,C,1,0,"span",7),c["\u0275\u0275elementStart"](9,"input",8),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",9),c["\u0275\u0275elementStart"](11,"div",10),c["\u0275\u0275elementStart"](12,"label",11),c["\u0275\u0275text"](13,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",12),c["\u0275\u0275elementStart"](15,"ng-multiselect-dropdown",13),c["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeBranch(e)})("onDeSelect",function(){return t.onChangeBranch(!1)})("ngModelChange",function(e){return t.referenceModel.branch=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"div",14),c["\u0275\u0275elementStart"](17,"div",15),c["\u0275\u0275elementStart"](18,"button",16),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275reference"](40);return t.addRefModalOpen(e,"top")}),c["\u0275\u0275element"](19,"i",17),c["\u0275\u0275text"](20," Add Model"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,M,2,0,"app-loading",18),c["\u0275\u0275elementStart"](22,"div",19),c["\u0275\u0275elementStart"](23,"div",20),c["\u0275\u0275elementStart"](24,"table",21),c["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),c["\u0275\u0275elementStart"](25,"thead"),c["\u0275\u0275elementStart"](26,"tr"),c["\u0275\u0275elementStart"](27,"th",22),c["\u0275\u0275text"](28,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"th",23),c["\u0275\u0275text"](30,"Model"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"th",24),c["\u0275\u0275text"](32,"Created Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"th",25),c["\u0275\u0275text"](34,"Action"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"tbody"),c["\u0275\u0275template"](36,E,13,6,"tr",26),c["\u0275\u0275template"](37,R,3,2,"tr",27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"app-pagination",28),c["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](39,N,23,8,"ng-template",null,29,c["\u0275\u0275templateRefExtractor"])}2&e&&(c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("placeholder","Select Plant")("settings",t.SingleBranchDropdownSettings)("data",t.branchAccessList)("ngModel",t.referenceModel.branch),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("disabled",!t.disableReferModel),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.isModelListLoading),c["\u0275\u0275advance"](15),c["\u0275\u0275property"]("ngForOf",t.referencemodelList),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==t.referencemodelList||0==t.referencemodelList.length),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[o.NgIf,f.c,f.o,f.r,g.a,u.a,u.b,o.NgForOf,b.a,S.a,f.A,f.p,f.h,f.g,f.k],pipes:[o.DatePipe],styles:[".addRegDiv[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{position:absolute;right:8rem;font:normal normal 400 14px/37px Helvetica Neue;color:#fff;text-transform:capitalize;top:0;box-shadow:none;outline:none;border:none;padding:0}.extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border-radius:0;border:none;border-bottom:1px solid #7044cd;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:2px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1.5rem!important;color:#7044cd!important}.form-group[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;padding:.7rem 0;margin:0}.form-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-group[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 14px/1.5 Helvetica Neue;letter-spacing:0;color:#707070}.custom-errorMsg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:80%;color:#ff5252}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e3eaef!important}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;margin:0}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:normal normal 300 25px/1 Helvetica Neue}"]}),k);function O(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",30),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().getSearchList(!0)}),c["\u0275\u0275elementEnd"]()}}function _(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",31),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().getSearchList(!1)}),c["\u0275\u0275elementEnd"]()}}function A(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"app-loading",32),c["\u0275\u0275text"](1,"Please Wait..."),c["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275text"](6),c["\u0275\u0275pipe"](7,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td",33),c["\u0275\u0275elementStart"](9,"i",34),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit,a=c["\u0275\u0275nextContext"](),r=c["\u0275\u0275reference"](40);return a.updateRefGapReason(r,"top",e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](10,"\xa0 \xa0 "),c["\u0275\u0275elementStart"](11,"i",35),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"]().removeRefGapReason(e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](12,"\xa0 \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.branchName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.reason),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.createdDate?c["\u0275\u0275pipeBind2"](7,3,a.createdDate,"dd-MM-yyyy"):"N/A")}}function B(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",38),c["\u0275\u0275text"](1," Data not found "),c["\u0275\u0275elementEnd"]())}function F(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",39),c["\u0275\u0275element"](1,"app-loading"),c["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,B,2,0,"td",36),c["\u0275\u0275template"](2,F,2,0,"td",37),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!n.isGapListLoading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.isGapListLoading)}}function V(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",58),c["\u0275\u0275text"](1," Please enter gap reason "),c["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&c["\u0275\u0275element"](0,"span",59)}function q(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",60),c["\u0275\u0275text"](1," Loading..."),c["\u0275\u0275elementEnd"]())}function z(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",61),c["\u0275\u0275text"](1,"Submit"),c["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",40),c["\u0275\u0275elementStart"](1,"h4",41),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"button",42),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",43),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",44),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]();return e.saveReferenceGapReason(e.formdata)}),c["\u0275\u0275elementStart"](7,"div",45),c["\u0275\u0275elementStart"](8,"div",46),c["\u0275\u0275elementStart"](9,"label",47),c["\u0275\u0275text"](10,"Gap Reason \xa0 "),c["\u0275\u0275elementStart"](11,"span",48),c["\u0275\u0275text"](12,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",49),c["\u0275\u0275elementStart"](14,"input",50),c["\u0275\u0275listener"]("ngModelChange",function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().addEditReferenceGapReason.gapReason=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](15,V,2,0,"div",51),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](16,"div",52),c["\u0275\u0275elementStart"](17,"div",53),c["\u0275\u0275elementStart"](18,"button",54),c["\u0275\u0275template"](19,j,1,0,"span",55),c["\u0275\u0275template"](20,q,2,0,"span",56),c["\u0275\u0275template"](21,z,2,0,"span",57),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.modalTitle),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("formGroup",a.formdata),c["\u0275\u0275advance"](8),c["\u0275\u0275property"]("ngModel",a.addEditReferenceGapReason.gapReason),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.isFormSubmitted&&a.formdata.controls.gapReason.invalid||(a.formdata.controls.gapReason.touched||a.formdata.controls.gapReason.Untouched)&&a.formdata.controls.gapReason.hasError("required")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("disabled",a.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}var H,$=((H=function(){function t(e,a,r,i,o){n(this,t),this.skillMatrixService=a,this.alertService=r,this.modalService=i,this.fb=o,this.searchDet={},this.submitSpinner=!1,this.refGapReasonList=[],this.SingleBranchDropdownSettings={},this.branchAccessList=[],this.referenceGapReason={},this.userDet={},this.addEditReferenceGapReason={},this.isFormSubmitted=!1,this.isGapListLoading=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},e.backdrop="static",e.keyboard=!1}return r(t,[{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getBranchAccessList(),this.SingleBranchDropdownSettings={singleSelection:!0,idField:"branchId",textField:"branchName",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.formdata=this.fb.group({gapReason:new f.f("",f.z.required)}),this.resetForm()}},{key:"getBranchAccessList",value:function(){var e=this;this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?(e.branchAccessList=t.branchAccessList,e.branchAccessList=e.setArray(e.branchAccessList,"branchId","branchName"),e.branchAccessList=e.sortFunction(e.branchAccessList,"name"),e.referenceGapReason.branch=[e.branchAccessList[0]]):e.branchAccessList=[{branchId:e.userDet.branch.branchId,branchName:e.userDet.branch.name}],e.branchAccessList.length>0&&(e.referenceGapReason.branch=[e.branchAccessList[0]]),e.onChangeBranch(e.branchAccessList[0])})}},{key:"onChangeBranch",value:function(e){e?(this.referenceGapReason.branchId=e.branchId,this.disableReferGap=!0,this.getRefGapReasonList()):(this.disableReferGap=!1,this.refGapReasonList=[])}},{key:"getRefGapReasonList",value:function(){var e=this;this.isGapListLoading=!0,this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;var t={offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage,branchId:this.referenceGapReason.branchId};this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction.toUpperCase()),console.log(t),this.skillMatrixService.getGapReasonListData("apis/sm/getGapReasonList",t).subscribe(function(t){t.result?(e.isGapListLoading=!1,1==e.staticPagination.page&&(e.staticPagination.total=t.totalCount,e.staticPagination.totalPages=Math.ceil(t.totalCount/e.staticPagination.itemsPerPage)),null!=t.dataList&&t.dataList.length>0?(e.refGapReasonList=t.dataList,e.staticPagination.listLength=e.refGapReasonList.length):(e.refGapReasonList=[],e.staticPagination.listLength=e.refGapReasonList.length,e.staticPagination.total=e.refGapReasonList.length)):(e.refGapReasonList=[],e.staticPagination.listLength=e.refGapReasonList.length,e.staticPagination.total=e.refGapReasonList.length,e.isGapListLoading=!1)},function(t){e.refGapReasonList=[],e.isGapListLoading=!1})}},{key:"openRefGapReasonModal",value:function(e,t){this.modalTitle="Add Gap Reason",this.addEditReferenceGapReason.branch="",this.addEditReferenceGapReason.gapReason="",this.resetForm(),this.modalService.open(e,{windowClass:t})}},{key:"resetForm",value:function(){this.formdata.reset(),this.isFormSubmitted=!1}},{key:"updateRefGapReason",value:function(e,t,n){this.modalTitle="Update Gap Reason",this.addEditReferenceGapReason.gapReason=n.reason,this.addEditReferenceGapReason.gapId=n.id;for(var a=0;a<this.branchAccessList.length;a++)this.branchAccessList[a].branchId==n.branchId&&(this.addEditReferenceGapReason.branch=[this.branchAccessList[a]]);this.modalService.open(e,{windowClass:t})}},{key:"saveReferenceGapReason",value:function(e){var t=this;if(this.isFormSubmitted=!0,e.valid)if(null==this.addEditReferenceGapReason.gapId||""==this.addEditReferenceGapReason.gapId){if(null!=this.addEditReferenceGapReason.branch&&this.addEditReferenceGapReason.branch.length>0)for(var n=0;n<this.addEditReferenceGapReason.branch.length;n++)this.addEditReferenceGapReason.branchId=this.addEditReferenceGapReason.branch[n].branchId;this.reqBody={branchId:this.referenceGapReason.branch[0].branchId,reason:this.addEditReferenceGapReason.gapReason,isActive:!0,createdBy:this.userDet.empId},this.skillMatrixService.saveReferenceGapReason("apis/sm/saveGapReason",this.reqBody).subscribe(function(e){console.log(e),e.result?(t.modalService.dismissAll(),t.alertService.success("Gap reason added successfully"),t.addEditReferenceGapReason.branch="",t.addEditReferenceGapReason.gapReason="",t.getRefGapReasonList()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while adding data. Please try again")})}else{if(null!=this.addEditReferenceGapReason.branch&&this.addEditReferenceGapReason.branch.length>0)for(var a=0;a<this.addEditReferenceGapReason.branch.length;a++)this.addEditReferenceGapReason.branchId=this.addEditReferenceGapReason.branch[a].branchId;this.reqBody={reasonId:this.addEditReferenceGapReason.gapId,branchId:this.addEditReferenceGapReason.branchId,reason:this.addEditReferenceGapReason.gapReason,updatedBy:this.userDet.empId},this.skillMatrixService.updateGapDetails("apis/sm/updateGapReason",this.reqBody).subscribe(function(e){e.result?(t.modalService.dismissAll(),t.alertService.success("Gap reason updated successfully"),t.addEditReferenceGapReason.branch="",t.addEditReferenceGapReason.gapReason="",t.addEditReferenceGapReason.gapId="",t.getRefGapReasonList()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while updating data. Please try again")})}}},{key:"removeRefGapReason",value:function(e){var t=this;m.a.fire({title:"Are You Sure!",text:"You want remove this gap reason ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove it",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(function(n){n.isConfirmed&&(t.reqBody={reasonId:e.id,updatedBy:t.userDet.empId},t.skillMatrixService.removeRefGapReason("apis/sm/deleteGapReason",t.reqBody).subscribe(function(e){console.log(e),e.result?(t.alertService.success("Gap reason removed successfully"),t.getRefGapReasonList()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while removing data. Please try again")}))})}},{key:"loadMore",value:function(e){this.staticPagination=e,this.refGapReasonList=[],this.isGapListLoading=!0,this.getRefGapReasonList()}},{key:"getSearchList",value:function(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getRefGapReasonList()}},{key:"clearPagination",value:function(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}},{key:"sortData",value:function(e){this.sorting=e,console.log(this.sorting),this.getRefGapReasonList()}},{key:"getSortFunction",value:function(e,t){return e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"level"!==t||e.sort(function(e,t){var n=e.branchName?e.branchName.toUpperCase():"",a=t.branchName?t.branchName.toUpperCase():"";return n<a?-1:n>a?1:0})),e}},{key:"sortFunction",value:function(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),r=Number(n[t])?n[t]:n[t].toUpperCase();return a<r?-1:a>r?1:0}),e}},{key:"setArray",value:function(t,n,a){var r=[];if(null!=t&&t.length>0){var i,o=e(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.id=s[n],s.name=s[a],r.push(s)}}catch(c){o.e(c)}finally{o.f()}}return r}}]),t}()).\u0275fac=function(e){return new(e||H)(c["\u0275\u0275directiveInject"](p.k),c["\u0275\u0275directiveInject"](l.a),c["\u0275\u0275directiveInject"](h.b),c["\u0275\u0275directiveInject"](p.j),c["\u0275\u0275directiveInject"](f.e))},H.\u0275cmp=c["\u0275\u0275defineComponent"]({type:H,selectors:[["app-reference-gap-reason"]],decls:41,vars:12,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-8","p-0"],[1,"col-6"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","id","your-element-id","name","searchInput","placeholder","Search by gap reason and plant name","autocomplete","off",1,"form-control",2,"padding-right","2.4rem",3,"ngModel","ngModelChange","keyup"],[1,"col-6","p-r-5","p-l-5"],[1,"form-group","m-0"],["for","branch",1,"col-form-label1",2,"top","11px"],[1,""],["name","branch","id","branch",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button",1,"btn","addRegBtn","m-0",3,"disabled","click"],[1,"fa","fa-plus","m-r-10"],["style","position: absolute;top: 50%;left: 50%;",4,"ngIf"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","Reason"],["mat-sort-header","CreatedDate"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["openRefModalGapReason",""],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[2,"position","absolute","top","50%","left","50%"],[1,"actionTd","size","text-left"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],["colspan","2","class","text-center no-record-found",4,"ngIf"],["colspan","2","class","text-center loading-div",4,"ngIf"],["colspan","2",1,"text-center","no-record-found"],["colspan","2",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"row","form-group"],["for","gapReason",1,"col-sm-4","col-form-label"],[1,"astrik"],[1,"col-sm-8"],["type","text","id","gapReason","name","gapReason","placeholder","Enter gap reason","formControlName","gapReason","maxlength","255",1,"form-control","customInput-field",3,"ngModel","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],[1,"footerDiv"],[1,"footerBtn"],["type","submit",1,"btn","btn-lg","submitBtn","event-btn",3,"disabled"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275elementStart"](4,"div",2),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275template"](7,O,1,0,"span",6),c["\u0275\u0275template"](8,_,1,0,"span",7),c["\u0275\u0275elementStart"](9,"input",8),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",9),c["\u0275\u0275elementStart"](11,"div",10),c["\u0275\u0275elementStart"](12,"label",11),c["\u0275\u0275text"](13,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",12),c["\u0275\u0275elementStart"](15,"ng-multiselect-dropdown",13),c["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeBranch(e)})("onDeSelect",function(){return t.onChangeBranch(!1)})("ngModelChange",function(e){return t.referenceGapReason.branch=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"div",14),c["\u0275\u0275elementStart"](17,"div",15),c["\u0275\u0275elementStart"](18,"button",16),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275reference"](40);return t.openRefGapReasonModal(e,"top")}),c["\u0275\u0275element"](19,"i",17),c["\u0275\u0275text"](20," Add Gap Reason"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,A,2,0,"app-loading",18),c["\u0275\u0275elementStart"](22,"div",19),c["\u0275\u0275elementStart"](23,"div",20),c["\u0275\u0275elementStart"](24,"table",21),c["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),c["\u0275\u0275elementStart"](25,"thead"),c["\u0275\u0275elementStart"](26,"tr"),c["\u0275\u0275elementStart"](27,"th",22),c["\u0275\u0275text"](28,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"th",23),c["\u0275\u0275text"](30,"Gap Reason"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"th",24),c["\u0275\u0275text"](32,"Created Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"th",25),c["\u0275\u0275text"](34,"Action"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"tbody"),c["\u0275\u0275template"](36,G,13,6,"tr",26),c["\u0275\u0275template"](37,T,3,2,"tr",27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"app-pagination",28),c["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](39,U,22,8,"ng-template",null,29,c["\u0275\u0275templateRefExtractor"])}2&e&&(c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("placeholder","Select Plant")("settings",t.SingleBranchDropdownSettings)("data",t.branchAccessList)("ngModel",t.referenceGapReason.branch),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("disabled",!t.disableReferGap),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.isGapListLoading),c["\u0275\u0275advance"](15),c["\u0275\u0275property"]("ngForOf",t.refGapReasonList),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==t.refGapReasonList||0==t.refGapReasonList.length),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[o.NgIf,f.c,f.o,f.r,g.a,u.a,u.b,o.NgForOf,b.a,S.a,f.A,f.p,f.h,f.g,f.k],pipes:[o.DatePipe],styles:[".addRegDiv[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{position:absolute;right:8rem;font:normal normal 400 14px/37px Helvetica Neue;color:#fff;text-transform:capitalize;top:0;box-shadow:none;outline:none;border:none;padding:0}.extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border-radius:0;border:none;border-bottom:1px solid #7044cd;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:2px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1.5rem!important;color:#7044cd!important}.form-group[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;padding:.7rem 0;margin:0}.form-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-group[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 14px/1.5 Helvetica Neue;letter-spacing:0;color:#707070}.custom-errorMsg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:80%;color:#ff5252}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e3eaef!important}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;margin:0}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:normal normal 300 25px/1 Helvetica Neue}.ng-multiselect-dropdown.custom-multiSelection[_ngcontent-%COMP%]{margin-left:10px}"]}),H);function Y(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",30),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().getSearchList(!0)}),c["\u0275\u0275elementEnd"]()}}function K(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",31),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().getSearchList(!1)}),c["\u0275\u0275elementEnd"]()}}function J(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"app-loading",32),c["\u0275\u0275text"](1,"Please Wait..."),c["\u0275\u0275elementEnd"]())}function W(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275text"](6),c["\u0275\u0275pipe"](7,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td",33),c["\u0275\u0275elementStart"](9,"i",34),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit,a=c["\u0275\u0275nextContext"](),r=c["\u0275\u0275reference"](40);return a.editRefShiftNo(r,"top",e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](10,"\xa0 \xa0 "),c["\u0275\u0275elementStart"](11,"i",35),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"]().removeRefShift(e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](12,"\xa0 \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.branchName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.shiftName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.createdDate?c["\u0275\u0275pipeBind2"](7,3,a.createdDate,"dd-MM-yyyy"):"N/A")}}function X(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",38),c["\u0275\u0275text"](1," Data not found "),c["\u0275\u0275elementEnd"]())}function Q(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td",39),c["\u0275\u0275element"](1,"app-loading"),c["\u0275\u0275elementEnd"]())}function Z(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,X,2,0,"td",36),c["\u0275\u0275template"](2,Q,2,0,"td",37),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!n.isShiftListLoading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.isShiftListLoading)}}function ee(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",58),c["\u0275\u0275text"](1," Please enter shift name "),c["\u0275\u0275elementEnd"]())}function te(e,t){1&e&&c["\u0275\u0275element"](0,"span",59)}function ne(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",60),c["\u0275\u0275text"](1," Loading..."),c["\u0275\u0275elementEnd"]())}function ae(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",61),c["\u0275\u0275text"](1,"Submit"),c["\u0275\u0275elementEnd"]())}function re(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",40),c["\u0275\u0275elementStart"](1,"h4",41),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"button",42),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",43),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",44),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]();return e.saveReferenceShiftNo(e.formdata)}),c["\u0275\u0275elementStart"](7,"div",45),c["\u0275\u0275elementStart"](8,"div"),c["\u0275\u0275elementStart"](9,"div",46),c["\u0275\u0275elementStart"](10,"label",47),c["\u0275\u0275text"](11,"Shift Name \xa0 "),c["\u0275\u0275elementStart"](12,"span",48),c["\u0275\u0275text"](13,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",49),c["\u0275\u0275elementStart"](15,"input",50),c["\u0275\u0275listener"]("ngModelChange",function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().addEditReferenceShiftNo.shiftName=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,ee,2,0,"div",51),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](17,"div",52),c["\u0275\u0275elementStart"](18,"div",53),c["\u0275\u0275elementStart"](19,"button",54),c["\u0275\u0275template"](20,te,1,0,"span",55),c["\u0275\u0275template"](21,ne,2,0,"span",56),c["\u0275\u0275template"](22,ae,2,0,"span",57),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.modalTitle),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("formGroup",a.formdata),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("ngModel",a.addEditReferenceShiftNo.shiftName),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.isFormSubmitted&&a.formdata.controls.shiftNo.invalid||(a.formdata.controls.shiftNo.touched||a.formdata.controls.shiftNo.Untouched)&&a.formdata.controls.shiftNo.hasError("required")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("disabled",a.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.submitSpinner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}var ie,oe=((ie=function(){function t(e,a,r,i,o){n(this,t),this.skillMatrixService=a,this.modalService=r,this.alertService=i,this.fb=o,this.searchDet={},this.referenceShiftNo={},this.SingleBranchDropdownSettings={},this.userDet={},this.addEditReferenceShiftNo={},this.branchAccessList=[],this.formSubmitted=!1,this.isFormSubmitted=!1,this.isShiftListLoading=!1,this.isEditing=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},e.backdrop="static",e.keyboard=!1}return r(t,[{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getBranchAccessList(),this.SingleBranchDropdownSettings={singleSelection:!0,idField:"branchId",textField:"branchName",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.formdata=this.fb.group({shiftNo:new f.f("",f.z.required)}),this.resetForm()}},{key:"getBranchAccessList",value:function(){var e=this;this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?(e.branchAccessList=t.branchAccessList,e.branchAccessList=e.setArray(e.branchAccessList,"branchId","branchName"),console.log(e.branchAccessList),e.branchAccessList=e.sortFunction(e.branchAccessList,"name"),e.referenceShiftNo.branch=[e.branchAccessList[0]]):e.branchAccessList=[{branchId:e.userDet.branch.branchId,branchName:e.userDet.branch.name}],e.branchAccessList.length>0&&(e.referenceShiftNo.branch=[e.branchAccessList[0]]),e.onChangeBranch(e.branchAccessList[0])})}},{key:"onChangeBranch",value:function(e){e?(this.disableReferShift=!0,this.referenceShiftNo.branchId=e.branchId,this.getShiftNoData()):(this.disableReferShift=!1,this.refShiftNoData=[])}},{key:"getShiftNoData",value:function(){var e=this;this.isShiftListLoading=!0,this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;var t={offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage,branchId:this.referenceShiftNo.branchId};this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction.toUpperCase()),console.log(t),this.skillMatrixService.getShiftNoData("apis/sm/getShiftList",t).subscribe(function(t){t.result?(e.isShiftListLoading=!1,1==e.staticPagination.page&&(e.staticPagination.total=t.totalCount,e.staticPagination.totalPages=Math.ceil(t.totalCount/e.staticPagination.itemsPerPage)),null!=t.dataList&&t.dataList.length>0?(e.refShiftNoData=t.dataList,e.staticPagination.listLength=e.refShiftNoData.length):(e.refShiftNoData=[],e.staticPagination.listLength=e.refShiftNoData.length,e.staticPagination.total=e.refShiftNoData.length)):(e.refShiftNoData=[],e.staticPagination.listLength=e.refShiftNoData.length,e.staticPagination.total=e.refShiftNoData.length,e.isShiftListLoading=!1)},function(t){e.refShiftNoData=[],e.isShiftListLoading=!1})}},{key:"addRefShiftNoOpen",value:function(e,t){this.isEditing=!1,this.modalTitle="Add Shift",this.addEditReferenceShiftNo.branch="",this.addEditReferenceShiftNo.shiftName="",this.resetForm(),this.modalService.open(e,{windowClass:t})}},{key:"resetForm",value:function(){this.formdata.reset(),this.isFormSubmitted=!1}},{key:"editRefShiftNo",value:function(e,t,n){this.isEditing=!0,this.modalTitle="Update Shift",this.addEditReferenceShiftNo.shiftName=n.shiftName,this.addEditReferenceShiftNo.shiftId=n.id;for(var a=0;a<this.branchAccessList.length;a++)this.branchAccessList[a].branchId==n.branchId&&(this.addEditReferenceShiftNo.branch=[this.branchAccessList[a]]);this.modalService.open(e,{windowClass:t})}},{key:"saveReferenceShiftNo",value:function(e){var t=this;if(this.isFormSubmitted=!0,e.valid)if(null==this.addEditReferenceShiftNo.shiftId||""==this.addEditReferenceShiftNo.shiftId){if(null!=this.addEditReferenceShiftNo.branch&&this.addEditReferenceShiftNo.branch.length>0)for(var n=0;n<this.addEditReferenceShiftNo.branch.length;n++)this.addEditReferenceShiftNo.branchId=this.addEditReferenceShiftNo.branch[n].branchId;this.reqBody={branchId:this.referenceShiftNo.branch[0].branchId,shiftName:this.addEditReferenceShiftNo.shiftName,isActive:!0,updatedBy:this.userDet.empId},console.log(this.reqBody),this.skillMatrixService.saveReferenceShiftNo("apis/sm/saveShiftDetails",this.reqBody).subscribe(function(e){console.log(e),e.result?(t.modalService.dismissAll(),t.alertService.success("New shift added successfully"),t.addEditReferenceShiftNo.branch="",t.addEditReferenceShiftNo.modelName="",t.getShiftNoData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while adding data. Please try again")})}else{if(null!=this.addEditReferenceShiftNo.shiftId&&this.addEditReferenceShiftNo.branch.length>0)for(var a=0;a<this.addEditReferenceShiftNo.branch.length;a++)this.addEditReferenceShiftNo.branchId=this.addEditReferenceShiftNo.branch[a].branchId;this.reqBody={shiftId:this.addEditReferenceShiftNo.shiftId,branchId:this.addEditReferenceShiftNo.branchId,shiftName:this.addEditReferenceShiftNo.shiftName,updatedBy:this.userDet.empId},this.skillMatrixService.updateShiftDetails("apis/sm/updateShiftDetails",this.reqBody).subscribe(function(e){console.log(e),e.result?(t.modalService.dismissAll(),t.alertService.success("Shift updated successfully"),t.addEditReferenceShiftNo.branch="",t.addEditReferenceShiftNo.modelName="",t.addEditReferenceShiftNo.modelId="",t.getShiftNoData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while updating data. Please try again")})}}},{key:"removeRefShift",value:function(e){var t=this;m.a.fire({title:"Are You Sure!",text:"Do you want to remove this shift ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove It",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(function(n){n.isConfirmed&&(t.reqBody={shiftId:e.id,updatedBy:t.userDet.empId},console.log(t.reqBody),t.skillMatrixService.deleteShiftDetails("apis/sm/deleteShiftDetails",t.reqBody).subscribe(function(e){e.result?(t.alertService.success("Shift removed successfully"),t.getShiftNoData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while removing data. Please try again")}))})}},{key:"loadMore",value:function(e){this.staticPagination=e,this.refShiftNoData=[],this.isShiftListLoading=!0,this.getShiftNoData()}},{key:"sortData",value:function(e){this.sorting=e,this.getShiftNoData()}},{key:"getSearchList",value:function(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getShiftNoData()}},{key:"clearPagination",value:function(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}},{key:"getSortFunction",value:function(e,t){return e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"level"!==t||e.sort(function(e,t){var n=e.branchName?e.branchName.toUpperCase():"",a=t.branchName?t.branchName.toUpperCase():"";return n<a?-1:n>a?1:0})),e}},{key:"setArray",value:function(t,n,a){var r=[];if(null!=t&&t.length>0){var i,o=e(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.id=s[n],s.name=s[a],r.push(s)}}catch(c){o.e(c)}finally{o.f()}}return r}},{key:"sortFunction",value:function(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),r=Number(n[t])?n[t]:n[t].toUpperCase();return a<r?-1:a>r?1:0}),e}}]),t}()).\u0275fac=function(e){return new(e||ie)(c["\u0275\u0275directiveInject"](p.k),c["\u0275\u0275directiveInject"](l.a),c["\u0275\u0275directiveInject"](p.j),c["\u0275\u0275directiveInject"](h.b),c["\u0275\u0275directiveInject"](f.e))},ie.\u0275cmp=c["\u0275\u0275defineComponent"]({type:ie,selectors:[["app-reference-shift"]],decls:41,vars:12,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-8","p-0"],[1,"col-6"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","id","your-element-id","name","searchInput","placeholder","Search by shift and plant name","autocomplete","off",1,"form-control",2,"padding-right","2.4rem",3,"ngModel","ngModelChange","keyup"],[1,"col-6","p-r-5","p-l-5"],[1,"form-group","m-0"],["for","branch",1,"col-form-label1","p-0",2,"top","11px"],[1,""],["name","branch","id","branch",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button",1,"btn","addRegBtn","m-0",3,"disabled","click"],[1,"fa","fa-plus","m-r-10"],["style","position: absolute;top: 50%;left: 50%;",4,"ngIf"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","ShiftName"],["mat-sort-header","CreatedDate"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["openRefModalShiftNo",""],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[2,"position","absolute","top","50%","left","50%"],[1,"actionTd","size","text-left"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],["colspan","2","class","text-center no-record-found",4,"ngIf"],["colspan","2","class","text-center loading-div",4,"ngIf"],["colspan","2",1,"text-center","no-record-found"],["colspan","2",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"row","form-group"],["for","shiftNo",1,"col-sm-4","col-form-label"],[1,"astrik"],[1,"col-sm-8"],["type","text","id","shiftNo","name","shiftNo","placeholder","Enter shift","formControlName","shiftNo","maxlength","255",1,"form-control","customInput-field",3,"ngModel","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],[1,"footerDiv"],[1,"footerBtn"],["type","submit",1,"btn","btn-lg","submitBtn","event-btn",3,"disabled"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275elementStart"](4,"div",2),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275template"](7,Y,1,0,"span",6),c["\u0275\u0275template"](8,K,1,0,"span",7),c["\u0275\u0275elementStart"](9,"input",8),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",9),c["\u0275\u0275elementStart"](11,"div",10),c["\u0275\u0275elementStart"](12,"label",11),c["\u0275\u0275text"](13,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",12),c["\u0275\u0275elementStart"](15,"ng-multiselect-dropdown",13),c["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeBranch(e)})("onDeSelect",function(){return t.onChangeBranch(!1)})("ngModelChange",function(e){return t.referenceShiftNo.branch=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"div",14),c["\u0275\u0275elementStart"](17,"div",15),c["\u0275\u0275elementStart"](18,"button",16),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275reference"](40);return t.addRefShiftNoOpen(e,"top")}),c["\u0275\u0275element"](19,"i",17),c["\u0275\u0275text"](20," Add Shift"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,J,2,0,"app-loading",18),c["\u0275\u0275elementStart"](22,"div",19),c["\u0275\u0275elementStart"](23,"div",20),c["\u0275\u0275elementStart"](24,"table",21),c["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),c["\u0275\u0275elementStart"](25,"thead"),c["\u0275\u0275elementStart"](26,"tr"),c["\u0275\u0275elementStart"](27,"th",22),c["\u0275\u0275text"](28,"Plant"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"th",23),c["\u0275\u0275text"](30,"Shift"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"th",24),c["\u0275\u0275text"](32,"Created Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"th",25),c["\u0275\u0275text"](34,"Action"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"tbody"),c["\u0275\u0275template"](36,W,13,6,"tr",26),c["\u0275\u0275template"](37,Z,3,2,"tr",27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"app-pagination",28),c["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](39,re,23,8,"ng-template",null,29,c["\u0275\u0275templateRefExtractor"])}2&e&&(c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.searchDet.searchData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("placeholder","Select Plant")("settings",t.SingleBranchDropdownSettings)("data",t.branchAccessList)("ngModel",t.referenceShiftNo.branch),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("disabled",!t.disableReferShift),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.isShiftListLoading),c["\u0275\u0275advance"](15),c["\u0275\u0275property"]("ngForOf",t.refShiftNoData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==t.refShiftNoData||0==t.refShiftNoData.length),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[o.NgIf,f.c,f.o,f.r,g.a,u.a,u.b,o.NgForOf,b.a,S.a,f.A,f.p,f.h,f.g,f.k],pipes:[o.DatePipe],styles:[".addRegDiv[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{position:absolute;right:8rem;font:normal normal 400 14px/37px Helvetica Neue;color:#fff;text-transform:capitalize;top:0;box-shadow:none;outline:none;border:none;padding:0}.extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border-radius:0;border:none;border-bottom:1px solid #7044cd;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:2px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1.5rem!important;color:#7044cd!important}.form-group[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;padding:.7rem 0;margin:0}.form-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-group[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 14px/1.5 Helvetica Neue;letter-spacing:0;color:#707070}.custom-errorMsg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:80%;color:#ff5252}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e3eaef!important}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;margin:0}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:normal normal 300 25px/1 Helvetica Neue}"]}),ie);function se(e,t){1&e&&c["\u0275\u0275element"](0,"app-reference-model")}function ce(e,t){1&e&&c["\u0275\u0275element"](0,"app-reference-gap-reason")}function le(e,t){1&e&&c["\u0275\u0275element"](0,"app-reference-shift")}var de,me,he,fe=function(e){return{mainActiveSwitch:e}},pe=[{path:"",component:(de=function(){function e(t,a){n(this,e),this.router=t,this.route=a,this.isSetMainTab=function(e){return this.mainTab===e}}return r(e,[{key:"ngOnInit",value:function(){this.mainTab=1}},{key:"setMainTab",value:function(e){this.mainTab=e}}]),e}(),de.\u0275fac=function(e){return new(e||de)(c["\u0275\u0275directiveInject"](s.f),c["\u0275\u0275directiveInject"](s.a))},de.\u0275cmp=c["\u0275\u0275defineComponent"]({type:de,selectors:[["app-reference"]],decls:13,vars:12,consts:[[1,"row","m-0"],[1,"col-9","m-auto"],[1,"main-tab-switcher"],[1,"main-tab-switch",3,"ngClass","click"],[1,"col-3","m-auto"],[4,"ngIf"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275listener"]("click",function(){return t.setMainTab(1)}),c["\u0275\u0275text"](4,"Model "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",3),c["\u0275\u0275listener"]("click",function(){return t.setMainTab(2)}),c["\u0275\u0275text"](6,"Gap Reason "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",3),c["\u0275\u0275listener"]("click",function(){return t.setMainTab(3)}),c["\u0275\u0275text"](8,"No. Of Shifts "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](9,"div",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](10,se,1,0,"app-reference-model",5),c["\u0275\u0275template"](11,ce,1,0,"app-reference-gap-reason",5),c["\u0275\u0275template"](12,le,1,0,"app-reference-shift",5)),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](6,fe,t.isSetMainTab(1))),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](8,fe,t.isSetMainTab(2))),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](10,fe,t.isSetMainTab(3))),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.isSetMainTab(1)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isSetMainTab(2)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isSetMainTab(3)))},directives:[o.NgClass,o.NgIf,w,$,oe],styles:[""]}),de)}],ge=((me=function e(){n(this,e)}).\u0275fac=function(e){return new(e||me)},me.\u0275mod=c["\u0275\u0275defineNgModule"]({type:me}),me.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[s.i.forChild(pe)],s.i]}),me),ue=i("ebz3"),be=((he=function e(){n(this,e)}).\u0275fac=function(e){return new(e||he)},he.\u0275mod=c["\u0275\u0275defineNgModule"]({type:he}),he.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[o.CommonModule,ge,ue.a,g.b,p.n]]}),he)}}])}();