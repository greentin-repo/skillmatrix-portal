!function(){function e(e,n){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{ds71:function(t,a,i){"use strict";i.r(a),i.d(a,"ConfigurationModule",function(){return kt});var o=i("ofXK"),s=i("tyNb"),l=i("fXoL"),c=i("CYrx"),d=i("7jS0"),m=i("Egam"),h=i("3Pt+"),u=i("X9RO"),f=["stageInputField"];function g(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](n.stageName)}}function p(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"](2).$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](n.stageLabel)}}function b(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"input",17,18),l["\u0275\u0275listener"]("ngModelChange",function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"](2).$implicit.stageLabel=e}),l["\u0275\u0275elementEnd"]()}if(2&e){var a=l["\u0275\u0275nextContext"](2).$implicit;l["\u0275\u0275classProp"]("editing",a.isEditable),l["\u0275\u0275property"]("ngModel",a.stageLabel)}}function v(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",19),l["\u0275\u0275text"](1,"Please enter stage name"),l["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275template"](1,p,2,1,"span",13),l["\u0275\u0275template"](2,b,2,3,"input",15),l["\u0275\u0275template"](3,v,2,0,"span",16),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]().$implicit,a=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!n.isEditable),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isEditable&&n.stageId===a.currentlyEditedStageId),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.isShowStageError&&!n.stageLabel)}}function C(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"i",22),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"](2).$implicit;return l["\u0275\u0275nextContext"]().toggleEdit(e)}),l["\u0275\u0275elementEnd"]()}}function y(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"button",23),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"](2).$implicit;return l["\u0275\u0275nextContext"]().updateStageLabel(e)}),l["\u0275\u0275text"](2,"Save"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](3,"\xa0 "),l["\u0275\u0275elementStart"](4,"button",24),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"](2).$implicit;return l["\u0275\u0275nextContext"]().cancelEdit(e)}),l["\u0275\u0275text"](5,"Cancel"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()}}function x(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td",20),l["\u0275\u0275template"](1,C,1,0,"i",21),l["\u0275\u0275template"](2,y,6,0,"ng-container",13),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]().$implicit,a=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!n.isEditable),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isEditable&&n.stageId===a.currentlyEditedStageId)}}function E(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275template"](1,g,2,1,"td",13),l["\u0275\u0275template"](2,S,4,3,"td",13),l["\u0275\u0275template"](3,x,3,2,"td",14),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","Stage7"!=n.stageCaption),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","Stage7"!=n.stageCaption),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","Stage7"!=n.stageCaption)}}function I(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",27),l["\u0275\u0275text"](1," Data not found "),l["\u0275\u0275elementEnd"]())}function M(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",28),l["\u0275\u0275element"](1,"app-loading"),l["\u0275\u0275elementEnd"]())}function D(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275template"](1,I,2,0,"td",25),l["\u0275\u0275template"](2,M,2,0,"td",26),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!n.listLoading),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.listLoading)}}var L,P=((L=function(){function t(e,a,r){n(this,t),this.skillMatrixService=e,this.alertService=a,this.formBuilder=r,this.isInputEnabled=!1,this.plantList={},this.stage={},this.isEditIconVisible=!0,this.currentlyEditedStage=null,this.currentlyEditedStageId=null,this.isSubmitClicked=!1,this.emphasize=!1,this.isStageNameEmpty=!1,this.singleDropdownSettings={},this.searchDet={},this.stageList=[],this.listLoading=!1,this.borderColor="initial",this.isShowStageError=!1}return r(t,[{key:"ngOnChanges",value:function(e){e.branchId&&!e.branchId.firstChange&&this.getStageList()}},{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getStageList(),this.stageForm=this.formBuilder.group({stageLabelUpdate:["",h.z.required]}),this.singleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,noDataAvailablePlaceholderText:"Data not found",closeDropDownOnSelection:!0}}},{key:"getStageList",value:function(){var e=this;this.listLoading=!0,console.log(this.branchId[0].id),this.skillMatrixService.getStageLevelList("apis/sm/getStageLabelList",{branchId:this.branchId[0].id}).subscribe(function(t){if(console.log(t),e.listLoading=!1,t.result)if(null!=t.dataList&&t.dataList.length>0){if(e.stageList=t.dataList,e.isStageNameEmpty=e.stageList.some(function(e){return null!==e.stageLabel}),null!=e.stageList&&e.stageList.length>0)for(var n=0;n<e.stageList.length;n++)e.stageList[n].isStageNameEmpty=!1;if(e.stageList=e.stageList.map(function(e){return Object.assign(Object.assign({},e),{originalStageLabel:e.stageLabel})}),null!=e.stageList&&e.stageList.length>0)for(var a=0;a<e.stageList.length;a++)e.stageList[a].isActive=!1,e.stageList[a].isStageNameEmpty=!1}else e.stageList=[];else e.stageList=[]},function(t){e.stageList=[],e.listLoading=!1})}},{key:"setArray",value:function(t,n,a){var r=[];if(null!=t&&t.length>0){var i,o=e(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.id=s[n],s.name=s[a],r.push(s)}}catch(l){o.e(l)}finally{o.f()}}return r}},{key:"onChange",value:function(e,t){}},{key:"onChangeAll",value:function(e,t){e?console.log("Select All action"):console.log("Unselect All action")}},{key:"updateStageLabel",value:function(e){var t=this;if(e.stageLabel){this.isShowStageError=!1,this.isSubmitClicked=!0,this.emphasize=!this.emphasize,console.log(e),this.listLoading=!0;var n={branchId:this.branchId[0].id,stageId:e.stageId,stageLabel:e.stageLabel,updatedBy:this.userDet.empId};null!=e.stageLabelId&&""!=e.stageLabelId&&(n.id=e.stageLabelId),console.log(n),this.skillMatrixService.updateStageData("apis/sm/updateStageLabel",n).subscribe(function(n){e.isEdited=!1,t.listLoading=!1,n.result?(t.isStageNameEmpty=!0,t.alertService.success("Stage Label Updated Successfully"),t.getStageList()):t.alertService.error(100==n.statusCode?n.reason:"Error occurred while updating data. Please try again")}),this.isSubmitClicked=!1}else this.isShowStageError=!0}},{key:"resetInput",value:function(e){console.log(e),e.stageLabel!==e.originalStageLabel&&(e.stageLabel=e.originalStageLabel),e.isEditable=!1}},{key:"onInputChange",value:function(e){e.isInputEdited=!0}},{key:"toggleEdit",value:function(e){var t=this;this.cancelEdit(this.currentlyEditedStage),this.currentlyEditedStageId=e.stageId,this.currentlyEditedStage=e,this.currentlyEditedStage.isEditable=!0,this.currentlyEditedStage.originalStageLabel=this.currentlyEditedStage.stageLabel,setTimeout(function(){t.stageInputField.nativeElement.focus()},0)}},{key:"cancelEdit",value:function(e){e&&(e.stageLabel=e.originalStageLabel,e.isEditable=!1),this.currentlyEditedStageId=null,this.currentlyEditedStage=null}}]),t}()).\u0275fac=function(e){return new(e||L)(l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](d.b),l["\u0275\u0275directiveInject"](h.e))},L.\u0275cmp=l["\u0275\u0275defineComponent"]({type:L,selectors:[["app-stagelabel"]],viewQuery:function(e,t){var n;1&e&&l["\u0275\u0275viewQuery"](f,1),2&e&&l["\u0275\u0275queryRefresh"](n=l["\u0275\u0275loadQuery"]())&&(t.stageInputField=n.first)},inputs:{branchId:"branchId"},features:[l["\u0275\u0275NgOnChangesFeature"]],decls:20,vars:2,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-3","p-r-5","p-l-5","m-l-2"],[1,"col-3","p-r-5","p-l-5","form-group"],[1,"col-4","p-0"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["datatable","",1,"table"],[1,"fixedColumn"],[1,""],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","actionTd size text-left",4,"ngIf"],["type","text","class","form-control my-custom-input","name","searchInput","placeholder","Enter stage name","autocomplete","off",3,"editing","ngModel","ngModelChange",4,"ngIf"],["class","custom-errorMsg",4,"ngIf"],["type","text","name","searchInput","placeholder","Enter stage name","autocomplete","off",1,"form-control","my-custom-input",3,"ngModel","ngModelChange"],["stageInputField",""],[1,"custom-errorMsg"],[1,"actionTd","size","text-left"],["class","fa fa-edit editIcon",3,"click",4,"ngIf"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"btn","btn-primary","updateButton",3,"click"],[1,"btn","btn-danger","cancelButton",3,"click"],["colspan","11","class","text-center no-record-found",4,"ngIf"],["colspan","11","class","text-center loading-div",4,"ngIf"],["colspan","11",1,"text-center","no-record-found"],["colspan","11",1,"text-center","loading-div"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275element"](3,"div",3),l["\u0275\u0275element"](4,"div",4),l["\u0275\u0275element"](5,"div",5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",6),l["\u0275\u0275elementStart"](7,"div",7),l["\u0275\u0275elementStart"](8,"table",8),l["\u0275\u0275elementStart"](9,"thead"),l["\u0275\u0275elementStart"](10,"tr"),l["\u0275\u0275elementStart"](11,"th",9),l["\u0275\u0275text"](12,"Stage"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"th",10),l["\u0275\u0275text"](14,"Stage Label"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"th",11),l["\u0275\u0275text"](16,"Action"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"tbody"),l["\u0275\u0275template"](18,E,4,3,"tr",12),l["\u0275\u0275template"](19,D,3,2,"tr",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](18),l["\u0275\u0275property"]("ngForOf",t.stageList),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==t.stageList||0==t.stageList.length))},directives:[o.NgForOf,o.NgIf,h.c,h.o,h.r,u.a],styles:[".homepage-block[_ngcontent-%COMP%]{position:absolute;top:12%}.table[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;background-color:#f2f2f2;color:#333}.table[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::-moz-placeholder{color:#bbb}.table[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#bbb}.table[_ngcontent-%COMP%]   .actionTd[_ngcontent-%COMP%]   .updateButton[_ngcontent-%COMP%]{background:#7044cd}.table[_ngcontent-%COMP%]   .actionTd[_ngcontent-%COMP%]   .cancelButton[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   .actionTd[_ngcontent-%COMP%]   .updateButton[_ngcontent-%COMP%]{color:#fff;text-transform:capitalize;font:normal normal 400 10pt/1.5 Helvetica Neue;box-shadow:none;outline:none;border:none;border-radius:4px}.table[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{color:#7044cd}.table[_ngcontent-%COMP%]   .enabled-input[_ngcontent-%COMP%]{border:2px solid #9ec2ba}"]}),L),O=i("1kSV");function k(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"app-loading",8),l["\u0275\u0275text"](1,"Please Wait..."),l["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td",9),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=t.index;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a+1),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](n.levelName)}}function R(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",12),l["\u0275\u0275element"](1,"app-loading"),l["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td",10),l["\u0275\u0275text"](2," Data not found "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](3,R,2,0,"td",11),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",n.listLoading)}}var _,A=((_=function(){function e(t,a){n(this,e),this.skillMatrixService=a,this.listLoading=!1,this.isLevelListLoading=!1}return r(e,[{key:"ngOnInit",value:function(){this.getRefMasterCertificateLevel()}},{key:"getRefMasterCertificateLevel",value:function(){var e=this;this.isLevelListLoading=!0,this.skillMatrixService.getMasterCertificateData("apis/sm/getLevelList").subscribe(function(t){t.result?(e.isLevelListLoading=!1,e.refMasterCertificateLevel=null!=t.dataList&&t.dataList.length>0?t.dataList:[]):e.refMasterCertificateLevel=[]})}}]),e}()).\u0275fac=function(e){return new(e||_)(l["\u0275\u0275directiveInject"](O.k),l["\u0275\u0275directiveInject"](c.a))},_.\u0275cmp=l["\u0275\u0275defineComponent"]({type:_,selectors:[["app-level"]],decls:15,vars:3,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],["style","position: absolute;top: 50%;left: 50%;",4,"ngIf"],[1,"table-block"],[1,"table-responsive","tableFixHead"],[1,"table"],[2,"width","8%"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"position","absolute","top","50%","left","50%"],[2,"width","10%"],["colspan","2",1,"text-center","no-record-found"],["colspan","2","class","text-center loading-div",4,"ngIf"],["colspan","2",1,"text-center","loading-div"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div"),l["\u0275\u0275template"](2,k,2,0,"app-loading",1),l["\u0275\u0275elementStart"](3,"div",2),l["\u0275\u0275elementStart"](4,"div",3),l["\u0275\u0275elementStart"](5,"table",4),l["\u0275\u0275elementStart"](6,"thead"),l["\u0275\u0275elementStart"](7,"tr"),l["\u0275\u0275elementStart"](8,"th",5),l["\u0275\u0275text"](9,"Sr. No"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"th"),l["\u0275\u0275text"](11,"Level"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"tbody"),l["\u0275\u0275template"](13,w,5,2,"tr",6),l["\u0275\u0275template"](14,N,4,1,"tr",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.isLevelListLoading),l["\u0275\u0275advance"](11),l["\u0275\u0275property"]("ngForOf",t.refMasterCertificateLevel),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==t.refMasterCertificateLevel||0==t.refMasterCertificateLevel.length))},directives:[o.NgIf,o.NgForOf,u.a],styles:[".homepage-block[_ngcontent-%COMP%]{position:absolute;top:12%}.table[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;background-color:#f2f2f2;color:#333}.table[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::-moz-placeholder{color:#bbb}.table[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#bbb}.table[_ngcontent-%COMP%]   .actionTd[_ngcontent-%COMP%]   .updateButton[_ngcontent-%COMP%]{background:#7044cd}.table[_ngcontent-%COMP%]   .actionTd[_ngcontent-%COMP%]   .cancelButton[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   .actionTd[_ngcontent-%COMP%]   .updateButton[_ngcontent-%COMP%]{color:#fff;text-transform:capitalize;font:normal normal 400 10pt/1.5 Helvetica Neue;box-shadow:none;outline:none;border:none;border-radius:4px}"]}),_),B=i("PSD3"),F=i.n(B),G=i("Dh3D"),T=i("h77R");function V(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"app-loading",25),l["\u0275\u0275text"](1,"Please Wait..."),l["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"td"),l["\u0275\u0275text"](6),l["\u0275\u0275pipe"](7,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"td"),l["\u0275\u0275text"](9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"td",26),l["\u0275\u0275elementStart"](11,"i",27),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit,a=l["\u0275\u0275nextContext"](),r=l["\u0275\u0275reference"](35);return a.updateNoOfDays(r,"top",e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](12,"\xa0 \xa0 "),l["\u0275\u0275elementStart"](13,"i",28),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit;return l["\u0275\u0275nextContext"]().removeNoOfDays(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](14,"\xa0 \xa0 "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.branchName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.levelName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.createdDate?l["\u0275\u0275pipeBind2"](7,4,a.createdDate,"dd-MM-yyyy"):"N/A"),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](a.noOfDays)}}function j(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",31),l["\u0275\u0275text"](1," Data not found "),l["\u0275\u0275elementEnd"]())}function q(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",32),l["\u0275\u0275element"](1,"app-loading"),l["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275template"](1,j,2,0,"td",29),l["\u0275\u0275template"](2,q,2,0,"td",30),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!n.listLoading),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.listLoading)}}function $(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1," Please select plant "),l["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",57),l["\u0275\u0275template"](1,$,2,0,"div",22),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.formdata.controls.branchId.errors.required)}}function Y(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1," Please select skill level "),l["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",57),l["\u0275\u0275template"](1,Y,2,0,"div",22),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.formdata.controls.skillLvlId.errors.required)}}function Q(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1," Please enter no. of days "),l["\u0275\u0275elementEnd"]())}function W(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1," Number of days can not be negative. "),l["\u0275\u0275elementEnd"]())}function J(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275text"](1," Number of days must be an integer. "),l["\u0275\u0275elementEnd"]())}function X(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",57),l["\u0275\u0275template"](1,Q,2,0,"div",22),l["\u0275\u0275template"](2,W,2,0,"div",22),l["\u0275\u0275template"](3,J,2,0,"div",22),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.formdata.controls.noOfDays.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.formdata.get("noOfDays").hasError("negativeValue")&&!n.formdata.get("noOfDays").hasError("notAnInteger")),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.formdata.get("noOfDays").hasError("notAnInteger")&&!n.formdata.get("noOfDays").hasError("negativeValue"))}}function Z(e,t){1&e&&l["\u0275\u0275element"](0,"span",58)}function ee(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",59),l["\u0275\u0275text"](1," Loading..."),l["\u0275\u0275elementEnd"]())}function te(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",60),l["\u0275\u0275text"](1,"Submit"),l["\u0275\u0275elementEnd"]())}function ne(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",33),l["\u0275\u0275elementStart"](1,"h4",34),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",35),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().closeFilterPopup()}),l["\u0275\u0275elementStart"](4,"span",36),l["\u0275\u0275text"](5,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"form",37),l["\u0275\u0275listener"]("ngSubmit",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]();return e.saveOrUpdateAssessmentDays(e.formdata)}),l["\u0275\u0275elementStart"](7,"div",38),l["\u0275\u0275elementStart"](8,"div",39),l["\u0275\u0275elementStart"](9,"label",40),l["\u0275\u0275text"](10,"Plant \xa0 "),l["\u0275\u0275elementStart"](11,"span",41),l["\u0275\u0275text"](12,"*"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"div",42),l["\u0275\u0275elementStart"](14,"ng-multiselect-dropdown",43),l["\u0275\u0275listener"]("ngModelChange",function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().searchDet.branchId=e}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](15,H,2,1,"div",44),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"div",39),l["\u0275\u0275elementStart"](17,"label",45),l["\u0275\u0275text"](18,"Skill Level \xa0 "),l["\u0275\u0275elementStart"](19,"span",41),l["\u0275\u0275text"](20,"*"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"div",42),l["\u0275\u0275elementStart"](22,"ng-multiselect-dropdown",46),l["\u0275\u0275listener"]("ngModelChange",function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().searchDet.masterLevelData=e}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](23,K,2,1,"div",44),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"div",47),l["\u0275\u0275elementStart"](25,"label",48),l["\u0275\u0275text"](26,"No Of Days \xa0 "),l["\u0275\u0275elementStart"](27,"span",41),l["\u0275\u0275text"](28,"*"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](29,"div",49),l["\u0275\u0275elementStart"](30,"input",50),l["\u0275\u0275listener"]("ngModelChange",function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().searchDet.noOfDaysEnter=e}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](31,X,4,3,"div",44),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](32,"div",51),l["\u0275\u0275elementStart"](33,"div",52),l["\u0275\u0275elementStart"](34,"button",53),l["\u0275\u0275template"](35,Z,1,0,"span",54),l["\u0275\u0275template"](36,ee,2,0,"span",55),l["\u0275\u0275template"](37,te,2,0,"span",56),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var a=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.modalTitle),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("formGroup",a.formdata),l["\u0275\u0275advance"](8),l["\u0275\u0275property"]("placeholder","Select Plant")("settings",a.SingleDropdownSettings)("disabled",a.isEditing&&a.formdata.get("branchId").value)("data",a.plantList)("ngModel",a.searchDet.branchId),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.isFormSubmitted&&a.formdata.controls.branchId.invalid&&(a.formdata.controls.branchId.touched||a.formdata.controls.branchId.dirty)),l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("placeholder","Select Skill Level")("settings",a.SingleDropdownSettings)("data",a.masterLevelList)("ngModel",a.searchDet.masterLevelData),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.isFormSubmitted&&a.formdata.controls.skillLvlId.invalid&&(a.formdata.controls.skillLvlId.touched||a.formdata.controls.skillLvlId.dirty)),l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("ngModel",a.searchDet.noOfDaysEnter),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.formdata.controls.noOfDays.invalid&&(a.formdata.controls.noOfDays.touched||a.formdata.controls.noOfDays.dirty)),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("disabled",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}var ae,re=((ae=function(){function t(e,a,r,i,o){n(this,t),this.skillMatrixService=e,this.modalService=r,this.fb=i,this.alertService=o,this.isLevelListLoading=!1,this.isGapListLoading=!1,this.isEdit=!1,this.plantList=[],this.searchDet={},this.SingleDropdownSettings={},this.assessmentData={},this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},this.listLoading=!1,this.isFormSubmitted=!1,this.submitSpinner=!1,this.isEditing=!1,this.noNegativeValidator=function(e){console.log(e);var t=e.value;return 0===t?{zeroValue:!0}:t<0?{negativeValue:!0}:null},a.backdrop="static",a.keyboard=!1}return r(t,[{key:"ngOnChanges",value:function(e){e.branchId&&!e.branchId.firstChange&&this.getAssessmentNumberOfDays()}},{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.formdata=this.fb.group({branchId:new h.f("",h.z.required),noOfDays:new h.f("",[h.z.required,this.noNegativeValidator,this.integerValidator]),skillLvlId:new h.f("",h.z.required)}),this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.getAccessiblePlantList(),this.getMasterLevelList(),this.getAssessmentNumberOfDays()}},{key:"getMasterLevelList",value:function(){var e=this;this.isLevelListLoading=!0,this.skillMatrixService.getMasterCertificateData("apis/sm/getLevelList").subscribe(function(t){t.result&&(null!=t.dataList&&t.dataList.length>0?(e.masterLevelList=e.setArray(t.dataList,"id","levelName"),e.searchDet.masterLevelList=e.setArray(t.dataList,"id","levelName")):(e.masterLevelList=[{id:e.userDet.branch.branchId,name:e.userDet.branch.name}],e.searchDet.masterLevelList=[{id:e.userDet.branch.branchId,name:e.userDet.branch.name}]))})}},{key:"saveOrUpdateAssessmentDays",value:function(e){var t=this;if(console.log(e),this.isFormSubmitted=!0,e.invalid)Object.keys(e.controls).forEach(function(t){e.controls[t].markAsDirty()});else if("VALID"==e.status&&0==this.assessmentData.id){var n={skillLevelId:e.get("skillLvlId").value[0].id,branchId:e.get("branchId").value[0].id,noOfDays:this.searchDet.noOfDaysEnter};console.log(n),this.skillMatrixService.saveAssessmentNoDays("apis/sm/addAssessmentConfig",n).subscribe(function(e){e.result?(t.alertService.success("Activity assessment gap(days) added successfully"),t.getAssessmentNumberOfDays(),t.searchDet.addForm=!1,t.modalService.dismissAll()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while submitting data. Please try again.")})}else{var a={skillLevelId:e.get("skillLvlId").value[0].id,branchId:e.get("branchId").value[0].id,noOfDays:this.searchDet.noOfDaysEnter,id:this.assessmentData.id,updatedBy:this.userDet.empId};console.log(a),this.skillMatrixService.saveAssessmentNoDays("apis/sm/updateAssessmentConfig",a).subscribe(function(e){e.result?(t.alertService.success("Activity assessment gap(days) updated successfully"),t.modalService.dismissAll(),t.getAssessmentNumberOfDays()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while submitting data. Please try again.")})}}},{key:"openNoOfDaysModal",value:function(e,t){this.isEditing=!1,this.modalTitle="Add Gap Days",this.searchDet.branchId="",this.searchDet.masterLevelData="",this.searchDet.noOfDaysEnter="",this.resetForm(),this.assessmentData.id=0,this.modalService.open(e,{windowClass:t})}},{key:"resetForm",value:function(){this.formdata.reset(),this.isFormSubmitted=!1}},{key:"getAccessiblePlantList",value:function(){var e=this;this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?(e.plantList=e.setArray(t.branchAccessList,"branchId","branchName"),e.searchDet.plantList=e.setArray(t.branchAccessList,"branchId","branchName")):(e.plantList=[{id:e.userDet.branch.branchId,name:e.userDet.branch.name}],e.searchDet.plantList=[{id:e.userDet.branch.branchId,name:e.userDet.branch.name}])})}},{key:"setArray",value:function(t,n,a){var r=[];if(null!=t&&t.length>0){var i,o=e(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.id=s[n],s.name=s[a],r.push(s)}}catch(l){o.e(l)}finally{o.f()}}return r}},{key:"updateNoOfDays",value:function(e,t,n){this.isEditing=!0,this.modalTitle="Update Gap Days",this.assessmentData.id=n.id,console.log(n),this.searchDet.branchId=[{id:n.branchId,name:n.branchName}],this.searchDet.noOfDaysEnter=n.noOfDays,this.searchDet.masterLevelData=[{id:n.skillLevelId,name:n.levelName}],this.modalService.open(e,{windowClass:t})}},{key:"removeNoOfDays",value:function(e){var t=this;F.a.fire({title:"Are You Sure!",text:"Do you want remove this assessment No. of days?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove it",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(function(n){n.isConfirmed&&t.skillMatrixService.removeNoOfDays("apis/sm/deleteAssessmentConfig",{id:e.id,updatedBy:t.userDet.empId}).subscribe(function(e){console.log(e),e.result?(t.alertService.success("Activity assessment gap(days) deleted successfully"),t.getAssessmentNumberOfDays()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while removing data. Please try again")})})}},{key:"getAssessmentNumberOfDays",value:function(){var e=this;this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;var t={offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage,orgId:this.userDet.organization.orgId};""!=this.searchDet.branchId&&(t.branchId=this.searchDet.branchId),this.branchId&&(console.log(this.branchId[0].id),t.branchId=this.branchId[0].id),this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction.toUpperCase()),console.log(t),this.skillMatrixService.getGapReasonListData("apis/sm/getAssessmentConfigList",t).subscribe(function(t){t.result?(1==e.staticPagination.page&&(e.staticPagination.total=t.totalCount,e.staticPagination.totalPages=Math.ceil(t.totalCount/e.staticPagination.itemsPerPage)),null!=t.dataList&&t.dataList.length>0?(e.assessmentAssign=t.dataList,e.staticPagination.listLength=e.assessmentAssign.length):(e.assessmentAssign=[],e.staticPagination.listLength=e.assessmentAssign.length,e.staticPagination.total=e.assessmentAssign.length)):(e.assessmentAssign=[],e.listLoading=!1,e.staticPagination.listLength=e.assessmentAssign.length,e.staticPagination.total=e.assessmentAssign.length)})}},{key:"loadMore",value:function(e){console.log(e),this.staticPagination=e,this.assessmentAssign=[],this.listLoading=!0,this.getAssessmentNumberOfDays()}},{key:"sortData",value:function(e){this.sorting=e,this.getAssessmentNumberOfDays()}},{key:"onChangeBranch",value:function(e){console.log(e),this.searchDet.branchId=e.id,this.getAssessmentNumberOfDays()}},{key:"integerValidator",value:function(e){var t=e.value;return""===t||Number.isInteger(t)?null:{notAnInteger:!0}}},{key:"closeFilterPopup",value:function(){this.searchDet.branchId=[],this.searchDet.masterLevelData=[],this.assessmentData.noOfDaysEnter=[],this.formdata.reset(),this.modalService.dismissAll()}},{key:"getSortFunction",value:function(e,t){return e&&Array.isArray(e)&&e.length>0&&"plant"===t&&e.sort(function(e,t){var n=e.name?e.name.toUpperCase():"",a=t.name?t.name.toUpperCase():"";return n<a?-1:n>a?1:0}),e}}]),t}()).\u0275fac=function(e){return new(e||ae)(l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](O.k),l["\u0275\u0275directiveInject"](O.j),l["\u0275\u0275directiveInject"](h.e),l["\u0275\u0275directiveInject"](d.b))},ae.\u0275cmp=l["\u0275\u0275defineComponent"]({type:ae,selectors:[["app-assessment-configuration"]],inputs:{branchId:"branchId"},features:[l["\u0275\u0275NgOnChangesFeature"]],decls:36,vars:4,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-8","p-0"],[1,"col-6"],[1,"form-group","has-search"],[1,"form-control-feedback"],["type","text",1,"form-control"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button",1,"btn","addRegBtn","m-0",3,"click"],[1,"fa","fa-plus","m-r-10"],["style","position: absolute;top: 50%;left: 50%;",4,"ngIf"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","LevelName"],["mat-sort-header","CreatedDate"],["mat-sort-header","NoOfDays",1,"actionTh"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["openRefModalGapReason",""],[2,"position","absolute","top","50%","left","50%"],[1,"actionTd","size","text-left"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],["colspan","2","class","text-center no-record-found",4,"ngIf"],["colspan","2","class","text-center loading-div",4,"ngIf"],["colspan","2",1,"text-center","no-record-found"],["colspan","2",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"form-group","row"],["for","branch",1,"col-sm-4","col-form-label"],[1,"astrik"],[1,"col-8","p-l-7"],["name","branchId","formControlName","branchId",1,"custom-multiSelection","customWidthForInter",3,"placeholder","settings","disabled","data","ngModel","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],["for","skillLvlId",1,"col-sm-4","col-form-label"],["name","skillLvlId","formControlName","skillLvlId",1,"custom-multiSelection","customWidthForInter",3,"placeholder","settings","data","ngModel","ngModelChange"],[1,"row","form-group"],["for","noOfDays",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","number","id","noOfDays","name","noOfDays","placeholder","Enter Number Of Days","formControlName","noOfDays","maxlength","255",1,"form-control","customInput-field",3,"ngModel","ngModelChange"],[1,"footerDiv"],[1,"footerBtn"],["type","submit",1,"btn","btn-lg","submitBtn","event-btn",3,"disabled"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"div",2),l["\u0275\u0275elementStart"](5,"div",4),l["\u0275\u0275elementStart"](6,"div",5),l["\u0275\u0275element"](7,"span",6),l["\u0275\u0275element"](8,"input",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"div",8),l["\u0275\u0275elementStart"](10,"div",9),l["\u0275\u0275elementStart"](11,"button",10),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275reference"](35);return t.openNoOfDaysModal(e,"top")}),l["\u0275\u0275element"](12,"i",11),l["\u0275\u0275text"](13," Add Gap Days"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](14,V,2,0,"app-loading",12),l["\u0275\u0275elementStart"](15,"div",13),l["\u0275\u0275elementStart"](16,"div",14),l["\u0275\u0275elementStart"](17,"table",15),l["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),l["\u0275\u0275elementStart"](18,"thead"),l["\u0275\u0275elementStart"](19,"tr"),l["\u0275\u0275elementStart"](20,"th",16),l["\u0275\u0275text"](21,"Plant"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"th",17),l["\u0275\u0275text"](23,"Level"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"th",18),l["\u0275\u0275text"](25,"Created Date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"th",19),l["\u0275\u0275text"](27,"Gap In Days"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"th",20),l["\u0275\u0275text"](29,"Action"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](30,"tbody"),l["\u0275\u0275template"](31,z,15,7,"tr",21),l["\u0275\u0275template"](32,U,3,2,"tr",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](33,"app-pagination",23),l["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](34,ne,38,19,"ng-template",null,24,l["\u0275\u0275templateRefExtractor"])}2&e&&(l["\u0275\u0275advance"](14),l["\u0275\u0275property"]("ngIf",t.isGapListLoading),l["\u0275\u0275advance"](17),l["\u0275\u0275property"]("ngForOf",t.assessmentAssign),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==t.assessmentAssign||0==t.assessmentAssign.length),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[o.NgIf,G.a,G.b,o.NgForOf,T.a,u.a,h.A,h.p,h.h,m.a,h.o,h.g,h.t,h.c,h.k],pipes:[o.DatePipe],styles:[".homepage-block[_ngcontent-%COMP%]{position:absolute;top:12%}.extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border:none;border-radius:0;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:2px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1.5rem!important;color:#7044cd!important}"]}),ae);function ie(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"span",26),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().getSearchList(!0)}),l["\u0275\u0275elementEnd"]()}}function oe(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"span",27),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().getSearchList(!1)}),l["\u0275\u0275elementEnd"]()}}function se(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"app-loading",28),l["\u0275\u0275text"](1,"Please Wait..."),l["\u0275\u0275elementEnd"]())}function le(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"td"),l["\u0275\u0275text"](6),l["\u0275\u0275pipe"](7,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"td",29),l["\u0275\u0275elementStart"](9,"i",30),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit,a=l["\u0275\u0275nextContext"](),r=l["\u0275\u0275reference"](35);return a.editRefModel(r,"top",e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](10,"\xa0 \xa0 "),l["\u0275\u0275elementStart"](11,"i",31),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit;return l["\u0275\u0275nextContext"]().removeRefModel(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](12,"\xa0 \xa0 "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.branchName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.modelName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.createdDate?l["\u0275\u0275pipeBind2"](7,3,a.createdDate,"dd-MM-yyyy"):"N/A")}}function ce(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",34),l["\u0275\u0275text"](1," Data not Found "),l["\u0275\u0275elementEnd"]())}function de(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",35),l["\u0275\u0275element"](1,"app-loading"),l["\u0275\u0275elementEnd"]())}function me(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275template"](1,ce,2,0,"td",32),l["\u0275\u0275template"](2,de,2,0,"td",33),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!n.isModelListLoading),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isModelListLoading)}}function he(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",54),l["\u0275\u0275text"](1," Please enter model name "),l["\u0275\u0275elementEnd"]())}function ue(e,t){1&e&&l["\u0275\u0275element"](0,"span",55)}function fe(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",56),l["\u0275\u0275text"](1," Loading..."),l["\u0275\u0275elementEnd"]())}function ge(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",57),l["\u0275\u0275text"](1,"Submit"),l["\u0275\u0275elementEnd"]())}function pe(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",36),l["\u0275\u0275elementStart"](1,"h4",37),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",38),l["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),l["\u0275\u0275elementStart"](4,"span",39),l["\u0275\u0275text"](5,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"form",40),l["\u0275\u0275listener"]("ngSubmit",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]();return e.saveReferenceModel(e.formdata)}),l["\u0275\u0275elementStart"](7,"div",41),l["\u0275\u0275elementStart"](8,"div"),l["\u0275\u0275elementStart"](9,"div",42),l["\u0275\u0275elementStart"](10,"label",43),l["\u0275\u0275text"](11,"Model Name \xa0 "),l["\u0275\u0275elementStart"](12,"span",44),l["\u0275\u0275text"](13,"*"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"div",45),l["\u0275\u0275elementStart"](15,"input",46),l["\u0275\u0275listener"]("ngModelChange",function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().addEditReferenceModel.modelName=e}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](16,he,2,0,"div",47),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](17,"div",48),l["\u0275\u0275elementStart"](18,"div",49),l["\u0275\u0275elementStart"](19,"button",50),l["\u0275\u0275template"](20,ue,1,0,"span",51),l["\u0275\u0275template"](21,fe,2,0,"span",52),l["\u0275\u0275template"](22,ge,2,0,"span",53),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var a=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.modalTitle),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("formGroup",a.formdata),l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngModel",a.addEditReferenceModel.modelName),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.isFormSubmitted&&a.formdata.controls.modelName.invalid||(a.formdata.controls.modelName.touched||a.formdata.controls.modelName.Untouched)&&a.formdata.controls.modelName.hasError("required")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("disabled",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}var be,ve=((be=function(){function t(e,a,r,i,o){n(this,t),this.skillMatrixService=a,this.alertService=r,this.modalService=i,this.fb=o,this.searchDet={},this.submitSpinner=!1,this.isModelListLoading=!1,this.referencemodelList=[],this.referenceModel={},this.SingleBranchDropdownSettings={},this.userDet={},this.branchAccessList=[],this.addEditReferenceModel={},this.isFormSubmitted=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},e.backdrop="static",e.keyboard=!1}return r(t,[{key:"ngOnChanges",value:function(e){e.branchId&&!e.branchId.firstChange&&this.getModelListData()}},{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getBranchAccessList(),this.SingleBranchDropdownSettings={singleSelection:!0,idField:"branchId",textField:"branchName",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.formdata=this.fb.group({modelName:new h.f("",h.z.required)}),this.resetForm()}},{key:"getBranchAccessList",value:function(){var e=this;this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?(e.branchAccessList=t.branchAccessList,e.branchAccessList=e.setArray(e.branchAccessList,"branchId","branchName"),e.branchAccessList=e.sortFunction(e.branchAccessList,"name"),e.referenceModel.branch=[e.branchAccessList[0]]):e.branchAccessList=[{branchId:e.userDet.branch.branchId,branchName:e.userDet.branch.name}],e.branchAccessList.length>0&&(e.referenceModel.branch=[e.branchAccessList[0]]),e.onChangeBranch(e.branchAccessList[0])})}},{key:"onChangeBranch",value:function(e){e?(this.disableReferModel=!0,this.referenceModel.branchId=e.branchId,this.getModelListData()):(this.disableReferModel=!1,this.referencemodelList=[])}},{key:"getModelListData",value:function(){var e=this;this.isModelListLoading=!0,console.log(this.staticPagination.total),this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;var t={offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};""!=this.searchDet.branchId&&(t.branchId=this.searchDet.branchId),this.branchId&&(console.log(this.branchId[0].id),t.branchId=this.branchId[0].id),this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction.toUpperCase()),console.log(t),this.skillMatrixService.getModelListData("apis/sm/getModelList",t).subscribe(function(t){t.result?(e.isModelListLoading=!1,1==e.staticPagination.page&&(e.staticPagination.total=t.totalCount,e.staticPagination.totalPages=Math.ceil(t.totalCount/e.staticPagination.itemsPerPage)),null!=t.dataList&&t.dataList.length>0?(e.referencemodelList=t.dataList,e.staticPagination.listLength=e.referencemodelList.length):(e.referencemodelList=[],e.staticPagination.listLength=e.referencemodelList.length,e.staticPagination.total=e.referencemodelList.length)):(e.referencemodelList=[],e.staticPagination.listLength=e.referencemodelList.length,e.staticPagination.total=e.referencemodelList.length,e.isModelListLoading=!1)},function(t){e.referencemodelList=[],e.isModelListLoading=!1})}},{key:"addRefModalOpen",value:function(e,t){this.modalTitle="Add New Model",this.addEditReferenceModel.branch=this.branchId,this.addEditReferenceModel.modelName="",this.resetForm(),this.modalService.open(e,{windowClass:t})}},{key:"resetForm",value:function(){this.formdata.reset(),this.isFormSubmitted=!1}},{key:"editRefModel",value:function(e,t,n){this.modalTitle="Update Model",this.addEditReferenceModel.modelName=n.modelName,this.addEditReferenceModel.modelId=n.id;for(var a=0;a<this.branchAccessList.length;a++)this.branchAccessList[a].branchId==n.branchId&&(this.addEditReferenceModel.branch=[this.branchAccessList[a]]);this.modalService.open(e,{windowClass:t})}},{key:"saveReferenceModel",value:function(e){var t=this;if(this.isFormSubmitted=!0,e.valid)if(null==this.addEditReferenceModel.modelId||""==this.addEditReferenceModel.modelId){if(null!=this.addEditReferenceModel.branch&&this.addEditReferenceModel.branch.length>0)for(var n=0;n<this.addEditReferenceModel.branch.length;n++)this.addEditReferenceModel.branchId=this.addEditReferenceModel.branch[n].branchId;this.reqBody={branchId:this.addEditReferenceModel.branch[0].id,modelName:this.addEditReferenceModel.modelName,isActive:!0,updatedBy:this.userDet.empId},console.log(this.reqBody),this.skillMatrixService.saveReferenceModel("apis/sm/addModelDetails",this.reqBody).subscribe(function(e){e.result?(t.modalService.dismissAll(),t.alertService.success("Model added successfully"),t.submitSpinner=!1,t.addEditReferenceModel.branch="",t.addEditReferenceModel.modelName="",t.getModelListData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while adding data. Please try again")})}else{if(null!=this.addEditReferenceModel.branch&&this.addEditReferenceModel.branch.length>0)for(var a=0;a<this.addEditReferenceModel.branch.length;a++)this.addEditReferenceModel.branchId=this.addEditReferenceModel.branch[a].branchId;this.reqBody={modelId:this.addEditReferenceModel.modelId,branchId:this.addEditReferenceModel.branchId,modelName:this.addEditReferenceModel.modelName,updatedBy:this.userDet.empId},this.skillMatrixService.updateModalDetails("apis/sm/updateModelDetails",this.reqBody).subscribe(function(e){e.result?(t.modalService.dismissAll(),t.alertService.success("Model updated successfully"),t.addEditReferenceModel.branch="",t.addEditReferenceModel.modelName="",t.addEditReferenceModel.modelId="",t.submitSpinner=!1,t.getModelListData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while updating data. Please try again")})}}},{key:"removeRefModel",value:function(e){var t=this;F.a.fire({title:"Are You Sure!",text:"Do you want to remove this model ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove It",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(function(n){n.isConfirmed&&(t.reqBody={modelId:e.id,updatedBy:t.userDet.empId},t.skillMatrixService.deleteModelDetails("apis/sm/deleteModelDetails",t.reqBody).subscribe(function(e){e.result?(t.alertService.success("Model removed successfully"),t.getModelListData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while removing data. Please try again")}))})}},{key:"loadMore",value:function(e){this.staticPagination=e,this.referencemodelList=[],this.isModelListLoading=!0,this.getModelListData()}},{key:"sortData",value:function(e){this.sorting=e,this.getModelListData()}},{key:"getSearchList",value:function(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getModelListData()}},{key:"clearPagination",value:function(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}},{key:"getSortFunction",value:function(e,t){return e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"level"!==t||e.sort(function(e,t){var n=e.branchName?e.branchName.toUpperCase():"",a=t.branchName?t.branchName.toUpperCase():"";return n<a?-1:n>a?1:0})),e}},{key:"setArray",value:function(t,n,a){var r=[];if(null!=t&&t.length>0){var i,o=e(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.id=s[n],s.name=s[a],r.push(s)}}catch(l){o.e(l)}finally{o.f()}}return r}},{key:"sortFunction",value:function(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),r=Number(n[t])?n[t]:n[t].toUpperCase();return a<r?-1:a>r?1:0}),e}}]),t}()).\u0275fac=function(e){return new(e||be)(l["\u0275\u0275directiveInject"](O.k),l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](d.b),l["\u0275\u0275directiveInject"](O.j),l["\u0275\u0275directiveInject"](h.e))},be.\u0275cmp=l["\u0275\u0275defineComponent"]({type:be,selectors:[["app-reference-model"]],inputs:{branchId:"branchId"},features:[l["\u0275\u0275NgOnChangesFeature"]],decls:36,vars:8,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-8","p-0"],[1,"col-6"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","id","your-element-id","name","searchInput","placeholder","Search by model or plant name","autocomplete","off",1,"form-control",2,"padding-right","2.4rem",3,"ngModel","ngModelChange","keyup"],[1,"col-6","p-r-5","p-l-5"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button",1,"btn","addRegBtn","m-0",3,"disabled","click"],[1,"fa","fa-plus","m-r-10"],["style","position: absolute;top: 50%;left: 50%;",4,"ngIf"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","ModelName"],["mat-sort-header","CreatedDate"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["openRefModalModel",""],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[2,"position","absolute","top","50%","left","50%"],[1,"actionTd","size","text-left"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],["colspan","2","class","text-center no-record-found",4,"ngIf"],["colspan","2","class","text-center loading-div",4,"ngIf"],["colspan","2",1,"text-center","no-record-found"],["colspan","2",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"row","form-group"],["for","modelName",1,"col-sm-4","col-form-label"],[1,"astrik"],[1,"col-sm-8"],["type","text","id","modelName","name","modelName","placeholder","Enter model name","formControlName","modelName","maxlength","255",1,"form-control","customInput-field",3,"ngModel","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],[1,"footerDiv"],[1,"footerBtn"],["type","submit",1,"btn","btn-lg","submitBtn","event-btn",3,"disabled"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"div",2),l["\u0275\u0275elementStart"](5,"div",4),l["\u0275\u0275elementStart"](6,"div",5),l["\u0275\u0275template"](7,ie,1,0,"span",6),l["\u0275\u0275template"](8,oe,1,0,"span",7),l["\u0275\u0275elementStart"](9,"input",8),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](10,"div",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"div",10),l["\u0275\u0275elementStart"](12,"div",11),l["\u0275\u0275elementStart"](13,"button",12),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275reference"](35);return t.addRefModalOpen(e,"top")}),l["\u0275\u0275element"](14,"i",13),l["\u0275\u0275text"](15," Add Model"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](16,se,2,0,"app-loading",14),l["\u0275\u0275elementStart"](17,"div",15),l["\u0275\u0275elementStart"](18,"div",16),l["\u0275\u0275elementStart"](19,"table",17),l["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),l["\u0275\u0275elementStart"](20,"thead"),l["\u0275\u0275elementStart"](21,"tr"),l["\u0275\u0275elementStart"](22,"th",18),l["\u0275\u0275text"](23,"Plant"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"th",19),l["\u0275\u0275text"](25,"Model"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"th",20),l["\u0275\u0275text"](27,"Created Date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"th",21),l["\u0275\u0275text"](29,"Action"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](30,"tbody"),l["\u0275\u0275template"](31,le,13,6,"tr",22),l["\u0275\u0275template"](32,me,3,2,"tr",23),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](33,"app-pagination",24),l["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](34,pe,23,8,"ng-template",null,25,l["\u0275\u0275templateRefExtractor"])}2&e&&(l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.searchDet.searchData),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("disabled",!t.disableReferModel),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",t.isModelListLoading),l["\u0275\u0275advance"](15),l["\u0275\u0275property"]("ngForOf",t.referencemodelList),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==t.referencemodelList||0==t.referencemodelList.length),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[o.NgIf,h.c,h.o,h.r,G.a,G.b,o.NgForOf,T.a,u.a,h.A,h.p,h.h,h.g,h.k],pipes:[o.DatePipe],styles:[".addRegDiv[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{position:absolute;right:8rem;font:normal normal 400 14px/37px Helvetica Neue;color:#fff;text-transform:capitalize;top:0;box-shadow:none;outline:none;border:none;padding:0}.extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border-radius:0;border:none;border-bottom:1px solid #7044cd;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:2px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1.5rem!important;color:#7044cd!important}.form-group[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;padding:.7rem 0;margin:0}.form-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-group[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 14px/1.5 Helvetica Neue;letter-spacing:0;color:#707070}.custom-errorMsg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:80%;color:#ff5252}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e3eaef!important}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;margin:0}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:normal normal 300 25px/1 Helvetica Neue}"]}),be);function Se(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"span",26),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().getSearchList(!0)}),l["\u0275\u0275elementEnd"]()}}function Ce(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"span",27),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().getSearchList(!1)}),l["\u0275\u0275elementEnd"]()}}function ye(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"app-loading",28),l["\u0275\u0275text"](1,"Please Wait..."),l["\u0275\u0275elementEnd"]())}function xe(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"td"),l["\u0275\u0275text"](6),l["\u0275\u0275pipe"](7,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"td",29),l["\u0275\u0275elementStart"](9,"i",30),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit,a=l["\u0275\u0275nextContext"](),r=l["\u0275\u0275reference"](35);return a.updateRefGapReason(r,"top",e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](10,"\xa0 \xa0 "),l["\u0275\u0275elementStart"](11,"i",31),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit;return l["\u0275\u0275nextContext"]().removeRefGapReason(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](12,"\xa0 \xa0 "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.branchName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.reason),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.createdDate?l["\u0275\u0275pipeBind2"](7,3,a.createdDate,"dd-MM-yyyy"):"N/A")}}function Ee(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",34),l["\u0275\u0275text"](1," Data not found "),l["\u0275\u0275elementEnd"]())}function Ie(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",35),l["\u0275\u0275element"](1,"app-loading"),l["\u0275\u0275elementEnd"]())}function Me(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275template"](1,Ee,2,0,"td",32),l["\u0275\u0275template"](2,Ie,2,0,"td",33),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!n.isGapListLoading),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isGapListLoading)}}function De(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",54),l["\u0275\u0275text"](1," Please enter gap reason "),l["\u0275\u0275elementEnd"]())}function Le(e,t){1&e&&l["\u0275\u0275element"](0,"span",55)}function Pe(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",56),l["\u0275\u0275text"](1," Loading..."),l["\u0275\u0275elementEnd"]())}function Oe(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",57),l["\u0275\u0275text"](1,"Submit"),l["\u0275\u0275elementEnd"]())}function ke(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",36),l["\u0275\u0275elementStart"](1,"h4",37),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",38),l["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),l["\u0275\u0275elementStart"](4,"span",39),l["\u0275\u0275text"](5,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"form",40),l["\u0275\u0275listener"]("ngSubmit",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]();return e.saveReferenceGapReason(e.formdata)}),l["\u0275\u0275elementStart"](7,"div",41),l["\u0275\u0275elementStart"](8,"div",42),l["\u0275\u0275elementStart"](9,"label",43),l["\u0275\u0275text"](10,"Gap Reason \xa0 "),l["\u0275\u0275elementStart"](11,"span",44),l["\u0275\u0275text"](12,"*"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"div",45),l["\u0275\u0275elementStart"](14,"input",46),l["\u0275\u0275listener"]("ngModelChange",function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().addEditReferenceGapReason.gapReason=e}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](15,De,2,0,"div",47),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](16,"div",48),l["\u0275\u0275elementStart"](17,"div",49),l["\u0275\u0275elementStart"](18,"button",50),l["\u0275\u0275template"](19,Le,1,0,"span",51),l["\u0275\u0275template"](20,Pe,2,0,"span",52),l["\u0275\u0275template"](21,Oe,2,0,"span",53),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var a=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.modalTitle),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("formGroup",a.formdata),l["\u0275\u0275advance"](8),l["\u0275\u0275property"]("ngModel",a.addEditReferenceGapReason.gapReason),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.isFormSubmitted&&a.formdata.controls.gapReason.invalid||(a.formdata.controls.gapReason.touched||a.formdata.controls.gapReason.Untouched)&&a.formdata.controls.gapReason.hasError("required")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("disabled",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}var we,Re=((we=function(){function t(e,a,r,i,o){n(this,t),this.skillMatrixService=a,this.alertService=r,this.modalService=i,this.fb=o,this.searchDet={},this.submitSpinner=!1,this.refGapReasonList=[],this.SingleBranchDropdownSettings={},this.branchAccessList=[],this.referenceGapReason={},this.userDet={},this.addEditReferenceGapReason={},this.isFormSubmitted=!1,this.isGapListLoading=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},e.backdrop="static",e.keyboard=!1}return r(t,[{key:"ngOnChanges",value:function(e){e.branchId&&!e.branchId.firstChange&&this.getRefGapReasonList()}},{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getBranchAccessList(),this.SingleBranchDropdownSettings={singleSelection:!0,idField:"branchId",textField:"branchName",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.formdata=this.fb.group({gapReason:new h.f("",h.z.required)}),this.resetForm()}},{key:"getBranchAccessList",value:function(){var e=this;this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?(e.branchAccessList=t.branchAccessList,e.branchAccessList=e.setArray(e.branchAccessList,"branchId","branchName"),e.branchAccessList=e.sortFunction(e.branchAccessList,"name"),e.searchDet.branchId=[e.branchAccessList[0]],console.log(e.searchDet.branchId)):e.branchAccessList=[{branchId:e.userDet.branch.branchId,branchName:e.userDet.branch.name}],e.branchAccessList.length>0&&(e.searchDet.branchId=[e.branchAccessList[0]]),e.onChangeBranch(e.branchAccessList[0])})}},{key:"onChangeBranch",value:function(e){console.log(e),e?(this.referenceGapReason.branchId=e.branchId,this.disableReferGap=!0,this.getRefGapReasonList()):(this.disableReferGap=!1,this.refGapReasonList=[])}},{key:"getRefGapReasonList",value:function(){var e=this;this.isGapListLoading=!0,this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;var t={offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};""!=this.searchDet.branchId&&(t.branchId=this.searchDet.branchId),this.branchId&&(console.log(this.branchId[0].id),t.branchId=this.branchId[0].id),this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction.toUpperCase()),console.log(t),this.skillMatrixService.getGapReasonListData("apis/sm/getGapReasonList",t).subscribe(function(t){t.result?(e.isGapListLoading=!1,1==e.staticPagination.page&&(e.staticPagination.total=t.totalCount,e.staticPagination.totalPages=Math.ceil(t.totalCount/e.staticPagination.itemsPerPage)),null!=t.dataList&&t.dataList.length>0?(e.refGapReasonList=t.dataList,console.log(e.refGapReasonList),e.staticPagination.listLength=e.refGapReasonList.length):(e.refGapReasonList=[],e.staticPagination.listLength=e.refGapReasonList.length,e.staticPagination.total=e.refGapReasonList.length)):(e.refGapReasonList=[],e.staticPagination.listLength=e.refGapReasonList.length,e.staticPagination.total=e.refGapReasonList.length,e.isGapListLoading=!1)},function(t){e.refGapReasonList=[],e.isGapListLoading=!1})}},{key:"openRefGapReasonModal",value:function(e,t){this.modalTitle="Add Gap Reason",this.addEditReferenceGapReason.branch=this.branchId,this.addEditReferenceGapReason.gapReason="",this.resetForm(),this.modalService.open(e,{windowClass:t})}},{key:"resetForm",value:function(){this.formdata.reset(),this.isFormSubmitted=!1}},{key:"updateRefGapReason",value:function(e,t,n){this.modalTitle="Update Gap Reason",this.addEditReferenceGapReason.gapReason=n.reason,this.addEditReferenceGapReason.gapId=n.id;for(var a=0;a<this.branchAccessList.length;a++)this.branchAccessList[a].branchId==n.branchId&&(this.addEditReferenceGapReason.branch=[this.branchAccessList[a]]);this.modalService.open(e,{windowClass:t})}},{key:"saveReferenceGapReason",value:function(e){var t=this;if(this.isFormSubmitted=!0,e.valid)if(null==this.addEditReferenceGapReason.gapId||""==this.addEditReferenceGapReason.gapId){if(null!=this.addEditReferenceGapReason.branch&&this.addEditReferenceGapReason.branch.length>0)for(var n=0;n<this.addEditReferenceGapReason.branch.length;n++)this.addEditReferenceGapReason.branchId=this.addEditReferenceGapReason.branch[n].branchId;this.reqBody={branchId:this.addEditReferenceGapReason.branch[0].id,reason:this.addEditReferenceGapReason.gapReason,isActive:!0,createdBy:this.userDet.empId},this.skillMatrixService.saveReferenceGapReason("apis/sm/saveGapReason",this.reqBody).subscribe(function(e){console.log(e),e.result?(t.modalService.dismissAll(),t.alertService.success("Gap reason added successfully"),t.addEditReferenceGapReason.branch="",t.addEditReferenceGapReason.gapReason="",t.getRefGapReasonList()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while adding data. Please try again")})}else{if(null!=this.addEditReferenceGapReason.branch&&this.addEditReferenceGapReason.branch.length>0)for(var a=0;a<this.addEditReferenceGapReason.branch.length;a++)this.addEditReferenceGapReason.branchId=this.addEditReferenceGapReason.branch[a].branchId;this.reqBody={reasonId:this.addEditReferenceGapReason.gapId,branchId:this.addEditReferenceGapReason.branchId,reason:this.addEditReferenceGapReason.gapReason,updatedBy:this.userDet.empId},this.skillMatrixService.updateGapDetails("apis/sm/updateGapReason",this.reqBody).subscribe(function(e){e.result?(t.modalService.dismissAll(),t.alertService.success("Gap reason updated successfully"),t.addEditReferenceGapReason.branch="",t.addEditReferenceGapReason.gapReason="",t.addEditReferenceGapReason.gapId="",t.getRefGapReasonList()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while updating data. Please try again")})}}},{key:"removeRefGapReason",value:function(e){var t=this;F.a.fire({title:"Are You Sure!",text:"You want remove this gap reason ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove it",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(function(n){n.isConfirmed&&(t.reqBody={reasonId:e.id,updatedBy:t.userDet.empId},t.skillMatrixService.removeRefGapReason("apis/sm/deleteGapReason",t.reqBody).subscribe(function(e){console.log(e),e.result?(t.alertService.success("Gap reason removed successfully"),t.getRefGapReasonList()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while removing data. Please try again")}))})}},{key:"loadMore",value:function(e){this.staticPagination=e,this.refGapReasonList=[],this.isGapListLoading=!0,this.getRefGapReasonList()}},{key:"getSearchList",value:function(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getRefGapReasonList()}},{key:"clearPagination",value:function(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}},{key:"sortData",value:function(e){this.sorting=e,console.log(this.sorting),this.getRefGapReasonList()}},{key:"getSortFunction",value:function(e,t){return e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"level"!==t||e.sort(function(e,t){var n=e.branchName?e.branchName.toUpperCase():"",a=t.branchName?t.branchName.toUpperCase():"";return n<a?-1:n>a?1:0})),e}},{key:"sortFunction",value:function(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),r=Number(n[t])?n[t]:n[t].toUpperCase();return a<r?-1:a>r?1:0}),e}},{key:"setArray",value:function(t,n,a){var r=[];if(null!=t&&t.length>0){var i,o=e(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.id=s[n],s.name=s[a],r.push(s)}}catch(l){o.e(l)}finally{o.f()}}return r}}]),t}()).\u0275fac=function(e){return new(e||we)(l["\u0275\u0275directiveInject"](O.k),l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](d.b),l["\u0275\u0275directiveInject"](O.j),l["\u0275\u0275directiveInject"](h.e))},we.\u0275cmp=l["\u0275\u0275defineComponent"]({type:we,selectors:[["app-reference-gap-reason"]],inputs:{branchId:"branchId"},features:[l["\u0275\u0275NgOnChangesFeature"]],decls:36,vars:8,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-8","p-0"],[1,"col-6"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","id","your-element-id","name","searchInput","placeholder","Search by gap reason or plant name","autocomplete","off",1,"form-control",2,"padding-right","2.4rem",3,"ngModel","ngModelChange","keyup"],[1,"col-6","p-r-5","p-l-5"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button",1,"btn","addRegBtn","m-0",3,"disabled","click"],[1,"fa","fa-plus","m-r-10"],["style","position: absolute;top: 50%;left: 50%;",4,"ngIf"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","Reason"],["mat-sort-header","CreatedDate"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["openRefModalGapReason",""],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[2,"position","absolute","top","50%","left","50%"],[1,"actionTd","size","text-left"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],["colspan","2","class","text-center no-record-found",4,"ngIf"],["colspan","2","class","text-center loading-div",4,"ngIf"],["colspan","2",1,"text-center","no-record-found"],["colspan","2",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"row","form-group"],["for","gapReason",1,"col-sm-4","col-form-label"],[1,"astrik"],[1,"col-sm-8"],["type","text","id","gapReason","name","gapReason","placeholder","Enter gap reason","formControlName","gapReason","maxlength","255",1,"form-control","customInput-field",3,"ngModel","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],[1,"footerDiv"],[1,"footerBtn"],["type","submit",1,"btn","btn-lg","submitBtn","event-btn",3,"disabled"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"div",2),l["\u0275\u0275elementStart"](5,"div",4),l["\u0275\u0275elementStart"](6,"div",5),l["\u0275\u0275template"](7,Se,1,0,"span",6),l["\u0275\u0275template"](8,Ce,1,0,"span",7),l["\u0275\u0275elementStart"](9,"input",8),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](10,"div",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"div",10),l["\u0275\u0275elementStart"](12,"div",11),l["\u0275\u0275elementStart"](13,"button",12),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275reference"](35);return t.openRefGapReasonModal(e,"top")}),l["\u0275\u0275element"](14,"i",13),l["\u0275\u0275text"](15," Add Gap Reason"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](16,ye,2,0,"app-loading",14),l["\u0275\u0275elementStart"](17,"div",15),l["\u0275\u0275elementStart"](18,"div",16),l["\u0275\u0275elementStart"](19,"table",17),l["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),l["\u0275\u0275elementStart"](20,"thead"),l["\u0275\u0275elementStart"](21,"tr"),l["\u0275\u0275elementStart"](22,"th",18),l["\u0275\u0275text"](23,"Plant"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"th",19),l["\u0275\u0275text"](25,"Gap Reason"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"th",20),l["\u0275\u0275text"](27,"Created Date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"th",21),l["\u0275\u0275text"](29,"Action"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](30,"tbody"),l["\u0275\u0275template"](31,xe,13,6,"tr",22),l["\u0275\u0275template"](32,Me,3,2,"tr",23),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](33,"app-pagination",24),l["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](34,ke,22,8,"ng-template",null,25,l["\u0275\u0275templateRefExtractor"])}2&e&&(l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.searchDet.searchData),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("disabled",!t.disableReferGap),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",t.isGapListLoading),l["\u0275\u0275advance"](15),l["\u0275\u0275property"]("ngForOf",t.refGapReasonList),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==t.refGapReasonList||0==t.refGapReasonList.length),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[o.NgIf,h.c,h.o,h.r,G.a,G.b,o.NgForOf,T.a,u.a,h.A,h.p,h.h,h.g,h.k],pipes:[o.DatePipe],styles:[".addRegDiv[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{position:absolute;right:8rem;font:normal normal 400 14px/37px Helvetica Neue;color:#fff;text-transform:capitalize;top:0;box-shadow:none;outline:none;border:none;padding:0}.extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border-radius:0;border:none;border-bottom:1px solid #7044cd;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:2px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1.5rem!important;color:#7044cd!important}.form-group[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;padding:.7rem 0;margin:0}.form-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-group[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 14px/1.5 Helvetica Neue;letter-spacing:0;color:#707070}.custom-errorMsg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:80%;color:#ff5252}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e3eaef!important}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;margin:0}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:normal normal 300 25px/1 Helvetica Neue}.ng-multiselect-dropdown.custom-multiSelection[_ngcontent-%COMP%]{margin-left:10px}"]}),we);function Ne(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"span",26),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().getSearchList(!0)}),l["\u0275\u0275elementEnd"]()}}function _e(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"span",27),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().getSearchList(!1)}),l["\u0275\u0275elementEnd"]()}}function Ae(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"app-loading",28),l["\u0275\u0275text"](1,"Please Wait..."),l["\u0275\u0275elementEnd"]())}function Be(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"td"),l["\u0275\u0275text"](6),l["\u0275\u0275pipe"](7,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"td",29),l["\u0275\u0275elementStart"](9,"i",30),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit,a=l["\u0275\u0275nextContext"](),r=l["\u0275\u0275reference"](35);return a.editRefShiftNo(r,"top",e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](10,"\xa0 \xa0 "),l["\u0275\u0275elementStart"](11,"i",31),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit;return l["\u0275\u0275nextContext"]().removeRefShift(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](12,"\xa0 \xa0 "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.branchName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.shiftName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.createdDate?l["\u0275\u0275pipeBind2"](7,3,a.createdDate,"dd-MM-yyyy"):"N/A")}}function Fe(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",34),l["\u0275\u0275text"](1," Data not found "),l["\u0275\u0275elementEnd"]())}function Ge(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",35),l["\u0275\u0275element"](1,"app-loading"),l["\u0275\u0275elementEnd"]())}function Te(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275template"](1,Fe,2,0,"td",32),l["\u0275\u0275template"](2,Ge,2,0,"td",33),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!n.isShiftListLoading),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isShiftListLoading)}}function Ve(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",54),l["\u0275\u0275text"](1," Please enter shift name "),l["\u0275\u0275elementEnd"]())}function ze(e,t){1&e&&l["\u0275\u0275element"](0,"span",55)}function je(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",56),l["\u0275\u0275text"](1," Loading..."),l["\u0275\u0275elementEnd"]())}function qe(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",57),l["\u0275\u0275text"](1,"Submit"),l["\u0275\u0275elementEnd"]())}function Ue(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",36),l["\u0275\u0275elementStart"](1,"h4",37),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",38),l["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),l["\u0275\u0275elementStart"](4,"span",39),l["\u0275\u0275text"](5,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"form",40),l["\u0275\u0275listener"]("ngSubmit",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]();return e.saveReferenceShiftNo(e.formdata)}),l["\u0275\u0275elementStart"](7,"div",41),l["\u0275\u0275elementStart"](8,"div"),l["\u0275\u0275elementStart"](9,"div",42),l["\u0275\u0275elementStart"](10,"label",43),l["\u0275\u0275text"](11,"Shift Name \xa0 "),l["\u0275\u0275elementStart"](12,"span",44),l["\u0275\u0275text"](13,"*"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"div",45),l["\u0275\u0275elementStart"](15,"input",46),l["\u0275\u0275listener"]("ngModelChange",function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().addEditReferenceShiftNo.shiftName=e}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](16,Ve,2,0,"div",47),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](17,"div",48),l["\u0275\u0275elementStart"](18,"div",49),l["\u0275\u0275elementStart"](19,"button",50),l["\u0275\u0275template"](20,ze,1,0,"span",51),l["\u0275\u0275template"](21,je,2,0,"span",52),l["\u0275\u0275template"](22,qe,2,0,"span",53),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var a=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.modalTitle),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("formGroup",a.formdata),l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngModel",a.addEditReferenceShiftNo.shiftName),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.isFormSubmitted&&a.formdata.controls.shiftNo.invalid||(a.formdata.controls.shiftNo.touched||a.formdata.controls.shiftNo.Untouched)&&a.formdata.controls.shiftNo.hasError("required")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("disabled",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}var $e,He=(($e=function(){function t(e,a,r,i,o){n(this,t),this.skillMatrixService=a,this.modalService=r,this.alertService=i,this.fb=o,this.searchDet={},this.referenceShiftNo={},this.SingleBranchDropdownSettings={},this.userDet={},this.addEditReferenceShiftNo={},this.branchAccessList=[],this.formSubmitted=!1,this.isFormSubmitted=!1,this.isShiftListLoading=!1,this.isEditing=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},e.backdrop="static",e.keyboard=!1}return r(t,[{key:"ngOnChanges",value:function(e){e.branchId&&!e.branchId.firstChange&&this.getShiftNoData()}},{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getBranchAccessList(),this.SingleBranchDropdownSettings={singleSelection:!0,idField:"branchId",textField:"branchName",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.formdata=this.fb.group({shiftNo:new h.f("",h.z.required)}),this.resetForm()}},{key:"getBranchAccessList",value:function(){var e=this;this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?(e.branchAccessList=t.branchAccessList,e.branchAccessList=e.setArray(e.branchAccessList,"branchId","branchName"),console.log(e.branchAccessList),e.branchAccessList=e.sortFunction(e.branchAccessList,"name"),e.referenceShiftNo.branch=[e.branchAccessList[0]]):e.branchAccessList=[{branchId:e.userDet.branch.branchId,branchName:e.userDet.branch.name}],e.branchAccessList.length>0&&(e.referenceShiftNo.branch=[e.branchAccessList[0]]),e.onChangeBranch(e.branchAccessList[0])})}},{key:"onChangeBranch",value:function(e){e?(this.disableReferShift=!0,this.referenceShiftNo.branchId=e.branchId,this.getShiftNoData()):(this.disableReferShift=!1,this.refShiftNoData=[])}},{key:"getShiftNoData",value:function(){var e=this;this.isShiftListLoading=!0,this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;var t={offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};""!=this.searchDet.branchId&&(t.branchId=this.searchDet.branchId),this.branchId&&(console.log(this.branchId[0].id),t.branchId=this.branchId[0].id),this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction.toUpperCase()),console.log(t),this.skillMatrixService.getShiftNoData("apis/sm/getShiftList",t).subscribe(function(t){t.result?(e.isShiftListLoading=!1,1==e.staticPagination.page&&(e.staticPagination.total=t.totalCount,e.staticPagination.totalPages=Math.ceil(t.totalCount/e.staticPagination.itemsPerPage)),null!=t.dataList&&t.dataList.length>0?(e.refShiftNoData=t.dataList,e.staticPagination.listLength=e.refShiftNoData.length):(e.refShiftNoData=[],e.staticPagination.listLength=e.refShiftNoData.length,e.staticPagination.total=e.refShiftNoData.length)):(e.refShiftNoData=[],e.staticPagination.listLength=e.refShiftNoData.length,e.staticPagination.total=e.refShiftNoData.length,e.isShiftListLoading=!1)},function(t){e.refShiftNoData=[],e.isShiftListLoading=!1})}},{key:"addRefShiftNoOpen",value:function(e,t){this.isEditing=!1,this.modalTitle="Add Shift",this.addEditReferenceShiftNo.branch=this.branchId,this.addEditReferenceShiftNo.shiftName="",this.resetForm(),this.modalService.open(e,{windowClass:t})}},{key:"resetForm",value:function(){this.formdata.reset(),this.isFormSubmitted=!1}},{key:"editRefShiftNo",value:function(e,t,n){this.isEditing=!0,this.modalTitle="Update Shift",this.addEditReferenceShiftNo.shiftName=n.shiftName,this.addEditReferenceShiftNo.shiftId=n.id;for(var a=0;a<this.branchAccessList.length;a++)this.branchAccessList[a].branchId==n.branchId&&(this.addEditReferenceShiftNo.branch=[this.branchAccessList[a]]);this.modalService.open(e,{windowClass:t})}},{key:"saveReferenceShiftNo",value:function(e){var t=this;if(this.isFormSubmitted=!0,e.valid)if(null==this.addEditReferenceShiftNo.shiftId||""==this.addEditReferenceShiftNo.shiftId){if(null!=this.addEditReferenceShiftNo.branch&&this.addEditReferenceShiftNo.branch.length>0)for(var n=0;n<this.addEditReferenceShiftNo.branch.length;n++)this.addEditReferenceShiftNo.branchId=this.addEditReferenceShiftNo.branch[n].branchId;this.reqBody={branchId:this.addEditReferenceShiftNo.branch[0].id,shiftName:this.addEditReferenceShiftNo.shiftName,isActive:!0,updatedBy:this.userDet.empId},console.log(this.reqBody),this.skillMatrixService.saveReferenceShiftNo("apis/sm/saveShiftDetails",this.reqBody).subscribe(function(e){console.log(e),e.result?(t.modalService.dismissAll(),t.alertService.success("New shift added successfully"),t.addEditReferenceShiftNo.branch="",t.addEditReferenceShiftNo.modelName="",t.getShiftNoData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while adding data. Please try again")})}else{if(null!=this.addEditReferenceShiftNo.shiftId&&this.addEditReferenceShiftNo.branch.length>0)for(var a=0;a<this.addEditReferenceShiftNo.branch.length;a++)this.addEditReferenceShiftNo.branchId=this.addEditReferenceShiftNo.branch[a].branchId;this.reqBody={shiftId:this.addEditReferenceShiftNo.shiftId,branchId:this.addEditReferenceShiftNo.branchId,shiftName:this.addEditReferenceShiftNo.shiftName,updatedBy:this.userDet.empId},this.skillMatrixService.updateShiftDetails("apis/sm/updateShiftDetails",this.reqBody).subscribe(function(e){console.log(e),e.result?(t.modalService.dismissAll(),t.alertService.success("Shift updated successfully"),t.addEditReferenceShiftNo.branch="",t.addEditReferenceShiftNo.modelName="",t.addEditReferenceShiftNo.modelId="",t.getShiftNoData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while updating data. Please try again")})}}},{key:"removeRefShift",value:function(e){var t=this;F.a.fire({title:"Are You Sure!",text:"Do you want to remove this shift ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove It",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(function(n){n.isConfirmed&&(t.reqBody={shiftId:e.id,updatedBy:t.userDet.empId},console.log(t.reqBody),t.skillMatrixService.deleteShiftDetails("apis/sm/deleteShiftDetails",t.reqBody).subscribe(function(e){e.result?(t.alertService.success("Shift removed successfully"),t.getShiftNoData()):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while removing data. Please try again")}))})}},{key:"loadMore",value:function(e){this.staticPagination=e,this.refShiftNoData=[],this.isShiftListLoading=!0,this.getShiftNoData()}},{key:"sortData",value:function(e){this.sorting=e,this.getShiftNoData()}},{key:"getSearchList",value:function(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getShiftNoData()}},{key:"clearPagination",value:function(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}},{key:"getSortFunction",value:function(e,t){return e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"level"!==t||e.sort(function(e,t){var n=e.branchName?e.branchName.toUpperCase():"",a=t.branchName?t.branchName.toUpperCase():"";return n<a?-1:n>a?1:0})),e}},{key:"setArray",value:function(t,n,a){var r=[];if(null!=t&&t.length>0){var i,o=e(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.id=s[n],s.name=s[a],r.push(s)}}catch(l){o.e(l)}finally{o.f()}}return r}},{key:"sortFunction",value:function(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),r=Number(n[t])?n[t]:n[t].toUpperCase();return a<r?-1:a>r?1:0}),e}}]),t}()).\u0275fac=function(e){return new(e||$e)(l["\u0275\u0275directiveInject"](O.k),l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](O.j),l["\u0275\u0275directiveInject"](d.b),l["\u0275\u0275directiveInject"](h.e))},$e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:$e,selectors:[["app-reference-shift"]],inputs:{branchId:"branchId"},features:[l["\u0275\u0275NgOnChangesFeature"]],decls:36,vars:8,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-8","p-0"],[1,"col-6"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","id","your-element-id","name","searchInput","placeholder","Search by shift or plant name","autocomplete","off",1,"form-control",2,"padding-right","2.4rem",3,"ngModel","ngModelChange","keyup"],[1,"col-6","p-r-5","p-l-5"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button",1,"btn","addRegBtn","m-0",3,"disabled","click"],[1,"fa","fa-plus","m-r-10"],["style","position: absolute;top: 50%;left: 50%;",4,"ngIf"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","ShiftName"],["mat-sort-header","CreatedDate"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["openRefModalShiftNo",""],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[2,"position","absolute","top","50%","left","50%"],[1,"actionTd","size","text-left"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],["colspan","2","class","text-center no-record-found",4,"ngIf"],["colspan","2","class","text-center loading-div",4,"ngIf"],["colspan","2",1,"text-center","no-record-found"],["colspan","2",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"row","form-group"],["for","shiftNo",1,"col-sm-4","col-form-label"],[1,"astrik"],[1,"col-sm-8"],["type","text","id","shiftNo","name","shiftNo","placeholder","Enter shift","formControlName","shiftNo","maxlength","255",1,"form-control","customInput-field",3,"ngModel","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],[1,"footerDiv"],[1,"footerBtn"],["type","submit",1,"btn","btn-lg","submitBtn","event-btn",3,"disabled"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"div",2),l["\u0275\u0275elementStart"](5,"div",4),l["\u0275\u0275elementStart"](6,"div",5),l["\u0275\u0275template"](7,Ne,1,0,"span",6),l["\u0275\u0275template"](8,_e,1,0,"span",7),l["\u0275\u0275elementStart"](9,"input",8),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](10,"div",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"div",10),l["\u0275\u0275elementStart"](12,"div",11),l["\u0275\u0275elementStart"](13,"button",12),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275reference"](35);return t.addRefShiftNoOpen(e,"top")}),l["\u0275\u0275element"](14,"i",13),l["\u0275\u0275text"](15," Add Shift"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](16,Ae,2,0,"app-loading",14),l["\u0275\u0275elementStart"](17,"div",15),l["\u0275\u0275elementStart"](18,"div",16),l["\u0275\u0275elementStart"](19,"table",17),l["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),l["\u0275\u0275elementStart"](20,"thead"),l["\u0275\u0275elementStart"](21,"tr"),l["\u0275\u0275elementStart"](22,"th",18),l["\u0275\u0275text"](23,"Plant"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"th",19),l["\u0275\u0275text"](25,"Shift"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"th",20),l["\u0275\u0275text"](27,"Created Date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"th",21),l["\u0275\u0275text"](29,"Action"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](30,"tbody"),l["\u0275\u0275template"](31,Be,13,6,"tr",22),l["\u0275\u0275template"](32,Te,3,2,"tr",23),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](33,"app-pagination",24),l["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](34,Ue,23,8,"ng-template",null,25,l["\u0275\u0275templateRefExtractor"])}2&e&&(l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.searchDet.searchData),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("disabled",!t.disableReferShift),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",t.isShiftListLoading),l["\u0275\u0275advance"](15),l["\u0275\u0275property"]("ngForOf",t.refShiftNoData),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==t.refShiftNoData||0==t.refShiftNoData.length),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[o.NgIf,h.c,h.o,h.r,G.a,G.b,o.NgForOf,T.a,u.a,h.A,h.p,h.h,h.g,h.k],pipes:[o.DatePipe],styles:[".addRegDiv[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{position:absolute;right:8rem;font:normal normal 400 14px/37px Helvetica Neue;color:#fff;text-transform:capitalize;top:0;box-shadow:none;outline:none;border:none;padding:0}.extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border-radius:0;border:none;border-bottom:1px solid #7044cd;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:2px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1.5rem!important;color:#7044cd!important}.form-group[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;padding:.7rem 0;margin:0}.form-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-group[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 14px/1.5 Helvetica Neue;letter-spacing:0;color:#707070}.custom-errorMsg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:80%;color:#ff5252}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e3eaef!important}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;margin:0}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:normal normal 300 25px/1 Helvetica Neue}"]}),$e),Ye=["DocInputField"];function Ke(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](n.docName)}}function Qe(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"input",26,27),l["\u0275\u0275listener"]("ngModelChange",function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().$implicit.docName=e}),l["\u0275\u0275elementEnd"]()}if(2&e){var a=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275classProp"]("editing",a.isEditable),l["\u0275\u0275property"]("ngModel",a.docName)}}function We(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",28),l["\u0275\u0275text"](1,"Please enter document name"),l["\u0275\u0275elementEnd"]())}function Je(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"i",29),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]().$implicit;return l["\u0275\u0275nextContext"]().toggleEdit(e)}),l["\u0275\u0275elementEnd"]()}}function Xe(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"i",30),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]().$implicit;return l["\u0275\u0275nextContext"]().deleteDocument(e)}),l["\u0275\u0275elementEnd"]()}}function Ze(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"button",31),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]().$implicit;return l["\u0275\u0275nextContext"]().updateDocumentNumber(e)}),l["\u0275\u0275text"](2,"Save"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](3,"\xa0 "),l["\u0275\u0275elementStart"](4,"button",32),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]().$implicit;return l["\u0275\u0275nextContext"]().cancelEdit(e)}),l["\u0275\u0275text"](5,"Cancel"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()}}function et(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275template"](2,Ke,2,1,"span",19),l["\u0275\u0275template"](3,Qe,2,3,"input",21),l["\u0275\u0275template"](4,We,2,0,"span",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"td",23),l["\u0275\u0275template"](6,Je,1,0,"i",24),l["\u0275\u0275text"](7,"\xa0\xa0\xa0 "),l["\u0275\u0275template"](8,Xe,1,0,"i",25),l["\u0275\u0275template"](9,Ze,6,0,"ng-container",19),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",!n.isEditable),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isEditable&&n.id===a.currentlyEditedDocumentId),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.isShowDocError&&!n.docName),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",!n.isEditable),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",!n.isEditable),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isEditable&&n.id===a.currentlyEditedDocumentId)}}function tt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",35),l["\u0275\u0275text"](1," Data not found "),l["\u0275\u0275elementEnd"]())}function nt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",36),l["\u0275\u0275element"](1,"app-loading"),l["\u0275\u0275elementEnd"]())}function at(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275template"](1,tt,2,0,"td",33),l["\u0275\u0275template"](2,nt,2,0,"td",34),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!n.listLoading),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.listLoading)}}function rt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",28),l["\u0275\u0275text"](1," Please enter document number "),l["\u0275\u0275elementEnd"]())}function it(e,t){1&e&&l["\u0275\u0275element"](0,"span",54)}function ot(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",55),l["\u0275\u0275text"](1," Loading..."),l["\u0275\u0275elementEnd"]())}function st(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span",56),l["\u0275\u0275text"](1,"Submit"),l["\u0275\u0275elementEnd"]())}function lt(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",37),l["\u0275\u0275elementStart"](1,"h4",38),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",39),l["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),l["\u0275\u0275elementStart"](4,"span",40),l["\u0275\u0275text"](5,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"form",41),l["\u0275\u0275listener"]("ngSubmit",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275nextContext"]();return e.saveDocument(e.formdata)}),l["\u0275\u0275elementStart"](7,"div",42),l["\u0275\u0275elementStart"](8,"div"),l["\u0275\u0275elementStart"](9,"div",43),l["\u0275\u0275elementStart"](10,"label",44),l["\u0275\u0275text"](11,"Document Number "),l["\u0275\u0275elementStart"](12,"span",45),l["\u0275\u0275text"](13,"*"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"div",46),l["\u0275\u0275elementStart"](15,"input",47),l["\u0275\u0275listener"]("ngModelChange",function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().addEditReferenceDocName.doc=e}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](16,rt,2,0,"div",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](17,"div",48),l["\u0275\u0275elementStart"](18,"div",49),l["\u0275\u0275elementStart"](19,"button",50),l["\u0275\u0275template"](20,it,1,0,"span",51),l["\u0275\u0275template"](21,ot,2,0,"span",52),l["\u0275\u0275template"](22,st,2,0,"span",53),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var a=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](a.modalTitle),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("formGroup",a.formdata),l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngModel",a.addEditReferenceDocName.doc),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.isFormSubmitted&&a.formdata.controls.docName.invalid||(a.formdata.controls.docName.touched||a.formdata.controls.docName.Untouched)&&a.formdata.controls.docName.hasError("required")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("disabled",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",a.submitSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}var ct,dt=((ct=function(){function e(t,a,r,i,o){n(this,e),this.skillMatrixService=t,this.modalService=r,this.alertService=i,this.fb=o,this.addEditReferenceDocName={},this.currentlyEditedDocument=null,this.currentlyEditedDocumentId=null,a.backdrop="static",a.keyboard=!1}return r(e,[{key:"ngOnChanges",value:function(e){e.branchId&&!e.branchId.firstChange&&(console.log(e.branchId.currentValue[0]),this.branchId=e.branchId.currentValue[0].id,this.getDocumentList(this.branchId))}},{key:"ngOnInit",value:function(){this.branchId&&null!=this.branchId&&(this.branchId=this.branchId[0].id,this.getDocumentList(this.branchId)),this.formdata=this.fb.group({docName:new h.f("",h.z.required)}),this.resetForm()}},{key:"getDocumentList",value:function(e){var t=this;console.log(e),this.skillMatrixService.getDocumentList("apis/sm/getDocName",{branchId:e}).subscribe(function(e){e.result?(console.log(e),t.documentList=null!=e.data?[e.data]:[]):t.documentList=[]})}},{key:"updateDocumentNumber",value:function(e){var t=this;this.skillMatrixService.updateDocumentNumber("apis/sm/updateDocName",{branchId:e.branchId,id:e.id,docName:e.docName}).subscribe(function(e){e.result?(console.log(),t.alertService.success("Document name updated successfully"),t.getDocumentList(t.branchId)):t.alertService.error("Error occurred while adding data. Please try again")})}},{key:"saveDocument",value:function(e){var t,n=this;if(this.isFormSubmitted=!0,e.valid){var a=null===(t=this.addEditReferenceDocName.doc)||void 0===t?void 0:t.trim();if(!a||""===a)return void this.alertService.error("Enter a document name");if(this.addEditReferenceDocName.docName=a,null==this.addEditReferenceDocName.branch||null==this.addEditReferenceDocName.branch)return void this.alertService.error("Please select branch");this.addEditReferenceDocName.branchId=this.addEditReferenceDocName.branch,this.skillMatrixService.saveDocument("apis/sm/saveDocName",{branchId:this.addEditReferenceDocName.branchId,docName:this.addEditReferenceDocName.docName}).subscribe(function(e){e.result?(n.modalService.dismissAll(),n.alertService.success("Document name added successfully"),n.addEditReferenceDocName.branch="",n.addEditReferenceDocName.modelName="",n.getDocumentList(n.addEditReferenceDocName.branchId)):100==e.statusCode?(n.alertService.error(e.reason),n.getDocumentList(n.addEditReferenceDocName.branchId)):(n.alertService.error("Error occurred while adding data. Please try again"),n.getDocumentList(n.addEditReferenceDocName.branchId))})}}},{key:"deleteDocument",value:function(e){var t=this;F.a.fire({title:"Are You Sure!",text:"Do you want to remove this document name ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove It",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(function(n){n.isConfirmed&&(console.log(e),t.skillMatrixService.deleteDocument("apis/sm/deleteDocName",{branchId:e.branchId,id:e.id}).subscribe(function(n){n.result?(t.alertService.success("Document name deleted successfully"),t.getDocumentList(e.branchId)):100==n.statusCode?(t.alertService.error(n.reason),t.getDocumentList(e.branchId)):(t.alertService.error("Error occurred while deleting data. Please try again"),t.getDocumentList(e.branchId))}))})}},{key:"toggleEdit",value:function(e){var t=this;this.cancelEdit(this.currentlyEditedDocument),this.currentlyEditedDocumentId=e.id,this.currentlyEditedDocument=e,this.currentlyEditedDocument.isEditable=!0,this.currentlyEditedDocument.originalDocLabel=this.currentlyEditedDocument.docName,setTimeout(function(){t.DocInputField.nativeElement.focus()},0)}},{key:"cancelEdit",value:function(e){e&&(e.docName=this.currentlyEditedDocument.originalDocLabel,e.isEditable=!1),this.currentlyEditedDocumentId=null,this.currentlyEditedDocument=null,this.DocInputField=null}},{key:"addRefShiftNoOpen",value:function(e,t){console.log(this.branchId),this.modalTitle="Add Document",this.addEditReferenceDocName.branch=this.branchId,this.addEditReferenceDocName.doc="",this.resetForm(),this.modalService.open(e,{windowClass:t})}},{key:"resetForm",value:function(){this.formdata.reset(),this.isFormSubmitted=!1}}]),e}()).\u0275fac=function(e){return new(e||ct)(l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](O.k),l["\u0275\u0275directiveInject"](O.j),l["\u0275\u0275directiveInject"](d.b),l["\u0275\u0275directiveInject"](h.e))},ct.\u0275cmp=l["\u0275\u0275defineComponent"]({type:ct,selectors:[["app-document-number"]],viewQuery:function(e,t){var n;1&e&&l["\u0275\u0275viewQuery"](Ye,1),2&e&&l["\u0275\u0275queryRefresh"](n=l["\u0275\u0275loadQuery"]())&&(t.DocInputField=n.first)},inputs:{branchId:"branchId"},features:[l["\u0275\u0275NgOnChangesFeature"]],decls:29,vars:2,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-8","p-0"],[1,"col-6"],[1,"form-group","has-search"],[1,"form-control-feedback"],["type","text",1,"form-control"],[1,"col-6","p-r-5","p-l-5"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button",1,"btn","addRegBtn","m-0",3,"click"],[1,"fa","fa-plus","m-r-10"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["datatable","",1,"table"],[1,""],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],["openRefModalShiftNo",""],["type","text","class","form-control my-custom-input","name","searchInput","placeholder","Enter Doc name","autocomplete","off",3,"editing","ngModel","ngModelChange",4,"ngIf"],["class","custom-errorMsg",4,"ngIf"],[1,"actionTd","size","text-left"],["class","fa fa-edit editIcon",3,"click",4,"ngIf"],["class","fas fa-trash-alt deleteIcon",3,"click",4,"ngIf"],["type","text","name","searchInput","placeholder","Enter Doc name","autocomplete","off",1,"form-control","my-custom-input",3,"ngModel","ngModelChange"],["DocInputField",""],[1,"custom-errorMsg"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],[1,"btn","btn-primary","updateButton",3,"click"],[1,"btn","btn-danger","cancelButton",3,"click"],["colspan","11","class","text-center no-record-found",4,"ngIf"],["colspan","11","class","text-center loading-div",4,"ngIf"],["colspan","11",1,"text-center","no-record-found"],["colspan","11",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"row","form-group"],["for","docName",1,"col-sm-4","col-form-label"],[1,"astrik"],[1,"col-sm-8"],["type","text","id","docName","name","docName","placeholder","Enter Document Number","formControlName","docName","maxlength","255",1,"form-control","customInput-field",3,"ngModel","ngModelChange"],[1,"footerDiv"],[1,"footerBtn"],["type","submit",1,"btn","btn-lg","submitBtn","event-btn",3,"disabled"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"div",2),l["\u0275\u0275elementStart"](5,"div",4),l["\u0275\u0275elementStart"](6,"div",5),l["\u0275\u0275element"](7,"span",6),l["\u0275\u0275element"](8,"input",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](9,"div",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"div",9),l["\u0275\u0275elementStart"](11,"div",10),l["\u0275\u0275elementStart"](12,"button",11),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](n);var e=l["\u0275\u0275reference"](28);return t.addRefShiftNoOpen(e,"top")}),l["\u0275\u0275element"](13,"i",12),l["\u0275\u0275text"](14," Add Document"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"div",13),l["\u0275\u0275elementStart"](16,"div",14),l["\u0275\u0275elementStart"](17,"table",15),l["\u0275\u0275elementStart"](18,"thead"),l["\u0275\u0275elementStart"](19,"tr"),l["\u0275\u0275elementStart"](20,"th",16),l["\u0275\u0275text"](21,"Document Number"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"th",17),l["\u0275\u0275text"](23,"Action"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"tbody"),l["\u0275\u0275template"](25,et,10,6,"tr",18),l["\u0275\u0275template"](26,at,3,2,"tr",19),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](27,lt,23,8,"ng-template",null,20,l["\u0275\u0275templateRefExtractor"])}2&e&&(l["\u0275\u0275advance"](25),l["\u0275\u0275property"]("ngForOf",t.documentList),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==t.documentList||0==t.documentList.length))},directives:[o.NgForOf,o.NgIf,h.c,h.o,h.r,u.a,h.A,h.p,h.h,h.g,h.k],styles:[".homepage-block[_ngcontent-%COMP%]{position:absolute;top:12%}.extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border:none;border-radius:0;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:2px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1.5rem!important;color:#7044cd!important}.table[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;background-color:#f2f2f2;color:#333}.table[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::-moz-placeholder{color:#bbb}.table[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#bbb}.table[_ngcontent-%COMP%]   .actionTd[_ngcontent-%COMP%]   .updateButton[_ngcontent-%COMP%]{background:#7044cd}.table[_ngcontent-%COMP%]   .actionTd[_ngcontent-%COMP%]   .cancelButton[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   .actionTd[_ngcontent-%COMP%]   .updateButton[_ngcontent-%COMP%]{color:#fff;text-transform:capitalize;font:normal normal 400 10pt/1.5 Helvetica Neue;box-shadow:none;outline:none;border:none;border-radius:4px}.table[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{color:#7044cd}.table[_ngcontent-%COMP%]   .enabled-input[_ngcontent-%COMP%]{border:2px solid #9ec2ba}"]}),ct),mt=["widgetsContent"];function ht(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",16),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().scrollLeft()}),l["\u0275\u0275element"](1,"i",17),l["\u0275\u0275elementEnd"]()}}function ut(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",18),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().scrollRight()}),l["\u0275\u0275element"](1,"i",19),l["\u0275\u0275elementEnd"]()}}function ft(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",20),l["\u0275\u0275elementStart"](1,"label",21),l["\u0275\u0275text"](2,"Plant"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",22),l["\u0275\u0275elementStart"](4,"ng-multiselect-dropdown",23),l["\u0275\u0275listener"]("onSelect",function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().onChange(e,"plant")})("onDeSelect",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().onChange(!1,"plant")})("ngModelChange",function(e){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().searchDet.branchId=e}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var a=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("placeholder","Select Plant")("settings",a.singleDropdownSettings)("data",a.plantList)("ngModel",a.searchDet.branchId)}}function gt(e,t){if(1&e&&l["\u0275\u0275element"](0,"app-stagelabel",24),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("branchId",n.searchDet.branchId)}}function pt(e,t){if(1&e&&l["\u0275\u0275element"](0,"app-level",24),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("branchId",n.searchDet.branchId)}}function bt(e,t){if(1&e&&l["\u0275\u0275element"](0,"app-assessment-configuration",24),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("branchId",n.searchDet.branchId)}}function vt(e,t){if(1&e&&l["\u0275\u0275element"](0,"app-reference-model",24),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("branchId",n.searchDet.branchId)}}function St(e,t){if(1&e&&l["\u0275\u0275element"](0,"app-reference-gap-reason",24),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("branchId",n.searchDet.branchId)}}function Ct(e,t){if(1&e&&l["\u0275\u0275element"](0,"app-reference-shift",24),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("branchId",n.searchDet.branchId)}}function yt(e,t){if(1&e&&l["\u0275\u0275element"](0,"app-document-number",24),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("branchId",n.searchDet.branchId)}}var xt,Et,It,Mt=function(e){return{mainActiveSwitch:e}},Dt=[{path:"",component:(xt=function(){function t(e,a){n(this,t),this.skillMatrixService=e,this.alertService=a,this.searchDet={},this.userDet={},this.showBranchForStageAndAssess=!0,this.branchIdChange=new l.EventEmitter,this.scrollRightBtn=!0,this.scrollLeftBtn=!1,this.isSetMainTab=function(e){return this.mainTab===e}}return r(t,[{key:"ngOnInit",value:function(){this.mainTab=1,this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getAccessiblePlantList(),this.singleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,noDataAvailablePlaceholderText:"Data not found",closeDropDownOnSelection:!0}}},{key:"setMainTab",value:function(e){this.mainTab=e,1==this.mainTab||2==this.mainTab||3==this.mainTab||4==this.mainTab||5==this.mainTab||6==this.mainTab||7==this.mainTab?this.showBranchForStageAndAssess=!0:8==this.mainTab&&(this.showBranchForStageAndAssess=!1)}},{key:"getAccessiblePlantList",value:function(){var e=this;this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?(e.plantList=e.setArray(t.branchAccessList,"branchId","branchName"),e.plantList=e.sortFunction(e.plantList,"name"),e.searchDet.plantList=e.setArray(t.branchAccessList,"branchId","branchName"),e.searchDet.plantList=e.sortFunction(e.plantList,"name")):(e.plantList=[{id:e.userDet.branch.branchId,name:e.userDet.branch.name}],e.searchDet.plantList=[{id:e.userDet.branch.branchId,name:e.userDet.branch.name}]),e.searchDet.branchId=[e.searchDet.plantList[0]],e.searchDet.branchId=[e.plantList[0]],console.log(e.searchDet.branchId[0].id)})}},{key:"setArray",value:function(t,n,a){var r=[];if(null!=t&&t.length>0){var i,o=e(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.id=s[n],s.name=s[a],r.push(s)}}catch(l){o.e(l)}finally{o.f()}}return r}},{key:"onChange",value:function(e,t){this.branchIdChange.emit(e?e.id:null)}},{key:"onChangeAll",value:function(e,t){e?console.log("Select All action"):console.log("Unselect All action")}},{key:"getSortFunction",value:function(e,t){return e&&Array.isArray(e)&&e.length>0&&"plant"===t&&e.sort(function(e,t){var n=e.name?e.name.toUpperCase():"",a=t.name?t.name.toUpperCase():"";return n<a?-1:n>a?1:0}),e}},{key:"sortFunction",value:function(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),r=Number(n[t])?n[t]:n[t].toUpperCase();return a<r?-1:a>r?1:0}),e}},{key:"scrollRight",value:function(){var e=this.widgetsContent.nativeElement.clientWidth+this.widgetsContent.nativeElement.scrollLeft;this.widgetsContent.nativeElement.scrollWidth==e&&(this.scrollRightBtn=!1,e=0),this.widgetsContent.nativeElement.scrollTo({left:this.widgetsContent.nativeElement.scrollLeft+150,behavior:"smooth"}),this.scrollLeftBtn=!0}},{key:"scrollLeft",value:function(){0!=this.widgetsContent.nativeElement.scrollLeft&&150!=this.widgetsContent.nativeElement.scrollLeft||(this.scrollLeftBtn=!1),this.widgetsContent.nativeElement.scrollTo({left:this.widgetsContent.nativeElement.scrollLeft-150,behavior:"smooth"}),this.scrollRightBtn=!0}}]),t}(),xt.\u0275fac=function(e){return new(e||xt)(l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](d.b))},xt.\u0275cmp=l["\u0275\u0275defineComponent"]({type:xt,selectors:[["app-configuration"]],viewQuery:function(e,t){var n;1&e&&l["\u0275\u0275viewQuery"](mt,1,l.ElementRef),2&e&&l["\u0275\u0275queryRefresh"](n=l["\u0275\u0275loadQuery"]())&&(t.widgetsContent=n.first)},outputs:{branchIdChange:"branchIdChange"},decls:36,vars:31,consts:[[1,"extraContent"],[1,"row","m-0"],[1,"col-9","m-auto",2,"max-width","72%"],[1,"pr","tabMenu"],["class","scrollLeftside",3,"click",4,"ngIf"],[1,"swiper-container"],["widgetsContent",""],[1,"swiper-wrapper","header-block"],[1,"scrollmenu"],[1,"main-tab-switch1",3,"ngClass","click"],["class","scrollRightside",3,"click",4,"ngIf"],[1,"col-md-3","p-r-5","p-l-5",2,"margin-top","-18px"],["class","form-group m-0 plantDropdown",4,"ngIf"],[1,"row"],[1,"col-6"],[3,"branchId",4,"ngIf"],[1,"scrollLeftside",3,"click"],[1,"feather","icon-chevron-left"],[1,"scrollRightside",3,"click"],[1,"feather","icon-chevron-right"],[1,"form-group","m-0","plantDropdown"],["for","branch",1,"col-form-label1"],[1,""],["name","branch","id","branch",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"],[3,"branchId"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275template"](4,ht,2,0,"div",4),l["\u0275\u0275elementStart"](5,"div",5,6),l["\u0275\u0275elementStart"](7,"div",7),l["\u0275\u0275elementStart"](8,"div",8),l["\u0275\u0275elementStart"](9,"div",9),l["\u0275\u0275listener"]("click",function(){return t.setMainTab(1)}),l["\u0275\u0275text"](10,"Stages "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"div",9),l["\u0275\u0275listener"]("click",function(){return t.setMainTab(3)}),l["\u0275\u0275text"](12,"Level "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"div",9),l["\u0275\u0275listener"]("click",function(){return t.setMainTab(2)}),l["\u0275\u0275text"](14,"Activity Assessment Gap (Days) "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"div",9),l["\u0275\u0275listener"]("click",function(){return t.setMainTab(4)}),l["\u0275\u0275text"](16,"Model "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"div",9),l["\u0275\u0275listener"]("click",function(){return t.setMainTab(5)}),l["\u0275\u0275text"](18,"Gap Reason "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](19,"div",9),l["\u0275\u0275listener"]("click",function(){return t.setMainTab(6)}),l["\u0275\u0275text"](20,"No. Of Shifts "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"div",9),l["\u0275\u0275listener"]("click",function(){return t.setMainTab(7)}),l["\u0275\u0275text"](22,"Document Number "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](23,ut,2,0,"div",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"div",11),l["\u0275\u0275template"](25,ft,5,4,"div",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"div",13),l["\u0275\u0275element"](27,"div",14),l["\u0275\u0275element"](28,"div",14),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](29,gt,1,1,"app-stagelabel",15),l["\u0275\u0275template"](30,pt,1,1,"app-level",15),l["\u0275\u0275template"](31,bt,1,1,"app-assessment-configuration",15),l["\u0275\u0275template"](32,vt,1,1,"app-reference-model",15),l["\u0275\u0275template"](33,St,1,1,"app-reference-gap-reason",15),l["\u0275\u0275template"](34,Ct,1,1,"app-reference-shift",15),l["\u0275\u0275template"](35,yt,1,1,"app-document-number",15)),2&e&&(l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngIf",t.scrollLeftBtn),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](17,Mt,t.isSetMainTab(1))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](19,Mt,t.isSetMainTab(3))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](21,Mt,t.isSetMainTab(2))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](23,Mt,t.isSetMainTab(4))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](25,Mt,t.isSetMainTab(5))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](27,Mt,t.isSetMainTab(6))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](29,Mt,t.isSetMainTab(7))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.scrollRightBtn),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.showBranchForStageAndAssess),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngIf",t.isSetMainTab(1)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isSetMainTab(3)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isSetMainTab(2)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isSetMainTab(4)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isSetMainTab(5)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isSetMainTab(6)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isSetMainTab(7)))},directives:[o.NgIf,o.NgClass,m.a,h.o,h.r,P,A,re,ve,Re,He,dt],styles:[".plantDropdown[_ngcontent-%COMP%]{position:relative;top:30%}.tabMenu[_ngcontent-%COMP%]{margin-left:-5px}.tabMenu[_ngcontent-%COMP%]   .swiper-container[_ngcontent-%COMP%]{width:100%;overflow-y:auto;margin:17px auto auto}.tabMenu[_ngcontent-%COMP%]   .swiper-container[_ngcontent-%COMP%]   .swiper-wrapper[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;overflow-y:auto;justify-content:center}.tabMenu[_ngcontent-%COMP%]   .swiper-container[_ngcontent-%COMP%]   .swiper-wrapper[_ngcontent-%COMP%]   .scrollmenu[_ngcontent-%COMP%]{overflow:auto;white-space:nowrap;background-color:#fff;border-radius:25px}.tabMenu[_ngcontent-%COMP%]   .swiper-container[_ngcontent-%COMP%]   .swiper-wrapper[_ngcontent-%COMP%]   .scrollmenu[_ngcontent-%COMP%]   .main-tab-switch1[_ngcontent-%COMP%]{display:inline-block;color:#474747;text-align:center;line-height:1.5;padding:3px 20px;cursor:pointer;text-decoration:none}.tabMenu[_ngcontent-%COMP%]   .swiper-container[_ngcontent-%COMP%]   .swiper-wrapper[_ngcontent-%COMP%]   .scrollmenu[_ngcontent-%COMP%]   .main-tab-switch1.mainActiveSwitch[_ngcontent-%COMP%]{background:#7044cd 0 0 no-repeat padding-box;padding:3px 20px;color:#fff;border-radius:25px;line-height:1.5;box-shadow:0 0 12px -2px #8f8d8f}.tabMenu[_ngcontent-%COMP%]   .swiper-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.tabMenu[_ngcontent-%COMP%]   .swiper-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;background:transparent}.tabMenu[_ngcontent-%COMP%]   .swiper-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:transparent}.tabMenu[_ngcontent-%COMP%]   .scrollRightside[_ngcontent-%COMP%]{position:absolute;z-index:999;right:-26px;top:0;background:#7044cd 0 0 no-repeat padding-box;padding:.3rem;cursor:pointer}.tabMenu[_ngcontent-%COMP%]   .scrollRightside[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%]{color:#fff;font-weight:700}.tabMenu[_ngcontent-%COMP%]   .scrollLeftside[_ngcontent-%COMP%]{position:absolute;z-index:999;left:-15px;top:0;background:#7044cd 0 0 no-repeat padding-box;padding:.3rem;cursor:pointer}.tabMenu[_ngcontent-%COMP%]   .scrollLeftside[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%]{color:#fff;font-weight:700}"]}),xt)}],Lt=((Et=function e(){n(this,e)}).\u0275fac=function(e){return new(e||Et)},Et.\u0275mod=l["\u0275\u0275defineNgModule"]({type:Et}),Et.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[s.i.forChild(Dt)],s.i]}),Et),Pt=i("ebz3"),Ot=i("QrAV"),kt=((It=function e(){n(this,e)}).\u0275fac=function(e){return new(e||It)},It.\u0275mod=l["\u0275\u0275defineNgModule"]({type:It}),It.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[o.CommonModule,Lt,Pt.a,m.b,Ot.a]]}),It)}}])}();