!function(){function e(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=n(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var l=0,i=function(){};return{s:i,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw r}}}}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/wb3":function(n,a,i){"use strict";i.r(a),i.d(a,"MY_FORMATS",function(){return bn}),i.d(a,"SkillMatrixModule",function(){return kn});var o=i("ofXK"),s=i("tyNb"),c=i("Sh6i"),d=i("6K47"),m=i("Iab2"),h=i("3Pt+"),p=i("fXoL"),u=i("1kSV"),g=i("9O41"),f=i("Egam"),v=i("X9RO"),D=i("bFKe");function x(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",29),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().removeFilter()}),p["\u0275\u0275text"](1,"x"),p["\u0275\u0275elementEnd"]()}}function S(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",30),p["\u0275\u0275text"](1,"Filter Applied"),p["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"th",43),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",n.machineIndex," ")}}function k(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,b,3,1,"ng-container",19),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf","empId"!=n.field&&"empName"!=n.field&&"gender"!=n.field&&"experience"!=n.field&&"empLevel"!=n.field)}}function C(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"th",43),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",n.levelName," ")}}function L(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,C,3,1,"ng-container",19),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf","empId"!=n.field&&"empName"!=n.field&&"gender"!=n.field&&"experience"!=n.field&&"empLevel"!=n.field)}}function I(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"th",43),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",n.requiredWorkforce," ")}}function y(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,I,3,1,"ng-container",19),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf","empId"!=n.field&&"empName"!=n.field&&"gender"!=n.field&&"experience"!=n.field&&"empLevel"!=n.field)}}var E=function(e,t){return{"second-col":e,"third-col":t}};function M(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"th",44),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction2"](2,E,"empId"===n.field,"empName"===n.field)),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.heading," ")}}function w(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,M,3,5,"ng-container",19),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf","gender"!=n.field)}}function P(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"td",51),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]().$implicit,a=p["\u0275\u0275nextContext"](2).$implicit,l=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngClass",l.isObjectEmpty(l.isChecked(a,n.field))?"":l.isChecked(a,n.field).status),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",l.isObjectEmpty(l.isChecked(a,n.field))?"":l.isChecked(a,n.field).level," ")}}function F(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,P,3,2,"ng-container",19),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf","empId"!=n.field&&"empName"!=n.field&&"gender"!=n.field&&"experience"!=n.field&&"empLevel"!=n.field)}}function A(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275elementStart"](1,"td",45),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"td",46),p["\u0275\u0275text"](4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"td",47),p["\u0275\u0275text"](6),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"td",48),p["\u0275\u0275text"](8),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](9,"td",48),p["\u0275\u0275text"](10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](11,F,2,1,"ng-container",22),p["\u0275\u0275elementStart"](12,"td",49),p["\u0275\u0275text"](13),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](14,"td",50),p["\u0275\u0275text"](15),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](16,"td",50),p["\u0275\u0275text"](17),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](),a=n.index,l=n.$implicit,i=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a+1),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](l.empId),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](l.empName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](l.experience),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](l.empLevel),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",i.skillMatrixDetails.columns),p["\u0275\u0275advance"](1),p["\u0275\u0275classMap"](i.getSkillLevelClass(l.skillLevel)),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",l.skillLevel,""),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"]("",l.skillingPer,"%"),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](l.marks)}}function O(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,A,18,12,"tr",19),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf","TL"!=n.empLevel)}}function N(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",53),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2).$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.totalCount," ")}}function _(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,N,2,1,"td",52),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.field===a.workstation)}}function V(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,_,2,1,"ng-container",22),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",n.skillMatrixDetails.columns)}}function W(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"td",51),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]().$implicit,a=p["\u0275\u0275nextContext"]().$implicit,l=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngClass",l.isObjectEmpty(l.isChecked(a,n.field))?"":l.isChecked(a,n.field).status),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",l.isObjectEmpty(l.isChecked(a,n.field))?"":l.isChecked(a,n.field).level," ")}}function T(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,W,3,2,"ng-container",19),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf","empId"!==n.field&&"empName"!==n.field&&"gender"!==n.field&&"experience"!==n.field&&"empLevel"!==n.field)}}function B(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"tr"),p["\u0275\u0275elementStart"](2,"td",45),p["\u0275\u0275text"](3),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"td",46),p["\u0275\u0275text"](5),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"td",47),p["\u0275\u0275text"](7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](8,"td"),p["\u0275\u0275text"](9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](10,"td"),p["\u0275\u0275text"](11),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](12,T,2,1,"ng-container",22),p["\u0275\u0275elementStart"](13,"td",49),p["\u0275\u0275text"](14),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"td",49),p["\u0275\u0275text"](16),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"td",49),p["\u0275\u0275text"](18),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=t.index,l=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](a+1),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.empId),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.empName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.experience),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.empLevel),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",l.skillMatrixDetails.columns),p["\u0275\u0275advance"](1),p["\u0275\u0275classMap"](l.getSkillLevelClass(n.skillLevel)),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.skillLevel," "),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"]("",n.skillingPer,"%"),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.marks)}}function R(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"thead"),p["\u0275\u0275elementStart"](2,"tr"),p["\u0275\u0275elementStart"](3,"th",31),p["\u0275\u0275elementStart"](4,"b"),p["\u0275\u0275text"](5),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"th",32),p["\u0275\u0275text"](7,"MACHINE INDEX RATING"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](8,k,2,1,"ng-container",22),p["\u0275\u0275elementStart"](9,"th",33),p["\u0275\u0275text"](10," NO. OF SHIFTS "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](11,"th",34),p["\u0275\u0275elementStart"](12,"ng-multiselect-dropdown",35),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.shift=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeShift(e)})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeShift(!1)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"tr"),p["\u0275\u0275elementStart"](14,"th",31),p["\u0275\u0275elementStart"](15,"b"),p["\u0275\u0275text"](16),p["\u0275\u0275pipe"](17,"date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](18,"th",32),p["\u0275\u0275text"](19,"MIN. SKILL LEVEL REQ."),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](20,L,2,1,"ng-container",22),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](21,"tr"),p["\u0275\u0275elementStart"](22,"th",31),p["\u0275\u0275elementStart"](23,"div",36),p["\u0275\u0275elementStart"](24,"label"),p["\u0275\u0275elementStart"](25,"b"),p["\u0275\u0275text"](26,"Rev No:- "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](27,"input",37),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().revNo=e}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"th",32),p["\u0275\u0275text"](29,"REQUIRED NUMBER TRAINED"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](30,y,2,1,"ng-container",22),p["\u0275\u0275elementStart"](31,"th",33),p["\u0275\u0275text"](32,"SKILL LEVEL"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"th",38),p["\u0275\u0275text"](34," MULTI SKILL % "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](35,"th",38),p["\u0275\u0275text"](36," MARKS "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](37,"tr"),p["\u0275\u0275elementStart"](38,"th",39),p["\u0275\u0275text"](39,"Sr No"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](40,w,2,1,"ng-container",22),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](41,"tbody"),p["\u0275\u0275template"](42,O,2,1,"ng-container",22),p["\u0275\u0275elementStart"](43,"tr"),p["\u0275\u0275elementStart"](44,"td",40),p["\u0275\u0275text"](45,"Actual No Trained"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](46,V,2,1,"ng-container",22),p["\u0275\u0275element"](47,"td",41),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](48,"tr"),p["\u0275\u0275elementStart"](49,"td",42),p["\u0275\u0275text"](50,"Team Leader Skill Level"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](51,B,19,12,"ng-container",22),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"]("Doc No:- \xa0 ",(null==a.skillMatrixDocument?null:a.skillMatrixDocument.docName)||"-",""),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngForOf",a.skillMatrixDetails.columns),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("placeholder","Select Shift")("settings",a.SingleDropdownSettings)("data",a.shiftList)("ngModel",a.searchDet.shift),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("Rev Date:- \xa0 ",p["\u0275\u0275pipeBind2"](17,15,null==a.skillMatrixDocument?null:a.skillMatrixDocument.currentDate," dd MMMM yyyy"),""),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngForOf",a.skillMatrixDetails.columns),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngModel",a.revNo),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngForOf",a.skillMatrixDetails.columns),p["\u0275\u0275advance"](10),p["\u0275\u0275property"]("ngForOf",a.skillMatrixDetails.columns),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",a.filteredEmpData),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngForOf",a.skillMatrixDetails.workstationLvlCount),p["\u0275\u0275advance"](3),p["\u0275\u0275attribute"]("colspan",a.skillMatrixDetails.columns.length+3),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",a.filteredSkillMatrixTLData)}}function j(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",56),p["\u0275\u0275text"](1," Data Not Found "),p["\u0275\u0275elementEnd"]())}function Y(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",57),p["\u0275\u0275element"](1,"app-loading"),p["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"tbody"),p["\u0275\u0275elementStart"](2,"tr"),p["\u0275\u0275template"](3,j,2,0,"td",54),p["\u0275\u0275template"](4,Y,2,0,"td",55),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",!n.listLoader),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.listLoader)}}function U(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",56),p["\u0275\u0275text"](1," Data Not Found "),p["\u0275\u0275elementEnd"]())}function $(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275template"](1,U,2,0,"td",54),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!n.listLoading)}}function H(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"li",23),p["\u0275\u0275elementStart"](1,"div",24),p["\u0275\u0275elementStart"](2,"label",25),p["\u0275\u0275text"](3),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"div",0),p["\u0275\u0275elementStart"](5,"div",26),p["\u0275\u0275elementStart"](6,"label",25),p["\u0275\u0275text"](7,"REQD."),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](8,"br"),p["\u0275\u0275elementStart"](9,"p",27),p["\u0275\u0275text"](10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](11,"div",26),p["\u0275\u0275elementStart"](12,"label",25),p["\u0275\u0275text"](13,"ACT."),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](14,"br"),p["\u0275\u0275elementStart"](15,"p",27),p["\u0275\u0275text"](16),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"div",26),p["\u0275\u0275elementStart"](18,"label",25),p["\u0275\u0275text"](19,"GAP"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](20,"br"),p["\u0275\u0275elementStart"](21,"p",27),p["\u0275\u0275text"](22),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](n.levelName),p["\u0275\u0275advance"](7),p["\u0275\u0275textInterpolate"](n.requiredCount||"0"),p["\u0275\u0275advance"](6),p["\u0275\u0275textInterpolate"](n.actualCount||"0"),p["\u0275\u0275advance"](6),p["\u0275\u0275textInterpolate"](n.requiredCount&&n.requiredCount>0&&n.requiredCount>n.actualCount?n.requiredCount-n.actualCount:"0")}}function q(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,H,23,4,"li",58),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf","L4"!=n.levelName)}}function G(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1," Please select plant "),p["\u0275\u0275elementEnd"]())}function Q(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",81),p["\u0275\u0275template"](1,G,2,0,"div",19),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.filterData.controls.branchId.errors.required)}}function J(e,t){1&e&&p["\u0275\u0275element"](0,"span",82)}function K(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",83),p["\u0275\u0275text"](1," Loading..."),p["\u0275\u0275elementEnd"]())}function X(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",84),p["\u0275\u0275text"](1,"Apply Filter"),p["\u0275\u0275elementEnd"]())}function Z(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",59),p["\u0275\u0275elementStart"](1,"h4",60),p["\u0275\u0275text"](2,"Filter"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"button",61),p["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),p["\u0275\u0275elementStart"](4,"span",62),p["\u0275\u0275text"](5,"\xd7"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",63),p["\u0275\u0275listener"]("ngSubmit",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275nextContext"]();return e.submitFilterForm(e.filterData)}),p["\u0275\u0275elementStart"](7,"div",64),p["\u0275\u0275elementStart"](8,"perfect-scrollbar"),p["\u0275\u0275elementStart"](9,"div",65),p["\u0275\u0275elementStart"](10,"label",66),p["\u0275\u0275text"](11,"Plant "),p["\u0275\u0275elementStart"](12,"span",67),p["\u0275\u0275text"](13,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](14,"div",68),p["\u0275\u0275elementStart"](15,"ng-multiselect-dropdown",69),p["\u0275\u0275listener"]("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeBranch(e)})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeBranch(!1)})("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.branch=e}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,Q,2,1,"div",70),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"div",65),p["\u0275\u0275elementStart"](18,"label",71),p["\u0275\u0275text"](19,"Department "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](20,"div",68),p["\u0275\u0275elementStart"](21,"ng-multiselect-dropdown",72),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.dept=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeDept(e)})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeDept(!1)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](22,"div",65),p["\u0275\u0275elementStart"](23,"label",73),p["\u0275\u0275text"](24,"Cell / Line "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](25,"div",68),p["\u0275\u0275elementStart"](26,"ng-multiselect-dropdown",74),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.cell=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeCell(e)})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeCell(!1)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](27,"div",75),p["\u0275\u0275elementStart"](28,"button",76),p["\u0275\u0275template"](29,J,1,0,"span",77),p["\u0275\u0275template"](30,K,2,0,"span",78),p["\u0275\u0275template"](31,X,2,0,"span",79),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](32,"button",80),p["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),p["\u0275\u0275text"](33,"Cancel "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var a=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("formGroup",a.filterData),p["\u0275\u0275advance"](9),p["\u0275\u0275property"]("placeholder","Select Plant")("settings",a.SingleDropdownSettings)("data",a.branchAccessList)("ngModel",a.searchDet.branch),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.filterData.controls.branchId.invalid&&(a.filterData.controls.branchId.touched||a.filterData.controls.branchId.dirty)),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("placeholder","Select Department")("settings",a.SingleDropdownSettings)("data",a.deptList)("ngModel",a.searchDet.dept),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("placeholder","Select Cell / Line")("settings",a.SingleDropdownSettings)("data",a.cellList)("ngModel",a.searchDet.cell),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",a.submitSpinner),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.submitSpinner),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}var ee,te=function(e,t){return{"fa-search":e,"fa-times-circle":t}},ne=function(e){return{applied:e}},ae=((ee=function(){function n(e,t,a,i){l(this,n),this.apiService=e,this.modalService=t,this.fb=a,this.listLoader=!1,this.exportLoader=!1,this.skillMatrixDetails={},this.searchDet={},this.SingleDropdownSettings={},this.SingleCellDropdownSettings={},this.branchAccessList=[],this.userDet={},this.selectedBranch={},this.deptList=[],this.cellList=[],this.constant={},this.filterFlag=!1,this.isAppliedFilter=!1,this.hasSkillMatrixData=!1,this.revNo=[],this.shiftList=[{id:1,name:1},{id:2,name:2},{id:3,name:3}],this.filteredSkillMatrixTLData=[],this.sheetColumns=[],this.constant=i}return r(n,[{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.searchDet.shift=[this.shiftList[0]],this.searchDet.branch=[{id:this.userDet.branch.branchId,name:this.userDet.branch.name}],this.getBranchAccessList(),this.searchDet.isDefaultWorking=!0,this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.filterData=this.fb.group({branchId:new h.f("",h.z.required),deptId:new h.f(""),lineIds:new h.f("")})}},{key:"getBranchAccessList",value:function(){var e=this;this.apiService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){e.branchAccessList=t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?e.setArray(t.branchAccessList,"branchId","branchName"):[{id:e.userDet.branch.branchId,name:e.userDet.branch.name}],e.branchAccessList=e.sortFunction(e.branchAccessList,"name"),e.getDeptList()})}},{key:"onChangeBranch",value:function(e){this.searchDet.isDefaultWorking=!1,e?(this.deptList=[],this.searchDet.dept=[],this.cellList=[],this.searchDet.cell=[],this.searchDet.branch=[{id:e.id,name:e.name}],this.getDeptList()):(this.deptList=[],this.searchDet.dept=[],this.cellList=[],this.searchDet.cell=[])}},{key:"getDeptList",value:function(){var e=this;null!=this.searchDet.branch&&this.searchDet.branch.length>0&&this.apiService.getdepartmentlistbybranchid("getdepartmentlistbybranchid/"+this.searchDet.branch[0].id).subscribe(function(t){t.result&&null!=t.deptList&&t.deptList.length>0?(e.deptList=e.setArray(t.deptList,"deptId","deptName"),e.deptList=e.sortFunction(e.deptList,"deptName"),e.searchDet.isDefaultWorking&&(e.searchDet.dept=[e.deptList[0]],e.getCellList())):e.deptList=[]})}},{key:"getCellList",value:function(){var e=this,t={branchId:this.searchDet.branch[0].id};null!=this.searchDet.dept&&this.searchDet.dept.length>0&&(t.deptId=this.searchDet.dept[0].id),this.apiService.getCellList("apis/sm/getCellList",t).subscribe(function(t){t.result&&null!=t.dataList&&t.dataList.length>0?(t.dataList=e.sortFunction(t.dataList,"lineName"),e.cellList=e.setArray(t.dataList,"lineId","lineName"),e.searchDet.cell=[e.cellList[0]],e.searchDet.filterFlag||e.getSkillMatixData()):e.cellList=[]})}},{key:"onChangeCell",value:function(e){this.searchDet.isDefaultWorking=!1}},{key:"onChangeDept",value:function(e){this.searchDet.isDefaultWorking=!1,e?(this.getCellList(),this.cellList=[],this.searchDet.cell=[]):(this.cellList=[],this.searchDet.cell=[],this.searchDet.dept=[])}},{key:"isObjectEmpty",value:function(e){return 0==Object.keys(e).length}},{key:"getSkillMatixData",value:function(){var e=this;this.skillMatrixDetails={},this.skillMatrixDocument={},this.filteredSkillMatrixTLData=[],this.listLoader=!0,null!=this.searchDet.cell&&this.searchDet.cell.length>0&&this.cellList.filter(function(t){return t.id==e.searchDet.cell[0].id});var t={orgId:this.userDet.organization.orgId};null!=this.searchDet.shift&&this.searchDet.shift.length>0&&(t.shiftNo=this.searchDet.shift[0].id),null!=this.searchDet.branch&&this.searchDet.branch.length>0&&(t.branchId=this.searchDet.branch[0].id),null!=this.searchDet.dept&&this.searchDet.dept.length>0&&(t.deptId=this.searchDet.dept[0].id),null!=this.searchDet.cell&&this.searchDet.cell.length>0&&(t.lineId=this.searchDet.cell[0].id),this.getSkillMatrixListForExport={},this.hasSkillMatrixData=!1,this.multiskillingPercentage=0,this.apiService.getSkillMatrixData("apis/sm/getSkillMatrixList",t).subscribe(function(t){var n;if(e.listLoader=!1,t.result){if(e.getSkillMatrixListForExport=null!==(n=t.data.skillMatrixDetails)&&void 0!==n?n:{},e.hasSkillMatrixData=null!=t.data.skillMatrixDetails,t.data.hasOwnProperty("levelSummary")&&null!=t.data.levelSummary&&t.data.levelSummary.length>0){for(var a=0;a<t.data.levelSummary.length;a++)t.data.levelSummary[a].requiredCount=t.data.levelSummary[a].requiredCount?Math.round(t.data.levelSummary[a].requiredCount):0,t.data.levelSummary[a].actualCount=t.data.levelSummary[a].actualCount?Math.round(t.data.levelSummary[a].actualCount):0;t.data.levelSummary=e.sortFunction(t.data.levelSummary,"levelId")}if(e.skillMatrixDetails=t.data,null!=t.data.tableData&&t.data.tableData.length>0){e.skillMatrixDetails.tableEmpData=[],e.filteredEmpData=[];for(var l=0;l<t.data.tableData.length;l++)"TL"!=t.data.tableData[l].empLevel&&(e.skillMatrixDetails.tableEmpData.push(t.data.tableData[l]),e.multiskillingPercentage+=t.data.tableData[l].skillingPer);e.multiskillingPercentage=Math.round(e.multiskillingPercentage/e.skillMatrixDetails.tableEmpData.length),e.filteredEmpData=e.skillMatrixDetails.tableEmpData}e.skillMatrixDocument=t.data.documentName}else e.skillMatrixDetails={};e.filteredSkillMatrixTLData=e.skillMatrixDetails.tableData.filter(function(e){return"TL"==e.empLevel})},function(t){e.listLoader=!1})}},{key:"getCombinedHeader",value:function(e){return"".concat(this.skillMatrixDetails.columns.find(function(t){return t.field==e}).heading)}},{key:"getHeadingWithLevel",value:function(e){return" ".concat(e.heading)}},{key:"getWorkStationLength",value:function(){var e=0;if(!this.isObjectEmpty(this.skillMatrixDetails)&&null!=this.skillMatrixDetails.columns&&0!=this.skillMatrixDetails.columns.length)for(var t=0;t<this.skillMatrixDetails.columns.length;t++)"empId"!=this.skillMatrixDetails.columns[t].field&&"empName"!=this.skillMatrixDetails.columns[t].field&&"gender"!=this.skillMatrixDetails.columns[t].field&&"experience"!=this.skillMatrixDetails.columns[t].field&&"empLevel"!=this.skillMatrixDetails.columns[t].field&&e++;return e}},{key:"setArray",value:function(e,n,a){var l=[];if(null!=e&&e.length>0){var i,r=t(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.id=o[n],o.name=o[a],l.push(o)}}catch(s){r.e(s)}finally{r.f()}}return l}},{key:"isChecked",value:function(e,t){for(var n in e)if(t==n)return!this.isObjectEmpty(e)&&e[n].hasOwnProperty("currentSkillLevelId")?1==e[n].currentSkillLevelId?{status:this.constant.EQUAL,level:e[n].currentSkillLevel}:2==e[n].currentSkillLevelId?{status:this.constant.ELIGIBLE,level:e[n].currentSkillLevel}:3==e[n].currentSkillLevelId||4==e[n].currentSkillLevelId?{status:this.constant.NOT_ELIGIBLE,level:e[n].currentSkillLevel}:{status:this.constant.OTHER,level:" "}:{status:this.constant.OTHER,level:" "};return{}}},{key:"getSkillLevelClass",value:function(e){switch(e){case"L1":return"red-background";case"L2":return"gray-background";case"L3":case"L4":return"green-background";default:return"white-background"}}},{key:"exportSkillMatrix",value:function(){this.exportLoader=!0;var e=new d.Workbook,t=e.addWorksheet("Skill Matrix",{});this.sheetColumns=[{header:"",key:"sr",width:30},{header:"",key:"empName",width:30},{header:"",key:"empName",width:30},{header:"MACHINE INDEX RATING",key:"MACHINE_INDEX_RATING",width:30}];for(var n=0;n<this.skillMatrixDetails.columns.length;n++)"empId"!=this.skillMatrixDetails.columns[n].field&&"empName"!=this.skillMatrixDetails.columns[n].field&&"gender"!=this.skillMatrixDetails.columns[n].field&&"experience"!=this.skillMatrixDetails.columns[n].field&&"empLevel"!=this.skillMatrixDetails.columns[n].field&&this.sheetColumns.push({header:this.skillMatrixDetails.columns[n].machineIndex,key:this.skillMatrixDetails.columns[n].machineIndex,width:30});t.columns=this.sheetColumns,this.sheetColumns=[],t.mergeCells("A1","C1"),this.sheetColumns=[{header:"",key:"sr",width:30},{header:"",key:"empName",width:30},{header:"",key:"empName",width:30},{header:"MIN. SKILL LEVEL REQ.",key:"MIN_SKILL_LEVEL_REQ",width:30}];for(var a=0;a<this.skillMatrixDetails.columns.length;a++)"empId"!=this.skillMatrixDetails.columns[a].field&&"empName"!=this.skillMatrixDetails.columns[a].field&&"gender"!=this.skillMatrixDetails.columns[a].field&&"experience"!=this.skillMatrixDetails.columns[a].field&&"empLevel"!=this.skillMatrixDetails.columns[a].field&&this.sheetColumns.push({header:this.skillMatrixDetails.columns[a].levelName,key:this.skillMatrixDetails.columns[a].levelName,width:30});t.columns=this.sheetColumns,e.xlsx.writeBuffer().then(function(e){var t=new Blob([e],{type:"xlsx"});m.saveAs(t,"Skill_Matrix.xlsx")}),this.exportLoader=!1}},{key:"exportReport",value:function(){var e=this,t=[],n=this.skillMatrixDetails.columns.filter(function(e){return e.machineIndex}).length,a=5+n;if(null!=this.skillMatrixDocument&&null!=this.skillMatrixDocument)var l=new Date(this.skillMatrixDocument.currentDate).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"});if(this.hasSkillMatrixData){var i={};i.c0="Cell Name:-"+this.getSkillMatrixListForExport.lineName,t.push(i)}for(var r=0;r<3;r++){var o={};if(0===r?o.c0=null!=this.skillMatrixDocument?"Doc No:-"+this.skillMatrixDocument.docName:"Doc No:-":1===r?o.c0=null!=l?"Rev Date:-"+l:"Rev Date:-":2===r&&(o.c0=null!=this.revNo&&""!=this.revNo?"Rev No:- "+this.revNo:"Rev No:- "),0==r?o.c3="MACHINE INDEX RATING":1==r?o.c3="MIN. SKILL LEVEL REQ.":2==r&&(o.c3="REQUIRED NUMBER TRAINED"),0==r){for(var s=5;s<n+5;s++)o["c"+s]=this.skillMatrixDetails.columns[s].machineIndex;o["c"+(n+5)]="NO. OF SHIFTS",a++,o["c"+(n+6)]=this.searchDet.shift[0].id,a++}else if(1==r)for(var c=5;c<n+5;c++)o["c"+c]=this.skillMatrixDetails.columns[c].levelName;else if(2==r){for(var h=5;h<n+5;h++)o["c"+h]=this.skillMatrixDetails.columns[h].requiredWorkforce;o["c"+(n+5)]="SKILL LEVEL",a++,o["c"+(n+6)]="MULTI SKILL %",a++,o["c"+(n+7)]="MARKS",a++}console.log(o),t.push(o)}for(var p=[],u={c0:"Sr No",c1:"Emp Id",c2:"Name",c3:"Exp",c4:"Employee Level"},g=5;g<n+5;g++)u["c"+g]=this.skillMatrixDetails.columns[g].field,p.push(this.skillMatrixDetails.columns[g].field);t.push(u);var f=[];f.push(10),f.push(10),f.push(20),f.push(10),f.push(20);for(var v=[],D=0,x=0;x<this.skillMatrixDetails.tableEmpData.length;x++)if("TL"!=this.skillMatrixDetails.tableEmpData[x].empLevel){var S={};S.c0=x+1,S.c1=this.skillMatrixDetails.tableEmpData[x].empId,S.c2=this.skillMatrixDetails.tableEmpData[x].empName,S.c3=this.skillMatrixDetails.tableEmpData[x].experience,S.c4=this.skillMatrixDetails.tableEmpData[x].empLevel;for(var b=5;b<n+5;b++)for(var k in f.push(20),this.skillMatrixDetails.tableEmpData[x])if(k==p[b-5]){var C=this.isChecked(this.skillMatrixDetails.tableEmpData[x],k);S["c"+b]=C.level,C.status==this.constant.EQUAL&&v.push({row:x+5,col:b+1});break}S["c"+(n+5)]=this.skillMatrixDetails.tableEmpData[x].skillLevel,S["c"+(n+6)]=this.skillMatrixDetails.tableEmpData[x].skillingPer+"%",S["c"+(n+7)]=this.skillMatrixDetails.tableEmpData[x].marks,t.push(S),D++}if(null!=this.skillMatrixDetails.workstationLvlCount){for(var L={c0:"Actual No Trained",c1:"",c2:"",c3:"",c4:""},I=5,y=0;y<this.skillMatrixDetails.workstationLvlCount.length;y++)L["c"+I]=this.skillMatrixDetails.workstationLvlCount[y].totalCount,I++;t.push(L)}if(t.push({}),null!=this.filteredSkillMatrixTLData){for(var E={c0:"Team Leader Skill Level",c1:"",c2:"",c3:"",c4:""},M=5,w=0;w<this.skillMatrixDetails.workstationLvlCount.length+5;w++)E["c"+M]="",M++;t.push(E)}t.push({});for(var P=0;P<this.filteredSkillMatrixTLData.length;P++)if("TL"===this.filteredSkillMatrixTLData[P].empLevel){var F={};F.c0=P+1,F.c1=this.filteredSkillMatrixTLData[P].empId,F.c2=this.filteredSkillMatrixTLData[P].empName,F.c3=this.filteredSkillMatrixTLData[P].experience,F.c4=this.filteredSkillMatrixTLData[P].empLevel;for(var A=5;A<n+5;A++)for(var k in f.push(20),this.filteredSkillMatrixTLData[P])if(k==p[A-5]){var O=this.isChecked(this.filteredSkillMatrixTLData[P],k);F["c"+A]=O.level,O.status==this.constant.EQUAL&&v.push({row:P+5,col:A+1});break}F["c"+(n+5)]=this.filteredSkillMatrixTLData[P].skillLevel,F["c"+(n+6)]=this.filteredSkillMatrixTLData[P].skillingPer+"%",F["c"+(n+7)]=this.filteredSkillMatrixTLData[P].marks,t.push(F)}t.push({});for(var N=0;N<this.skillMatrixDetails.tableEmpData.length;N++)if("TL"===this.skillMatrixDetails.tableEmpData[N].empLevel){var _={};_.c0=N+1,_.c1=this.skillMatrixDetails.tableEmpData[N].empId,_.c2=this.skillMatrixDetails.tableEmpData[N].empName,_.c3=this.skillMatrixDetails.tableEmpData[N].experience,_.c4=this.skillMatrixDetails.tableEmpData[N].empLevel;for(var V=5;V<n+5;V++)for(var k in f.push(20),this.skillMatrixDetails.tableEmpData[N])if(k==p[V-5]){var W=this.isChecked(this.skillMatrixDetails.tableEmpData[N],k);_["c"+V]=W.level,W.status==this.constant.EQUAL&&v.push({row:N+5,col:V+1});break}_["c"+(n+5)]=this.skillMatrixDetails.tableEmpData[N].skillLevel,_["c"+(n+6)]=this.skillMatrixDetails.tableEmpData[N].skillingPer+"%",_["c"+(n+7)]=this.skillMatrixDetails.tableEmpData[N].marks,t.push(_)}(u={}).c0="Skill Level",u.c1="REQD.",u.c2="ACT.",u.c3="GAP",t.push(u);for(var T=0;T<this.skillMatrixDetails.levelSummary.length;T++)"L4"!=this.skillMatrixDetails.levelSummary[T].levelName&&((u={}).c0="L"+(T+1),u.c1=this.skillMatrixDetails.levelSummary[T].requiredCount,u.c2=this.skillMatrixDetails.levelSummary[T].actualCount,u.c3=this.skillMatrixDetails.levelSummary[T].requiredCount&&this.skillMatrixDetails.levelSummary[T].requiredCount>0&&this.skillMatrixDetails.levelSummary[T].requiredCount>this.skillMatrixDetails.levelSummary[T].actualCount?this.skillMatrixDetails.levelSummary[T].requiredCount-this.skillMatrixDetails.levelSummary[T].actualCount:0,t.push(u));t.push({}),(u={}).c0="Average Multiskilling %",u.c1=this.multiskillingPercentage+" %",t.push(u);for(var B=[],R=new d.Workbook,j=R.addWorksheet("Skill Matrix",{}),Y=0;Y<a;Y++)B.push({key:["c"+Y],width:f[Y]});j.columns=B;var z=[],U={};Object.assign({},U),t.forEach(function(e){for(var t in U={},e)U[t]=e[t];z.push(U)}),j.addRows(z,"n");for(var $=1;$<4;$++)j.mergeCells($,4,$,5);j.mergeCells(D+6,1,D+6,5),j.mergeCells(D+7,1,D+7,this.skillMatrixDetails.workstationLvlCount.length+5+3);for(var H=1;H<5;H++)j.getRow(H).font={bold:!0};for(var q=1;q<4;q++)for(var G=j.getRow(q),Q=6;Q<=G.cellCount;Q++)G.getCell(Q).alignment={vertical:"middle",horizontal:"center"};var J=6+this.skillMatrixDetails.tableEmpData.length;j.getRow(J).font={bold:!0};for(var K=5;K<this.skillMatrixDetails.tableEmpData.length+5;K++)j.getRow(K).eachCell(function(e,t){t>5&&(e.border={top:{style:"double",color:{argb:"f6f6f6"}},left:{style:"double",color:{argb:"f6f6f6"}},bottom:{style:"double",color:{argb:"f6f6f6"}},right:{style:"double",color:{argb:"f6f6f6"}}},e.alignment={vertical:"middle",horizontal:"center"})});J=this.hasSkillMatrixData?6+this.skillMatrixDetails.tableEmpData.length+this.filteredSkillMatrixTLData.length+5:6+this.skillMatrixDetails.tableEmpData.length+this.filteredSkillMatrixTLData.length+4;for(var X=0;X<this.skillMatrixDetails.levelSummary.length;X++){var Z=j.getRow(J+X+1);Z.alignment={horizontal:"center"},1==this.skillMatrixDetails.levelSummary[X].levelId?Z.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}}:2==this.skillMatrixDetails.levelSummary[X].levelId?Z.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"D9D9D9"}}:3==this.skillMatrixDetails.levelSummary[X].levelId&&(Z.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"99cd3a"}})}for(var ee=[],te=[],ne=0;ne<this.skillMatrixDetails.tableEmpData.length;ne++)"TL"!==this.skillMatrixDetails.tableEmpData[ne].empLevel?ee.push(this.skillMatrixDetails.tableEmpData[ne]):te.push(this.skillMatrixDetails.tableEmpData[ne]);for(var ae=function(e){for(var t=j.getRow(e),a=function(n){v.forEach(function(t){t.row===e&&t.col});var a=t.getCell(n).value;"L1"===a?(t.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}},t.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L2"===a?(t.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"D9D9D9"}},t.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L3"===a||"L4"===a?(t.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"99cd3a"}},t.getCell(n).alignment={vertical:"middle",horizontal:"center"}):t.getCell(n).alignment={vertical:"middle",horizontal:"center"}},l=6;l<n+5+4;l++)a(l)},le=5;le<ee.length+5;le++)ae(le);for(var ie=function(e){for(var t=j.getRow(e),a=function(n){v.forEach(function(t){t.row===e&&t.col});var a=t.getCell(n).value;"L1"===a?(t.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}},t.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L2"===a?(t.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"D9D9D9"}},t.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L3"===a||"L4"===a?(t.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"99cd3a"}},t.getCell(n).alignment={vertical:"middle",horizontal:"center"}):t.getCell(n).alignment={vertical:"middle",horizontal:"center"}},l=6;l<n+5+4;l++)a(l)},re=5+ee.length;re<this.skillMatrixDetails.tableEmpData.length+5+4;re++)ie(re);for(var oe=function(e){for(var t=j.getRow(e),a=function(n){v.forEach(function(t){t.row===e&&t.col});var a=t.getCell(n).value;"L1"===a?(t.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF0000"}},t.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L2"===a?(t.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"D9D9D9"}},t.getCell(n).alignment={vertical:"middle",horizontal:"center"}):"L3"===a||"L4"===a?(t.getCell(n).fill={type:"pattern",pattern:"solid",fgColor:{argb:"99cd3a"}},t.getCell(n).alignment={vertical:"middle",horizontal:"center"}):t.getCell(n).alignment={vertical:"middle",horizontal:"center"}},l=6;l<n+5+1+1;l++)a(l)},se=5;se<this.skillMatrixDetails.workstationLvlCount.length+5;se++)oe(se);for(var ce=1;ce<4;ce++)j.mergeCells(ce,1,ce,3);var de={L1:"FF0000",L2:"D9D9D9",L3:"99CD3A",L4:"99CD3A"},me=["Actual No Trained","Team Leader Skill Level","Skill Level","Average Multiskilling %"];j.eachRow(function(t,n){n>3&&t.eachCell(function(e){var t=e.value?e.value.toString():"";de[t]&&(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:de[t]}},e.alignment={vertical:"middle",horizontal:"center"},e.font={bold:!0},e.border={top:{style:"thin",color:{argb:"808080"}},bottom:{style:"thin",color:{argb:"808080"}},left:{style:"thin",color:{argb:"808080"}},right:{style:"thin",color:{argb:"808080"}}}),me.includes(t)&&(e.alignment={vertical:"middle",horizontal:"left"},e.font={bold:!0});var n=e.col;(j.getColumn(n).width||10)<20&&(j.getColumn(n).width=20)}),n===(e.hasSkillMatrixData?4:3)&&t.eachCell(function(e,t){t>5&&(e.alignment={vertical:"middle",horizontal:"center"})})}),j.getColumn(13).alignment={vertical:"middle",horizontal:"center"},j.getColumn(14).alignment={vertical:"middle",horizontal:"center"},R.xlsx.writeBuffer().then(function(e){var t=new Blob([e],{type:"xlsx"});m.saveAs(t,"Skill Matrix.xlsx")})}},{key:"testCell",value:function(){return!0}},{key:"sortFunction",value:function(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),l=Number(n[t])?n[t]:n[t].toUpperCase();return a<l?-1:a>l?1:0}),e}},{key:"getSearchList",value:function(e){}},{key:"getSkillMatrixDetails",value:function(){}},{key:"getBCForfReqSkillLvl",value:function(e){switch(e){case"Level 1":return"white";case"Level 2":return"yellow";case"Level 3":case"Level 4":return"#acc906";default:return""}}},{key:"getLevelNameForWorkstation",value:function(e,t){var n=e.workstations.find(function(e){return e.id===t});return n?n.levelName:""}},{key:"getBackgroundColorForLevel",value:function(e,t){switch(this.getLevelNameForWorkstation(e,t)){case"Level 1":return"white";case"Level 2":return"yellow";case"Level 3":case"Level 4":return"#acc906";default:return""}}},{key:"getHighestWorkstationLevel",value:function(e){var t=e.reduce(function(e,t){return!e||t.reqSkillLevelId>e.reqSkillLevelId?t:e},null);return t?t.levelName:""}},{key:"getBackgroundColorForHighestLevel",value:function(e){switch(this.getHighestWorkstationLevel(e)){case"Level 1":return"white";case"Level 2":return"yellow";case"Level 3":case"Level 4":return"#acc906";default:return""}}},{key:"filterModalOpen",value:function(e){this.searchDet.filterFlag=!0,this.modalService.open(e,{windowClass:"filterPopup",backdrop:"static",keyboard:!1})}},{key:"submitFilterForm",value:function(e){e.invalid?Object.keys(e.controls).forEach(function(t){e.controls[t].markAsDirty()}):(this.isAppliedFilter=!0,this.searchDet.filterFlag=!1,this.modalService.dismissAll(),this.getSkillMatixData())}},{key:"removeFilter",value:function(){this.isAppliedFilter=!1,this.filterData.reset(),this.searchDet.branch=[{id:this.userDet.branch.branchId,name:this.userDet.branch.name}],this.searchDet.branchId=[],this.searchDet.deptId=[],this.searchDet.lineIds=[],this.searchDet.dept=[],this.searchDet.cell=[],this.searchDet.fromDate=null,this.searchDet.toDate=null,this.getSkillMatixData()}},{key:"onChangeShift",value:function(e){this.getSkillMatixData()}},{key:"filterList",value:function(){var e=this.searchInput.trim().toLowerCase();this.filteredEmpData=this.skillMatrixDetails.tableEmpData.filter(function(t){return Object.values(t).some(function(t){return t.toString().toLowerCase().includes(e)})})}},{key:"clearSearch",value:function(){this.searchInput="",this.filteredEmpData=e(this.skillMatrixDetails.tableEmpData)}}]),n}()).\u0275fac=function(e){return new(e||ee)(p["\u0275\u0275directiveInject"](c.a),p["\u0275\u0275directiveInject"](u.j),p["\u0275\u0275directiveInject"](h.e),p["\u0275\u0275directiveInject"]("Constant"))},ee.\u0275cmp=p["\u0275\u0275defineComponent"]({type:ee,selectors:[["app-skill-matrix"]],decls:39,vars:15,consts:[[1,"row","m-0"],[1,"col-7","m-auto"],["title","Home",2,"max-width","200px"],[1,"col-3","m-auto","main"],[1,"form-group","has-search",2,"margin-top","20px","max-width","220px"],[1,"fa","form-control-feedback",3,"ngClass","click"],["type","text","name","searchInput","placeholder","Search by Emp Id, Name","autocomplete","off",1,"form-control",2,"border","1px solid #7044cd","background-color","transparent","border-radius","12px","min-width","218px",3,"ngModel","ngModelChange","input"],[1,"col-2","p-0","m-auto",2,"display","flex","gap","30px"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],["src","assets/images/ic_excel.png","alt","",1,"img-fluid","btn-excel-export",2,"height","37px","width","30px",3,"click"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"table-block","skill-table"],[1,"table-responsive","tableFixHead"],["id","tbl-skill-matrix",1,"table","table-bordered"],[4,"ngIf"],[1,"pr"],[1,"count-block"],[4,"ngFor","ngForOf"],[1,"countLi"],[1,"headerBlock"],[1,"heading"],[1,"col-4","text-center","m-auto","p-l-5","p-r-5"],[1,"m-0","count"],["FilterModal",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],["colspan","3","scope","col",1,"first-col"],["colspan","2","scope","col",1,""],["rowspan","2","scope","col",1,"vertical-text"],["rowspan","2","colspan","2","scope","col",1,"vertical-text"],["name","shift",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],[1,"input-wrapper"],["placeholder","Enter Rev No","id","revNo","name","revNo","type","number","pattern","^\\d{1,2}$",1,"form-control","checksheetinputBox",3,"ngModel","ngModelChange"],["rowspan","2","scope","col",1,"vertical-text",2,"position","static !important"],["scope","col",1,"first-col","first-col-head"],["colspan","5",2,"text-align","center"],["colspan","3"],[2,"padding-left","15em"],["scope","col",1,"text-center"],["scope","col",1,"",3,"ngClass"],[1,"first-col-td"],[1,"second-col-td"],[1,"third-col-td"],[1,""],[2,"text-align","center"],[1,"",2,"text-align","center"],[1,"text-center","empSkillLevelTd",3,"ngClass"],["class","text-center empSkillLevelTd",4,"ngIf"],[1,"text-center","empSkillLevelTd"],["colspan","11","class","text-center no-record-found",4,"ngIf"],["colspan","11","class","text-center loading-div",4,"ngIf"],["colspan","11",1,"text-center","no-record-found"],["colspan","11",1,"text-center","loading-div"],["class","countLi",4,"ngIf"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","moduleId",1,"col-sm-12","col-form-label","filter-label"],[1,"astrik"],[1,"col-sm-12"],["name","selectedModuleId","formControlName","branchId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],["for","dept",1,"col-sm-12","col-form-label","filter-label"],["name","dept","formControlName","deptId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],["for","cell",1,"col-sm-12","col-form-label","filter-label"],["name","cell","formControlName","lineIds",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],["type","button","aria-label","Close",1,"btn","cancelBtn",3,"click"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275element"](2,"app-topBar",2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"div",3),p["\u0275\u0275element"](4,"div"),p["\u0275\u0275elementStart"](5,"div",4),p["\u0275\u0275elementStart"](6,"span",5),p["\u0275\u0275listener"]("click",function(){return t.clearSearch()}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"input",6),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchInput=e})("input",function(){return t.filterList()}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](8,"div",7),p["\u0275\u0275elementStart"](9,"div",8),p["\u0275\u0275elementStart"](10,"button",9),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275reference"](38);return t.filterModalOpen(e)}),p["\u0275\u0275element"](11,"i",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](12,x,2,0,"div",11),p["\u0275\u0275template"](13,S,2,0,"div",12),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](14,"img",13),p["\u0275\u0275listener"]("click",function(){return t.exportReport()}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"div",14),p["\u0275\u0275element"](16,"div",15),p["\u0275\u0275elementStart"](17,"div",16),p["\u0275\u0275elementStart"](18,"div",17),p["\u0275\u0275elementStart"](19,"table",18),p["\u0275\u0275template"](20,R,52,18,"ng-container",19),p["\u0275\u0275template"](21,z,5,2,"ng-container",19),p["\u0275\u0275template"](22,$,2,1,"tr",19),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"div",20),p["\u0275\u0275elementStart"](24,"ul",21),p["\u0275\u0275template"](25,q,2,1,"ng-container",22),p["\u0275\u0275elementContainerStart"](26),p["\u0275\u0275elementStart"](27,"li",23),p["\u0275\u0275elementStart"](28,"div",24),p["\u0275\u0275elementStart"](29,"label",25),p["\u0275\u0275text"](30,"Average Multiskilling %"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](31,"div",0),p["\u0275\u0275elementStart"](32,"div",26),p["\u0275\u0275element"](33,"label",25),p["\u0275\u0275element"](34,"br"),p["\u0275\u0275elementStart"](35,"p",27),p["\u0275\u0275text"](36),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](37,Z,34,17,"ng-template",null,28,p["\u0275\u0275templateRefExtractor"])}2&e&&(p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction2"](10,te,!t.searchInput,t.searchInput)),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngModel",t.searchInput),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](13,ne,t.isAppliedFilter)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.isAppliedFilter),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAppliedFilter),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngIf",!t.isObjectEmpty(t.skillMatrixDetails)),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isObjectEmpty(t.skillMatrixDetails)),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",null==t.filteredEmpData||0==t.filteredEmpData.length),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngForOf",t.skillMatrixDetails.levelSummary),p["\u0275\u0275advance"](11),p["\u0275\u0275textInterpolate1"]("",t.multiskillingPercentage," %"))},directives:[g.a,o.NgClass,h.c,h.o,h.r,o.NgIf,o.NgForOf,f.a,h.t,h.u,v.a,h.A,h.p,h.h,D.b,h.g],pipes:[o.DatePipe],styles:[".logo[_ngcontent-%COMP%]{height:20px}.insideLabel[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:0;font:normal normal 700 12px/1.5 Helvetica Neue;left:1.5rem;color:#7044cd}.center-align[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.bg-l1[_ngcontent-%COMP%]{background-color:red}.bg-l2[_ngcontent-%COMP%]{background-color:#d9d9d9}.bg-l3[_ngcontent-%COMP%]{background-color:green}.skill-table[_ngcontent-%COMP%]{margin-top:5px;border-top:1px solid #d3d3d3}.skill-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{box-shadow:none!important;border-color:#d3d3d3;border-width:1px}.excelbutton[_ngcontent-%COMP%]{cursor:pointer}.excelbutton[_ngcontent-%COMP%]   .excelFont[_ngcontent-%COMP%]{font:normal normal 500 11px/1.5 Helvetica Neue}.empSkillLevelTd[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:#000!important;font-weight:400;text-align:center}.empSkillLevelTd.EQUAL[_ngcontent-%COMP%]{background:red}.empSkillLevelTd.ELIGIBLE[_ngcontent-%COMP%]{background:#d9d9d9}.empSkillLevelTd.NOT_ELIGIBLE[_ngcontent-%COMP%]{background:#99cd3a}.empSkillLevelTd.OTHER[_ngcontent-%COMP%]{background:#fff}.red-background[_ngcontent-%COMP%]{background:red}.gray-background[_ngcontent-%COMP%]{background:#d9d9d9}.green-background[_ngcontent-%COMP%]{background:#99cd3a}.white-background[_ngcontent-%COMP%]{background:#fff}.count-block[_ngcontent-%COMP%]{padding:0;margin:0;display:inline-block;width:100%}.count-block[_ngcontent-%COMP%]   .countLi[_ngcontent-%COMP%]{float:left;list-style:none;width:22%;background:#fff;padding:0 10px 5px;margin:10px 10px 5px;border-radius:5px;box-shadow:0 0 8px #8e8e8e}.count-block[_ngcontent-%COMP%]   .countLi[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:normal normal normal 13px/1.5 Helvetica Neue;margin:0}.count-block[_ngcontent-%COMP%]   .countLi[_ngcontent-%COMP%]   .headerBlock[_ngcontent-%COMP%]{border-bottom:1px solid #7044cd;margin:0 -10px;padding:0 10px}.count-block[_ngcontent-%COMP%]   .countLi[_ngcontent-%COMP%]   .headerBlock[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{color:#7044cd;padding:5px;font-weight:700}.count-block[_ngcontent-%COMP%]   .countLi[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font:normal normal 700 14px/1.5 Helvetica Neue;color:#000}.btn-excel-export[_ngcontent-%COMP%]{cursor:pointer}.input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.form-control[_ngcontent-%COMP%]{margin-top:-9px;height:calc(1.5em + .75rem + -4px);margin-bottom:-10px}.vertical-text[_ngcontent-%COMP%]{vertical-align:middle}.text-center[_ngcontent-%COMP%]{text-align:center}.first-col[_ngcontent-%COMP%]{left:0}.first-col[_ngcontent-%COMP%], .second-col[_ngcontent-%COMP%]{position:sticky;top:0;width:100px;z-index:5}.second-col[_ngcontent-%COMP%]{left:68px}.third-col[_ngcontent-%COMP%]{position:sticky;left:145px;top:0;width:100px;z-index:5}.first-col-td[_ngcontent-%COMP%]{left:0}.first-col-td[_ngcontent-%COMP%], .second-col-td[_ngcontent-%COMP%]{position:sticky;*position:relative;width:100px;z-index:4}.second-col-td[_ngcontent-%COMP%]{left:68px}.third-col-td[_ngcontent-%COMP%]{position:sticky;*position:relative;left:145px;width:100px;z-index:4}.extraContent[_ngcontent-%COMP%]{margin-left:12px;padding:2px 10px 0 5px}.main[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}"]}),ee),le=i("wd/R"),ie=i("Dh3D"),re=i("h77R"),oe=i("qFsG"),se=i("iadO");function ce(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",38),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().removeFilter()}),p["\u0275\u0275text"](1,"x"),p["\u0275\u0275elementEnd"]()}}function de(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",39),p["\u0275\u0275text"](1,"Filter Applied"),p["\u0275\u0275elementEnd"]())}function me(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"span",40),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().getSearchList(!0)}),p["\u0275\u0275elementEnd"]()}}function he(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"span",41),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().getSearchList(!1)}),p["\u0275\u0275elementEnd"]()}}var pe=function(e,t){return{completed:e,pending:t}};function ue(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275elementStart"](1,"td",42),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"td"),p["\u0275\u0275text"](4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"td"),p["\u0275\u0275text"](6),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"td"),p["\u0275\u0275text"](8),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](9,"td"),p["\u0275\u0275text"](10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](11,"td"),p["\u0275\u0275text"](12),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"td"),p["\u0275\u0275text"](14),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"td"),p["\u0275\u0275text"](16),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"td"),p["\u0275\u0275text"](18),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](19,"td"),p["\u0275\u0275text"](20),p["\u0275\u0275pipe"](21,"date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](22,"td"),p["\u0275\u0275text"](23),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](24,"td",43),p["\u0275\u0275text"](25),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.branchName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.assignedEmpId),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.assignedEmpName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.cmpyEmpId),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.oeEmpName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.deptName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.lineName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.workstation),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.currentSkillLevel),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.activityDate?p["\u0275\u0275pipeBind2"](21,13,n.activityDate,"dd-MM-yyyy"):"N/A"),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](n.activity),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction2"](16,pe,"COMPLETED"==n.status,"PENDING"==n.status)),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.status,"")}}function ge(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",46),p["\u0275\u0275text"](1," Data not found "),p["\u0275\u0275elementEnd"]())}function fe(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",47),p["\u0275\u0275element"](1,"app-loading"),p["\u0275\u0275elementEnd"]())}function ve(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275template"](1,ge,2,0,"td",44),p["\u0275\u0275template"](2,fe,2,0,"td",45),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!n.listLoading),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.listLoading)}}function De(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1," Please Select Plant "),p["\u0275\u0275elementEnd"]())}function xe(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",77),p["\u0275\u0275template"](1,De,2,0,"div",35),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.filterFormData.controls.branch.errors.required)}}function Se(e,t){1&e&&p["\u0275\u0275element"](0,"span",78)}function be(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",79),p["\u0275\u0275text"](1," Loading..."),p["\u0275\u0275elementEnd"]())}function ke(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",80),p["\u0275\u0275text"](1,"Apply Filter"),p["\u0275\u0275elementEnd"]())}function Ce(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",48),p["\u0275\u0275elementStart"](1,"h4",49),p["\u0275\u0275text"](2,"Filter"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"button",50),p["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),p["\u0275\u0275elementStart"](4,"span",51),p["\u0275\u0275text"](5,"\xd7"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",52),p["\u0275\u0275listener"]("ngSubmit",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275nextContext"]();return e.submitFilterForm(e.filterFormData)}),p["\u0275\u0275elementStart"](7,"div",53),p["\u0275\u0275elementStart"](8,"perfect-scrollbar"),p["\u0275\u0275elementStart"](9,"div",54),p["\u0275\u0275elementStart"](10,"label",55),p["\u0275\u0275text"](11,"Plant"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"div",56),p["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",57),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.branchId=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(e,"plant")})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(!1,"plant")}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](14,xe,2,1,"div",58),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"div",54),p["\u0275\u0275elementStart"](16,"label",59),p["\u0275\u0275text"](17,"Department"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](18,"div",56),p["\u0275\u0275elementStart"](19,"ng-multiselect-dropdown",60),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.deptId=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(e,"dept")})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(!1,"dept")}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](20,"div",54),p["\u0275\u0275elementStart"](21,"label",59),p["\u0275\u0275text"](22,"Cell/Line"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"div",56),p["\u0275\u0275elementStart"](24,"ng-multiselect-dropdown",61),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.lineIds=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(e,"line")})("onSelectAll",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeAll(e,"dept")}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](25,"div",54),p["\u0275\u0275elementStart"](26,"label",62),p["\u0275\u0275text"](27,"Level"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"div",56),p["\u0275\u0275elementStart"](29,"ng-multiselect-dropdown",63),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.skillLvlId=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(e,"skillLvlId")})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(!1,"skillLvlId")}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](30,"div",54),p["\u0275\u0275elementStart"](31,"label",59),p["\u0275\u0275text"](32,"From Date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"div",56),p["\u0275\u0275elementStart"](34,"div",64),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275reference"](40).open()}),p["\u0275\u0275elementStart"](35,"div",65),p["\u0275\u0275elementStart"](36,"div",66),p["\u0275\u0275element"](37,"i",67),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](38,"input",68),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.fromDate=e})("keydown",function(){return!1})("dateChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().selectCustomDate(e,"")}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](39,"mat-datepicker",null,69),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](41,"div",54),p["\u0275\u0275elementStart"](42,"label",59),p["\u0275\u0275text"](43,"To Date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](44,"div",56),p["\u0275\u0275elementStart"](45,"div",64),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275reference"](51).open()}),p["\u0275\u0275elementStart"](46,"div",65),p["\u0275\u0275elementStart"](47,"div",66),p["\u0275\u0275element"](48,"i",67),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](49,"input",70),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.toDate=e})("keydown",function(){return!1})("dateChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().selectCustomDate("",e)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](50,"mat-datepicker",null,71),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](52,"div",72),p["\u0275\u0275elementStart"](53,"button",73),p["\u0275\u0275template"](54,Se,1,0,"span",74),p["\u0275\u0275template"](55,be,2,0,"span",75),p["\u0275\u0275template"](56,ke,2,0,"span",76),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var a=p["\u0275\u0275reference"](40),l=p["\u0275\u0275reference"](51),i=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("formGroup",i.filterFormData),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("placeholder","Select Plant")("settings",i.SingleDropdownSettings)("data",i.getSortFunction(i.plantList,"plant"))("disabled",!1)("ngModel",i.searchDet.branchId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",i.submitAttempted&&i.filterFormData.controls.branch.invalid&&(i.filterFormData.controls.branch.touched||i.filterFormData.controls.branch.dirty)),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("placeholder","Select Department")("settings",i.SingleDropdownSettings)("data",i.getSortFunction(i.masterDeptList,"dept"))("disabled",!1)("ngModel",i.searchDet.deptId),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("placeholder","Select Cell/Line")("settings",i.multipleDropdownSettings)("data",i.getSortFunction(i.cellList,"cell"))("ngModel",i.searchDet.lineIds),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("placeholder","Select Level")("settings",i.SingleDropdownSettings)("data",i.masterLevelList)("ngModel",i.searchDet.skillLvlId),p["\u0275\u0275advance"](9),p["\u0275\u0275property"]("ngModel",i.searchDet.fromDate)("max",i.maxDate)("matDatepicker",a),p["\u0275\u0275advance"](11),p["\u0275\u0275property"]("ngModel",i.searchDet.toDate)("min",i.searchDet.fromDate)("max",i.maxDate)("matDatepicker",l),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngIf",i.submitSpinner),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",i.submitSpinner),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!i.submitSpinner)}}var Le,Ie=function(e){return{applied:e}},ye=((Le=function(){function e(t,n,a){l(this,e),this.skillingService=t,this.modalService=n,this.fb=a,this.filterFlag=!1,this.searchDet={},this.actionList=[],this.selectedBranch={},this.branchAccessList=[],this.deptList=[],this.loggedInEmpDet={},this.SingleDropdownSettings={},this.multipleDropdownSettings={},this.listLoading=!1,this.submitAttempted=!1,this.plantList=[],this.masterDeptList=[],this.isAppliedFilter=!1,this.masterLevelList=[],this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},this.getSkillMatrixOjtList=function(){var e=this;this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;var t={orgId:this.loggedInEmpDet.organization.orgId,offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};console.log(this.searchDet.branchId),t.branchId=null!=this.searchDet.branchId&&this.searchDet.branchId.length>0?this.searchDet.branchId[0].id:this.loggedInEmpDet.branch.branchId,null!=this.searchDet.deptId&&this.searchDet.deptId.length>0&&(t.deptId=this.searchDet.deptId[0].id),null!=this.searchDet.lineIds&&this.searchDet.lineIds.length>0&&(t.lineIds=this.getIDsArray(this.searchDet.lineIds)),null!=this.searchDet.fromDate&&(t.fromDt=le(this.searchDet.fromDate).format("YYYY-MM-DD")),null!=this.searchDet.toDate&&(t.toDate=le(this.searchDet.toDate).format("YYYY-MM-DD")),null!=this.searchDet.skillLvlId&&this.searchDet.skillLvlId.length>0&&(t.skillLevelId=this.searchDet.skillLvlId[0].id),this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction.toUpperCase()),this.skillingService.getSkillMatrixActionList("apis/sm/getSkillMatrixActionList",t).subscribe(function(t){t.result?(1==e.staticPagination.page&&(e.staticPagination.total=t.totalCount,e.staticPagination.totalPages=Math.ceil(t.totalCount/e.staticPagination.itemsPerPage)),null!=t.smActionList&&t.smActionList.length>0?(e.actionList=t.smActionList,console.log(e.actionList),e.staticPagination.listLength=e.actionList.length):(e.actionList=[],e.staticPagination.listLength=e.actionList.length)):(e.actionList=[],e.listLoading=!1,e.staticPagination.listLength=e.actionList.length)}),console.log(t)}}return r(e,[{key:"ngOnInit",value:function(){this.loggedInEmpDet=JSON.parse(localStorage.getItem("userDet")),this.filterFormData=this.fb.group({branch:new h.f("",h.z.required),dept:new h.f(""),lineIds:new h.f(""),fromDate:new h.f(""),toDate:new h.f(""),skillLvlId:new h.f("")}),this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.multipleDropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0},this.getBranchAccessList(),this.getSkillMatrixOjtList(),this.getMasterSkillLevelList()}},{key:"getSearchList",value:function(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getSkillMatrixOjtList()}},{key:"filterModalOpen",value:function(e){this.filterFlag=!0,this.modalService.open(e,{windowClass:"filterPopup"})}},{key:"getBranchAccessList",value:function(){var e=this;this.skillingService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.loggedInEmpDet.organization.orgId+"/"+this.loggedInEmpDet.empId).subscribe(function(t){e.plantList=t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?e.setArray(t.branchAccessList,"branchId","branchName"):[{id:e.loggedInEmpDet.branch.branchId,name:e.loggedInEmpDet.branch.name}]})}},{key:"getDeptList",value:function(e){var t=this;this.skillingService.getdepartmentlistbybranchid("getdepartmentlistbybranchid/"+e.id).subscribe(function(e){e.result&&null!=e.deptList&&e.deptList.length>0?(t.masterDeptList=t.setArray(e.deptList,"deptId","deptName"),console.log(t.masterDeptList)):t.masterDeptList=[]})}},{key:"submitFilterForm",value:function(e){this.submitAttempted=!0,e.invalid?Object.keys(e.controls).forEach(function(t){e.controls[t].markAsDirty()}):(this.clearPagination(),this.isAppliedFilter=!0,this.searchDet.filterFlag=!0,this.staticPagination.offset=0,this.staticPagination.itemsPerPage=10,this.modalService.dismissAll(),this.getSkillMatrixOjtList())}},{key:"removeFilter",value:function(){this.isAppliedFilter=!1,this.filterFormData.reset(),this.searchDet.branchId=[],this.searchDet.deptId=[],this.searchDet.lineIds=[],this.searchDet.fromDate=null,this.searchDet.toDate=null,this.searchDet.skillLvlId=[],this.getSkillMatrixOjtList()}},{key:"setArray",value:function(e,n,a){var l=[];if(null!=e&&e.length>0){var i,r=t(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.id=o[n],o.name=o[a],l.push(o)}}catch(s){r.e(s)}finally{r.f()}}return l}},{key:"onChange",value:function(e,t){console.log(e),e?"plant"==t?(this.getDeptList(e),this.searchDet.deptId=[],this.searchDet.lineIds=[]):"dept"==t&&(this.getCellList(e),this.searchDet.lineIds=[]):"plant"==t?this.searchDet&&(this.searchDet.departmentList=[]):"dept"==t&&this.searchDet&&(this.searchDet.cellLineList=[])}},{key:"loadMore",value:function(e){this.staticPagination=e,this.actionList=[],this.listLoading=!0,this.getSkillMatrixOjtList()}},{key:"sortData",value:function(e){this.sorting=e,this.getSkillMatrixOjtList()}},{key:"clearPagination",value:function(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}},{key:"getSortFunction",value:function(e,t){return e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"plant"!==t||e.sort(function(e,t){var n=e.name?e.name.toUpperCase():"",a=t.name?t.name.toUpperCase():"";return n<a?-1:n>a?1:0})),e}},{key:"selectCustomDate",value:function(e,t){console.log("From Date:",e),console.log("To Date:",t),null!=e.value&&null!=e.value&&""!=e.value&&(this.searchDet.fromDate=new Date(e.value)),null!=t.value&&null!=t.value&&""!=t.value&&(this.searchDet.toDate=new Date(t.value))}},{key:"getMasterSkillLevelList",value:function(){var e=this;this.skillingService.getMasterLevelList("apis/sm/getLevelList").subscribe(function(t){e.masterLevelList=t.result&&null!=t.dataList&&t.dataList.length>0?e.setArray(t.dataList,"id","levelName"):[]})}},{key:"getCellList",value:function(e){var t=this;this.skillingService.getCellList("apis/sm/getCellList",{branchId:this.searchDet.branchId[0].id,deptId:e.id}).subscribe(function(e){e.result&&null!=e.dataList&&e.dataList.length>0?(t.cellList=t.setArray(e.dataList,"lineId","lineName"),console.log(t.cellList),console.log(t.searchDet.cell)):t.cellList=[]})}},{key:"onChangeAll",value:function(e,t){e?console.log("Select All action"):console.log("Unselect All action")}},{key:"getIDsArray",value:function(e){var n=[];if(null!=e&&e.length>0){var a,l=t(e);try{for(l.s();!(a=l.n()).done;){var i=a.value;n.push(i.id)}}catch(r){l.e(r)}finally{l.f()}}return n}}]),e}()).\u0275fac=function(e){return new(e||Le)(p["\u0275\u0275directiveInject"](c.a),p["\u0275\u0275directiveInject"](u.j),p["\u0275\u0275directiveInject"](h.e))},Le.\u0275cmp=p["\u0275\u0275defineComponent"]({type:Le,selectors:[["app-actions"]],decls:56,vars:12,consts:[[1,"row","m-0"],[1,"col-11","m-auto"],["title","Actions"],[1,"col-1","p-0","m-auto","text-center"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"p-l-0","p-r-5","col-4"],[1,"p-l-0","p-r-5",3,"ngClass"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","name","searchInput","placeholder","Search here..","autocomplete","off",1,"form-control",2,"border-bottom","1px solid #7044cd",3,"ngModel","ngModelChange","keyup"],[1,"col-4","p-r-5","p-l-5","form-group"],[1,"col-4","p-0"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["datatable","","matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName",1,"fixedColumn"],["mat-sort-header","AssignedEmpId",1,""],["mat-sort-header","AssignedEmpName",1,""],["mat-sort-header","CmpyEmpId",1,""],["mat-sort-header","EmpName",1,""],["mat-sort-header","DeptName",1,""],["mat-sort-header","Line",1,""],["mat-sort-header","Workstation",1,""],["mat-sort-header","LevelName",1,""],["mat-sort-header","ActivityDate",1,""],["mat-sort-header","Activity",1,""],["mat-sort-header","status",1,"pending","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["filterPopup",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[1,"actionTd","fixedColumn"],[1,"actionTd","fixedColumn",3,"ngClass"],["colspan","8","class","text-center no-record-found",4,"ngIf"],["colspan","8","class","text-center loading-div",4,"ngIf"],["colspan","8",1,"text-center","no-record-found"],["colspan","8",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","branch",1,"col-sm-12","col-form-label","filter-label"],[1,"col-sm-12"],["name","branch","id","branch","formControlName","branch",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","disabled","ngModel","ngModelChange","onSelect","onDeSelect"],["class","custom-errorMsg","style","padding-left: 15px;z-index: 10;",4,"ngIf"],["for","opt",1,"col-sm-12","col-form-label","filter-label"],["name","dept","id","dept","formControlName","dept",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","disabled","ngModel","ngModelChange","onSelect","onDeSelect"],["name","opt","formControlName","lineIds",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onSelectAll"],["for","skillLvlId",1,"col-sm-12","col-form-label","filter-label","p-b-0"],["name","skillLvlId","id","skillLvlId","formControlName","skillLvlId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],[1,"input-group","m-0","custom-Input-Group",3,"click"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"feather","icon-calendar"],["matInput","","placeholder","From Date","formControlName","fromDate","name","opt",1,"form-control","datePickInput",3,"ngModel","max","matDatepicker","ngModelChange","keydown","dateChange"],["startDatePicker",""],["matInput","","placeholder","To Date","formControlName","toDate","name","opt",1,"form-control","datePickInput",3,"ngModel","min","max","matDatepicker","ngModelChange","keydown","dateChange"],["toDatePicker",""],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg",2,"padding-left","15px","z-index","10"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275element"](2,"app-topBar",2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"div",3),p["\u0275\u0275elementStart"](4,"div",4),p["\u0275\u0275elementStart"](5,"button",5),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275reference"](55);return t.filterModalOpen(e)}),p["\u0275\u0275element"](6,"i",6),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](7,ce,2,0,"div",7),p["\u0275\u0275template"](8,de,2,0,"div",8),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](9,"div",9),p["\u0275\u0275elementStart"](10,"div",10),p["\u0275\u0275elementStart"](11,"div",0),p["\u0275\u0275elementStart"](12,"div",11),p["\u0275\u0275elementStart"](13,"div",0),p["\u0275\u0275elementStart"](14,"div",12),p["\u0275\u0275elementStart"](15,"div",13),p["\u0275\u0275template"](16,me,1,0,"span",14),p["\u0275\u0275template"](17,he,1,0,"span",15),p["\u0275\u0275elementStart"](18,"input",16),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](19,"div",17),p["\u0275\u0275element"](20,"div",18),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](21,"div",19),p["\u0275\u0275elementStart"](22,"div",20),p["\u0275\u0275elementStart"](23,"table",21),p["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),p["\u0275\u0275elementStart"](24,"thead"),p["\u0275\u0275elementStart"](25,"tr"),p["\u0275\u0275elementStart"](26,"th",22),p["\u0275\u0275text"](27,"Plant"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"th",23),p["\u0275\u0275text"](29," Assigned Emp ID"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](30,"th",24),p["\u0275\u0275text"](31,"Assigned Name"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](32,"th",25),p["\u0275\u0275text"](33,"Emp ID"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](34,"th",26),p["\u0275\u0275text"](35,"Emp Name"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](36,"th",27),p["\u0275\u0275text"](37,"Department"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](38,"th",28),p["\u0275\u0275text"](39,"Cell/Line"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](40,"th",29),p["\u0275\u0275text"](41,"Workstation"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](42,"th",30),p["\u0275\u0275text"](43,"Level"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](44,"th",31),p["\u0275\u0275text"](45,"Assigned Date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](46,"th",32),p["\u0275\u0275text"](47,"Activity"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](48,"th",33),p["\u0275\u0275text"](49,"Status"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](50,"tbody"),p["\u0275\u0275template"](51,ue,26,19,"tr",34),p["\u0275\u0275template"](52,ve,3,2,"tr",35),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](53,"app-pagination",36),p["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](54,Ce,57,30,"ng-template",null,37,p["\u0275\u0275templateRefExtractor"])}2&e&&(p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](10,Ie,t.isAppliedFilter)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.isAppliedFilter),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAppliedFilter),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngClass",t.filterFlag?"col-6":"col-12"),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.searchDet.searchData),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),p["\u0275\u0275advance"](33),p["\u0275\u0275property"]("ngForOf",t.actionList),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",null==t.actionList||0==t.actionList.length),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[g.a,o.NgClass,o.NgIf,h.c,h.o,h.r,ie.a,ie.b,o.NgForOf,re.a,v.a,h.A,h.p,h.h,D.b,f.a,h.g,oe.b,se.b,se.a],pipes:[o.DatePipe],styles:[".tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .fixedColumn[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;border-left:none;border-right:none}"]}),Le),Ee=i("Oq+w");function Me(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",37),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().removeFilter()}),p["\u0275\u0275text"](1,"x"),p["\u0275\u0275elementEnd"]()}}function we(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",38),p["\u0275\u0275text"](1,"Filter Applied"),p["\u0275\u0275elementEnd"]())}function Pe(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"span",39),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().getSearchList(!0)}),p["\u0275\u0275elementEnd"]()}}function Fe(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"span",40),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().getSearchList(!1)}),p["\u0275\u0275elementEnd"]()}}var Ae=function(e,t){return{completed:e,pending:t}};function Oe(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275elementStart"](1,"td",41),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"td"),p["\u0275\u0275text"](4),p["\u0275\u0275pipe"](5,"date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"td"),p["\u0275\u0275text"](7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](8,"td"),p["\u0275\u0275text"](9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](10,"td"),p["\u0275\u0275text"](11),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"td"),p["\u0275\u0275text"](13),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](14,"td"),p["\u0275\u0275text"](15),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](16,"td"),p["\u0275\u0275text"](17),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](18,"td"),p["\u0275\u0275text"](19),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](20,"td"),p["\u0275\u0275text"](21),p["\u0275\u0275pipe"](22,"date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"td"),p["\u0275\u0275text"](24),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](25,"td",42),p["\u0275\u0275text"](26),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](27,"td",43),p["\u0275\u0275elementStart"](28,"i",44),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=t.$implicit,a=p["\u0275\u0275nextContext"](),l=p["\u0275\u0275reference"](57);return a.openViewModal(l,e)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.branchName||"N/A"),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind2"](5,13,a.ojtStartDate,"dd-MM-yyyy")),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](a.cmpEmpId),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.empName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.title),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.deptName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.workstationName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.levelName||"N/A"),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.assessmentType||"N/A"),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.assessmentDate?p["\u0275\u0275pipeBind2"](22,16,a.assessmentDate,"dd-MM-yyyy"):"N/A"),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](a.score),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction2"](19,Ae,"PASS"==a.status,"FAIL"==a.status)),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",a.status||"N/A","")}}function Ne(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",47),p["\u0275\u0275text"](1," Data not found "),p["\u0275\u0275elementEnd"]())}function _e(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",48),p["\u0275\u0275element"](1,"app-loading"),p["\u0275\u0275elementEnd"]())}function Ve(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275template"](1,Ne,2,0,"td",45),p["\u0275\u0275template"](2,_e,2,0,"td",46),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!n.listLoading),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.listLoading)}}function We(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1," Please select plant "),p["\u0275\u0275elementEnd"]())}function Te(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",69),p["\u0275\u0275template"](1,We,2,0,"div",33),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.filterData.controls.branchId.errors.required)}}function Be(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1," Please select department "),p["\u0275\u0275elementEnd"]())}function Re(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",69),p["\u0275\u0275template"](1,Be,2,0,"div",33),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.filterData.controls.deptLvlId.errors.required)}}function je(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1," Please select workstation "),p["\u0275\u0275elementEnd"]())}function Ye(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",69),p["\u0275\u0275template"](1,je,2,0,"div",33),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.submitAttempted&&n.filterData.controls.masterWork.errors.required)}}function ze(e,t){1&e&&p["\u0275\u0275element"](0,"span",70)}function Ue(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",71),p["\u0275\u0275text"](1," Loading..."),p["\u0275\u0275elementEnd"]())}function $e(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",72),p["\u0275\u0275text"](1,"Apply Filter"),p["\u0275\u0275elementEnd"]())}function He(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",49),p["\u0275\u0275elementStart"](1,"h4",50),p["\u0275\u0275text"](2,"Filter"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"button",51),p["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),p["\u0275\u0275elementStart"](4,"span",52),p["\u0275\u0275text"](5,"\xd7"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",53),p["\u0275\u0275listener"]("ngSubmit",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275nextContext"]();return e.submitFilterForm(e.filterData)}),p["\u0275\u0275elementStart"](7,"div",54),p["\u0275\u0275elementStart"](8,"perfect-scrollbar"),p["\u0275\u0275elementStart"](9,"div",55),p["\u0275\u0275elementStart"](10,"label",56),p["\u0275\u0275text"](11,"Plant"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"div",57),p["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",58),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.branchId=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(e,"plant")})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onDeSelectPlant(!1,"plant")}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](14,Te,2,1,"div",59),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"div",55),p["\u0275\u0275elementStart"](16,"label",60),p["\u0275\u0275text"](17,"Department"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](18,"div",57),p["\u0275\u0275elementStart"](19,"ng-multiselect-dropdown",61),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.deptIds=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(e,"plant")})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(!1,"plant")})("onSelectAll",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeAll(e,"userType")})("onDeSelectAll",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeAll(e,"userType")}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](20,Re,2,1,"div",59),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](21,"div",55),p["\u0275\u0275elementStart"](22,"label",62),p["\u0275\u0275text"](23,"Workstation"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](24,"div",57),p["\u0275\u0275elementStart"](25,"ng-multiselect-dropdown",63),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.masterWorkList=e}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](26,Ye,2,1,"div",59),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](27,"div",64),p["\u0275\u0275elementStart"](28,"button",65),p["\u0275\u0275template"](29,ze,1,0,"span",66),p["\u0275\u0275template"](30,Ue,2,0,"span",67),p["\u0275\u0275template"](31,$e,2,0,"span",68),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var a=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("formGroup",a.filterData),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("placeholder","Select Plant")("settings",a.SingleDropdownSettings)("data",a.getSortFunction(a.plantList,"plant"))("ngModel",a.searchDet.branchId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.submitAttempted&&a.filterData.controls.branchId.invalid&&(a.filterData.controls.branchId.touched||a.filterData.controls.branchId.dirty)),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("placeholder","Select Department")("settings",a.multipleDropdownSettings)("data",a.getSortFunction(a.masterDeptList,"cell"))("ngModel",a.searchDet.deptIds),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.submitAttempted&&a.filterData.controls.deptLvlId.invalid&&(a.filterData.controls.deptLvlId.touched||a.filterData.controls.deptLvlId.dirty)),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("placeholder","Select Workstation")("settings",a.multipleDropdownSettings)("data",a.getSortFunction(a.masterWorkList,"work"))("disabled",!1)("ngModel",a.searchDet.masterWorkList),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.filterData.controls.masterWork.invalid&&(a.filterData.controls.masterWork.touched||a.filterData.controls.masterWork.dirty)),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",a.submitSpinner),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.submitSpinner),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}function qe(e,t){if(1&e&&p["\u0275\u0275element"](0,"app-assessessment-detail-modal",73),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275property"]("selectedDetail",n.selectedRecForModal)}}var Ge,Qe=function(e){return{applied:e}},Je=((Ge=function(){function e(t,n,a){l(this,e),this.skillingService=t,this.modalService=n,this.fb=a,this.SingleDropdownSettings={},this.multipleDropdownSettings={},this.searchDet={},this.isUpload=!1,this.filterFlag=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},this.submitAttempted=!1}return r(e,[{key:"ngOnInit",value:function(){this.loggedInEmpDet=JSON.parse(localStorage.getItem("userDet")),this.filterData=this.fb.group({branchId:new h.f("",h.z.required),masterWork:new h.f(""),deptLvlId:new h.f("")}),this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.multipleDropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0},this.getMasterSkillLevelList(),this.getAccessiblePlantList(),this.getAssessmentList("")}},{key:"getAssessmentList",value:function(e){var t=this;this.assessmentData=[],this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;var n={orgId:this.loggedInEmpDet.organization.orgId,offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};"filter"==e?(null!=this.searchDet.branchId&&this.searchDet.branchId.length>0&&(n.branchId=this.searchDet.branchId[0].id),null!=this.searchDet.deptIds&&this.searchDet.deptIds.length>0&&(n.deptIds=this.getIDsArray(this.searchDet.deptIds)),null!=this.searchDet.masterWorkList&&this.searchDet.masterWorkList.length>0&&(n.workstationIds=this.getIDsArray(this.searchDet.masterWorkList))):n.branchId=this.loggedInEmpDet.branch.branchId,this.searchDet.searchData&&this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(n.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(n.colName=this.sorting.active,n.orderType=this.sorting.direction.toUpperCase()),console.log(n),this.skillingService.getAssessmentDisplay("apis/sm/getOJTAssessmentsList",n).subscribe(function(e){e.result?(1==t.staticPagination.page&&(t.staticPagination.total=e.totalCount,t.staticPagination.totalPages=Math.ceil(e.totalCount/t.staticPagination.itemsPerPage)),null!=e.dataList&&e.dataList.length>0?(t.assessmentData=e.dataList,console.log(t.assessmentData),t.staticPagination.listLength=e.dataList.length):t.assessmentData=[]):t.assessmentData=[]})}},{key:"filterModalOpen",value:function(e){this.filterFlag=!0,this.modalService.open(e,{windowClass:"filterPopup"})}},{key:"getAccessiblePlantList",value:function(){var e=this;this.skillingService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.loggedInEmpDet.organization.orgId+"/"+this.loggedInEmpDet.empId).subscribe(function(t){t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?(e.plantList=e.setArray(t.branchAccessList,"branchId","branchName"),e.searchDet.plantList=e.setArray(t.branchAccessList,"branchId","branchName")):e.plantList=[{id:e.loggedInEmpDet.branch.branchId,name:e.loggedInEmpDet.branch.name}],e.getAssessmentList("")})}},{key:"getMasterSkillLevelList",value:function(){var e=this;this.skillingService.getMasterLevelList("apis/sm/getLevelList").subscribe(function(t){e.masterLevelList=t.result&&null!=t.dataList&&t.dataList.length>0?e.setArray(t.dataList,"id","levelName"):[]})}},{key:"getMasterDepartmentList",value:function(e){var t=this;this.skillingService.getMasterDepartmentList("getdepartmentlistbybranchid/"+e.id).subscribe(function(e){e.result?(console.log(e),null!=e.deptList&&e.deptList.length>0?(t.masterDeptList=t.setArray(e.deptList,"deptId","deptName"),t.searchDet.departmentList=t.setArray(e.deptList,"deptId","deptName"),t.getWorkstationList()):t.masterDeptList=[]):t.masterDeptList=[]})}},{key:"getWorkstationList",value:function(){var e=this;this.listLoading=!0;var t={branchId:this.searchDet.branchId[0].id,orgId:this.loggedInEmpDet.organization.orgId};if(null!=this.getIDsArray(this.searchDet.deptIds)&&this.getIDsArray(this.searchDet.deptIds).length>0)for(var n=0;n<this.getIDsArray(this.searchDet.deptIds).length;n++)t.deptIds=this.getIDsArray(this.searchDet.deptIds),console.log(t.deptIds);console.log(t),this.skillingService.getWorkstationList("apis/sm/getWorkstationList",t).subscribe(function(t){console.log(t),e.listLoading=!1,t.result&&null!=t.dataList&&t.dataList.length>0?(e.worksatationData=t.dataList,e.masterWorkList=e.setArray(t.dataList,"id","workstation"),e.searchDet.masterWorkStationList=e.setArray(t.dataList,"id","workstation"),console.log(e.searchDet.masterWorkList)):e.worksatationData=[]})}},{key:"setArray",value:function(e,n,a){var l=[];if(null!=e&&e.length>0){var i,r=t(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.id=o[n],o.name=o[a],l.push(o)}}catch(s){r.e(s)}finally{r.f()}}return l}},{key:"openViewModal",value:function(e,t){console.log(t),this.selectedRecForModal="",this.selectedRecForModal=t,console.log(this.selectedRecForModal),this.modalService.open(e,{windowClass:"right"}).result.then(function(e){},function(e){})}},{key:"loadMore",value:function(e){this.staticPagination=e,this.getAssessmentList("")}},{key:"sortData",value:function(e){this.sorting=e,this.getAssessmentList("")}},{key:"submitFilterForm",value:function(e){this.submitAttempted=!0,e.invalid?Object.keys(e.controls).forEach(function(t){e.controls[t].markAsDirty()}):(this.clearPagination(),this.searchDet.filterFlag=!0,this.getAssessmentList("filter"),this.modalService.dismissAll())}},{key:"removeFilter",value:function(){this.submitAttempted=!1,this.filterData.patchValue({branchId:[],deptLvlId:[],masterWork:[]}),this.searchDet.branchId=[],this.searchDet.deptIds=[],this.searchDet.masterWorkList=[],this.searchDet.filterFlag=!1,this.getAssessmentList("")}},{key:"resetFormField",value:function(e,t){Object.keys(e.controls).forEach(function(n){""!=t&&n==t?(e.get(t).reset(),e.get(t).markAsPristine(),e.get(t).markAsUntouched()):(e.get(n).reset(),e.get(n).markAsPristine(),e.get(n).markAsUntouched())})}},{key:"onChangeAll",value:function(e,t){e?console.log("Select All action"):console.log("Unselect All action")}},{key:"onChange",value:function(e,t){e?"plant"==t&&this.getMasterDepartmentList(e):"plant"==t&&this.searchDet.filterModalOpen&&(this.searchDet.departmentList=[],this.resetFormField(this.filterData,"deptIds"))}},{key:"getIDsArray",value:function(e){var n=[];if(null!=e&&e.length>0){var a,l=t(e);try{for(l.s();!(a=l.n()).done;){var i=a.value;n.push(i.id)}}catch(r){l.e(r)}finally{l.f()}}return n}},{key:"getSearchList",value:function(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getAssessmentList(this.filterFlag?"filter":"")}},{key:"clearPagination",value:function(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}},{key:"getSortFunction",value:function(e,t){return e&&Array.isArray(e)&&e.length>0&&("plant"!==t&&"cell"!==t&&"work"!==t||e.sort(function(e,t){var n=e.name?e.name.toUpperCase():"",a=t.name?t.name.toUpperCase():"";return n<a?-1:n>a?1:0})),e}}]),e}()).\u0275fac=function(e){return new(e||Ge)(p["\u0275\u0275directiveInject"](c.a),p["\u0275\u0275directiveInject"](u.j),p["\u0275\u0275directiveInject"](h.e))},Ge.\u0275cmp=p["\u0275\u0275defineComponent"]({type:Ge,selectors:[["app-assessments"]],decls:58,vars:11,consts:[[1,"row","m-0"],[1,"col-8","m-auto"],["title","Assessments"],[1,"col-3","m-auto"],[1,"col-1","p-0","m-auto","text-center"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent","row","m-0"],[1,"col-4"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","name","searchInput","placeholder","Search By Name","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col-4","p-0"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["datatable","","matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName",1,"fixedColumn"],["mat-sort-header","EmpName",1,""],["mat-sort-header","AssessmentTitle",1,""],["mat-sort-header","DeptName",1,""],["mat-sort-header","Workstation",1,""],["mat-sort-header","SkillLevel",1,""],["mat-sort-header","AssessmentType",1,""],["mat-sort-header","AssessmentDate",1,""],["mat-sort-header","Score",1,""],["mat-sort-header","Status",1,"fixedColumn"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["FilterModal",""],["assessmentDetail",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[1,"actionTd","fixedColumn","text-left"],[1,"actionTd","fixedColumn",3,"ngClass"],[1,"actionTd","fixedColumn"],[1,"fa","fa-eye","viewIcon",2,"cursor","pointer",3,"click"],["colspan","8","class","text-center no-record-found",4,"ngIf"],["colspan","8","class","text-center loading-div",4,"ngIf"],["colspan","8",1,"text-center","no-record-found"],["colspan","8",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","branchId",1,"col-sm-12","col-form-label","filter-label","p-b-0"],[1,"col-sm-12"],["name","branchId","id","branchId","formControlName","branchId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],["class","custom-errorMsg",4,"ngIf"],["for","deptLvlId",1,"col-sm-12","col-form-label","filter-label","p-b-0"],["name","deptLvlId","id","deptLvlId","formControlName","deptLvlId",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],["for","opt",1,"col-sm-12","col-form-label","filter-label"],["name","masterWorkList","id","masterWorkList","formControlName","masterWork",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","disabled","ngModel","ngModelChange"],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"],[3,"selectedDetail"]],template:function(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275element"](2,"app-topBar",2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](3,"div",3),p["\u0275\u0275elementStart"](4,"div",4),p["\u0275\u0275elementStart"](5,"div",5),p["\u0275\u0275elementStart"](6,"button",6),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275reference"](55);return t.filterModalOpen(e)}),p["\u0275\u0275element"](7,"i",7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](8,Me,2,0,"div",8),p["\u0275\u0275template"](9,we,2,0,"div",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](10,"div",10),p["\u0275\u0275elementStart"](11,"div",11),p["\u0275\u0275elementStart"](12,"div",12),p["\u0275\u0275elementStart"](13,"div",13),p["\u0275\u0275template"](14,Pe,1,0,"span",14),p["\u0275\u0275template"](15,Fe,1,0,"span",15),p["\u0275\u0275elementStart"](16,"input",16),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](17,"div",17),p["\u0275\u0275element"](18,"div",17),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](19,"div",18),p["\u0275\u0275elementStart"](20,"div",19),p["\u0275\u0275elementStart"](21,"table",20),p["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),p["\u0275\u0275elementStart"](22,"thead"),p["\u0275\u0275elementStart"](23,"tr"),p["\u0275\u0275elementStart"](24,"th",21),p["\u0275\u0275text"](25,"Plant"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](26,"th"),p["\u0275\u0275text"](27,"OJT Start Date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"th"),p["\u0275\u0275text"](29,"Emp ID"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](30,"th",22),p["\u0275\u0275text"](31,"Emp Name"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](32,"th",23),p["\u0275\u0275text"](33,"Assessment Title"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](34,"th",24),p["\u0275\u0275text"](35,"Department"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](36,"th",25),p["\u0275\u0275text"](37,"Workstation"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](38,"th",26),p["\u0275\u0275text"](39,"Level"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](40,"th",27),p["\u0275\u0275text"](41,"Assessment Type"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](42,"th",28),p["\u0275\u0275text"](43,"Assessment Date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](44,"th",29),p["\u0275\u0275text"](45,"Score"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](46,"th",30),p["\u0275\u0275text"](47,"Status"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](48,"th",31),p["\u0275\u0275text"](49,"Action"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](50,"tbody"),p["\u0275\u0275template"](51,Oe,29,22,"tr",32),p["\u0275\u0275template"](52,Ve,3,2,"tr",33),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](53,"app-pagination",34),p["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](54,He,32,20,"ng-template",null,35,p["\u0275\u0275templateRefExtractor"]),p["\u0275\u0275template"](56,qe,1,1,"ng-template",null,36,p["\u0275\u0275templateRefExtractor"])}2&e&&(p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](9,Qe,t.searchDet.filterFlag)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.searchDet.filterFlag),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.searchDet.filterFlag),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.searchDet.searchData),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),p["\u0275\u0275advance"](35),p["\u0275\u0275property"]("ngForOf",t.assessmentData),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",null==t.assessmentData||0==t.assessmentData.length),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[g.a,o.NgClass,o.NgIf,h.c,h.o,h.r,ie.a,ie.b,o.NgForOf,re.a,v.a,h.A,h.p,h.h,D.b,f.a,h.g,Ee.a],pipes:[o.DatePipe],styles:[".headerTitle[_ngcontent-%COMP%]{color:#7044cd!important;font:normal normal 500 18px/1.5 Helvetica Neue!important}.tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .fixedColumn[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;border-left:none;border-right:none}.tableFixHead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(11), .tableFixHead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(11){width:150px;min-width:150px;max-width:150px;right:72px}"]}),Ge),Ke=i("7jS0");function Xe(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2).$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" (",n.levelName,") ")}}function Ze(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"th",41),p["\u0275\u0275text"](2),p["\u0275\u0275template"](3,Xe,2,1,"ng-container",34),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]().$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",n.heading,""),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.hasOwnProperty("levelName")&&n.levelName)}}function et(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,Ze,4,2,"ng-container",34),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf","Add"!=a.selectedDet.title||"empId"!=n.field&&"cmpyEmpId"!=n.field&&"empName"!=n.field)}}function tt(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2).$implicit,a=p["\u0275\u0275nextContext"](3).$implicit,l=p["\u0275\u0275nextContext"](3);p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" \xa0(",l.isChecked(n,a.field).level,") ")}}var nt=function(e){return{"red-text":e}};function at(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",44),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275nextContext"]().$implicit,t=p["\u0275\u0275nextContext"](3).$implicit,a=p["\u0275\u0275nextContext"](3);return"View"==a.selectedDet.title?"":a.onChangeEmp(e,t,"remove")}),p["\u0275\u0275element"](1,"input",45),p["\u0275\u0275elementStart"](2,"label",46),p["\u0275\u0275text"](3),p["\u0275\u0275template"](4,tt,2,1,"ng-container",34),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var a=p["\u0275\u0275nextContext"]().$implicit,l=p["\u0275\u0275nextContext"](3).$implicit,i=p["\u0275\u0275nextContext"](3);p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](7,nt,0==a.isEligible)),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("checked",a.isSelected)("id","checkbox"+a.empId+"_"+l.field)("disabled","View"==i.selectedDet.title),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("for","checkbox"+a.empId+"_"+l.field),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",a.empName," "),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!i.isObjectEmpty(i.isChecked(a,l.field)))}}function lt(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,at,5,9,"div",43),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=p["\u0275\u0275nextContext"](3).$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.isSelected&&a.id==n.workstationId)}}function it(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,lt,2,1,"ng-container",40),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](5);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",n.selectedWorkForceData)}}function rt(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2).$implicit,a=p["\u0275\u0275nextContext"](3).$implicit,l=p["\u0275\u0275nextContext"](3);p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" \xa0(",l.isChecked(n,a.field).level,") ")}}function ot(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",48),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275nextContext"]().$implicit,t=p["\u0275\u0275nextContext"](3).$implicit;return p["\u0275\u0275nextContext"](3).onChangeEmp(e,t,"add")}),p["\u0275\u0275element"](1,"input",49),p["\u0275\u0275elementStart"](2,"label",46),p["\u0275\u0275text"](3),p["\u0275\u0275template"](4,rt,2,1,"ng-container",34),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var a=p["\u0275\u0275nextContext"]().$implicit,l=p["\u0275\u0275nextContext"](3).$implicit,i=p["\u0275\u0275nextContext"](3);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("checked",a.isSelected)("id","checkbox"+a.empId+"_"+l.field),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("for","checkbox"+a.empId+"_"+l.field),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",a.empName," "),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!i.isObjectEmpty(i.isChecked(a,l.field)))}}function st(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,ot,5,5,"div",47),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!n.isSelected)}}function ct(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,st,2,1,"ng-container",40),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](5);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",n.skillMatrixDetails.tableData)}}function dt(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"td",42),p["\u0275\u0275template"](2,it,2,1,"ng-container",34),p["\u0275\u0275template"](3,ct,2,1,"ng-container",34),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](4);p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",null!=n.selectedWorkForceData&&n.selectedWorkForceData.length>0),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",null!=n.skillMatrixDetails.tableData&&n.skillMatrixDetails.tableData.length>0)}}function mt(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,dt,4,2,"ng-container",34),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=p["\u0275\u0275nextContext"](3);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf","Add"!=a.selectedDet.title||"empId"!=n.field&&"cmpyEmpId"!=n.field&&"empName"!=n.field)}}function ht(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275template"](1,mt,2,1,"ng-container",40),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",n.skillMatrixDetails.columns)}}function pt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",52),p["\u0275\u0275text"](1," Data Not Found "),p["\u0275\u0275elementEnd"]())}function ut(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",53),p["\u0275\u0275element"](1,"app-loading"),p["\u0275\u0275elementEnd"]())}function gt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275template"](1,pt,2,0,"td",50),p["\u0275\u0275template"](2,ut,2,0,"td",51),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!n.listLoader),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.listLoader)}}function ft(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"thead"),p["\u0275\u0275elementStart"](2,"tr"),p["\u0275\u0275template"](3,et,2,1,"ng-container",40),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"tbody"),p["\u0275\u0275template"](5,ht,2,1,"tr",34),p["\u0275\u0275template"](6,gt,3,2,"tr",34),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngForOf",n.skillMatrixDetails.columns),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",!n.isObjectEmpty(n.skillMatrixDetails)),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.isObjectEmpty(n.skillMatrixDetails))}}function vt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",56),p["\u0275\u0275text"](1," Data Not Found "),p["\u0275\u0275elementEnd"]())}function Dt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",57),p["\u0275\u0275element"](1,"app-loading"),p["\u0275\u0275elementEnd"]())}function xt(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"tbody"),p["\u0275\u0275elementStart"](2,"tr"),p["\u0275\u0275template"](3,vt,2,0,"td",54),p["\u0275\u0275template"](4,Dt,2,0,"td",55),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",!n.listLoader),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.listLoader)}}function St(e,t){1&e&&p["\u0275\u0275element"](0,"span",62)}function bt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",63),p["\u0275\u0275text"](1," Loading..."),p["\u0275\u0275elementEnd"]())}function kt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",64),p["\u0275\u0275text"](1,"Submit "),p["\u0275\u0275elementEnd"]())}function Ct(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"button",58),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275nextContext"]();return e.submitLoader?"":e.saveWorkForce()}),p["\u0275\u0275template"](1,St,1,0,"span",59),p["\u0275\u0275template"](2,bt,2,0,"span",60),p["\u0275\u0275template"](3,kt,2,0,"span",61),p["\u0275\u0275elementEnd"]()}if(2&e){var a=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.submitLoader),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.submitLoader),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!a.submitLoader)}}var Lt,It=((Lt=function(){function e(t,n,a){l(this,e),this.apiService=t,this.alertService=n,this.searchDet={},this.shiftList=[],this.branchAccessList=[],this.deptList=[],this.cellList=[],this.userDet={},this.submitLoader=!1,this.listLoader=!1,this.skillMatrixDetails={},this.columns=[],this.SingleDropdownSettings={},this.constant={},this.minDate=le(),this.selectedWorkForceData=[],this.constant=a}return r(e,[{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.minDate=new Date,this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},"View"==this.selectedDet.title?(this.searchDet={branch:[{id:this.selectedDet.branchId,name:this.selectedDet.branchName}],dept:[{id:this.selectedDet.deptId,name:this.selectedDet.deptName}],cell:[{id:this.selectedDet.lineId,name:this.selectedDet.lineName}],shift:[{id:this.selectedDet.shiftId,name:this.selectedDet.shiftName}],maxDate:new Date(le(new Date).format("YYYY,MM,DD")),fromDate:new Date(le(this.selectedDet.fromDate).format("YYYY,MM,DD")),toDate:new Date(le(this.selectedDet.toDate).format("YYYY,MM,DD"))},this.getWFDetails()):(this.searchDet.maxDate=new Date(le(new Date).format("YYYY,MM,DD")),this.getBranchAccessList())}},{key:"getBranchAccessList",value:function(){var e=this;this.apiService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){e.branchAccessList=t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?e.setArray(t.branchAccessList,"branchId","branchName"):[{id:e.userDet.branch.branchId,name:e.userDet.branch.name}],e.branchAccessList=e.sortFunction(e.branchAccessList,"branchName"),e.searchDet.branch=[e.branchAccessList[0]],e.getDeptList(),e.getShiftData(e.searchDet.branch[0])})}},{key:"onChangeBranch",value:function(e){e?(this.getDeptList(),this.getShiftData(e),this.shiftList=[],this.searchDet.shift=[]):(this.deptList=[],this.searchDet.dept=[],this.cellList=[],this.searchDet.cell=[],this.shiftList=[],this.searchDet.shift=[])}},{key:"onChangeDept",value:function(e){e?this.getCellList():(this.skillMatrixDetails={},this.cellList=[],this.searchDet.cell=[])}},{key:"onChangeCell",value:function(e){e?this.getSkillMatixData():this.skillMatrixDetails={}}},{key:"onChangeShift",value:function(e){}},{key:"getDeptList",value:function(){var e=this;null!=this.searchDet.branch&&this.searchDet.branch.length>0?this.apiService.getdepartmentlistbybranchid("getdepartmentlistbybranchid/"+this.searchDet.branch[0].id).subscribe(function(t){t.result&&null!=t.deptList&&t.deptList.length>0?(e.deptList=e.setArray(t.deptList,"deptId","deptName"),e.deptList=e.sortFunction(e.deptList,"deptName"),e.searchDet.dept=[e.deptList[0]],e.getCellList()):e.deptList=[]}):(this.cellList=[],this.searchDet.cell=[],this.skillMatrixDetails={})}},{key:"getCellList",value:function(){var e=this,t={branchId:this.searchDet.branch[0].id};null!=this.searchDet.dept&&this.searchDet.dept.length>0&&(t.deptId=this.searchDet.dept[0].id),this.apiService.getCellList("apis/sm/getCellList",t).subscribe(function(t){t.result&&null!=t.dataList&&t.dataList.length>0?(t.dataList=e.sortFunction(t.dataList,"lineName"),e.cellList=e.setArray(t.dataList,"lineId","lineName"),e.searchDet.cell=[e.cellList[0]],e.getSkillMatixData()):e.cellList=[]})}},{key:"getShiftData",value:function(e){var t=this;this.apiService.getShiftData("apis/sm/getShiftList",{branchId:e.id}).subscribe(function(e){e.result&&null!=e.dataList&&e.dataList.length>0?(e.dataList=t.sortFunction(e.dataList,"shiftName"),t.shiftList=t.setArray(e.dataList,"id","shiftName")):t.shiftList=[]})}},{key:"selectDate",value:function(e,t){}},{key:"getWFDetails",value:function(){var e=this;this.skillMatrixDetails={},this.listLoader=!0,this.apiService.getWFDetailsList("apis/sm/getWorkForceDeploymentDetails",{deptId:this.selectedDet.deptId,shiftId:this.selectedDet.shiftId,branchId:this.selectedDet.branchId,lineId:this.selectedDet.lineId}).subscribe(function(t){if(e.listLoader=!1,t.result){if(e.skillMatrixDetails=t.data,null!=e.skillMatrixDetails.columns&&e.skillMatrixDetails.columns.length>0)for(var n=0;n<e.skillMatrixDetails.columns.length;n++)e.skillMatrixDetails.columns[n].id=e.skillMatrixDetails.columns[n].workstationId,e.skillMatrixDetails.columns[n].levelName=e.skillMatrixDetails.columns[n].level;if(null!=e.skillMatrixDetails.empList&&e.skillMatrixDetails.empList.length>0){e.selectedWorkForceData=[];for(var a=0;a<e.skillMatrixDetails.empList.length;a++)e.skillMatrixDetails.empList[a].isSelected=!0,e.selectedWorkForceData.push(e.skillMatrixDetails.empList[a])}}else e.skillMatrixDetails={}},function(t){e.skillMatrixDetails={},e.listLoader=!1})}},{key:"getSkillMatixData",value:function(){var e=this;this.skillMatrixDetails={},this.listLoader=!0;var t={orgId:this.userDet.organization.orgId,branchId:this.searchDet.branch[0].id};null!=this.searchDet.dept&&this.searchDet.dept.length>0&&(t.deptId=this.searchDet.dept[0].id),null!=this.searchDet.cell&&this.searchDet.cell.length>0&&(t.lineId=this.searchDet.cell[0].id),this.apiService.getSkillMatrixData("apis/sm/getSkillMatrixEmpList",t).subscribe(function(t){if(console.log(t),e.listLoader=!1,t.result){if(e.skillMatrixDetails=t.data,null!=e.skillMatrixDetails.tableData&&e.skillMatrixDetails.tableData.length>0){e.columns=[];for(var n=0;n<e.skillMatrixDetails.columns.length;n++)e.columns.push(e.skillMatrixDetails.columns[n].field);console.log(e.skillMatrixDetails);for(var a=0;a<e.skillMatrixDetails.tableData.length;a++)e.skillMatrixDetails.tableData[a].isSelected=!1}e.skillMatrixDetails.tableDataCopy=e.setArray(e.skillMatrixDetails.tableData,"empId","empName"),e.skillMatrixDetails.tableData=e.setArray(e.skillMatrixDetails.tableData,"empId","empName")}else e.skillMatrixDetails={}},function(t){e.skillMatrixDetails={},e.listLoader=!1})}},{key:"ngOnChanges",value:function(e){if(console.log(e),null!=this.selectedWorkForceData&&this.selectedWorkForceData.length>0){var n,a=t(this.selectedWorkForceData);try{for(a.s();!(n=a.n()).done;)for(var l=n.value,i=this.skillMatrixDetails.tableData.length;i--;)this.skillMatrixDetails.tableData[i].isSelected=!1,this.skillMatrixDetails.tableData[i].empId==l.empId&&(this.skillMatrixDetails.tableData[i].isSelected=!0)}catch(r){a.e(r)}finally{a.f()}}}},{key:"isCheckedStatus",value:function(e,t){for(var n in e)if(t===n&&e[n].hasOwnProperty("currentSkillLevelId")&&e[n].hasOwnProperty("requireSkillLevelId"))return e[n].currentSkillLevelId>=e[n].requireSkillLevelId;return!1}},{key:"isEligibleCheck",value:function(e,t){var n=!1;return e[t.field].currentSkillLevelId>=t.levelId&&(n=!0),n}},{key:"onChangeEmp",value:function(e,t,n){if(console.log(e),console.log(t),"add"==n){var a=e.name;this.isObjectEmpty(this.isChecked(e,t.field))||(a+=" ("+this.isChecked(e,t.field).level+")");var l={empId:e.id,empName:a,workstationId:t.id,isSelected:!0,isEligible:this.isEligibleCheck(e,t)};this.selectedWorkForceData.push(l);for(var i=this.skillMatrixDetails.tableData.length;i--;)this.skillMatrixDetails.tableData[i].empId==e.empId&&(this.skillMatrixDetails.tableData[i].isSelected=!0);console.log(this.selectedWorkForceData)}else{if(null!=this.selectedWorkForceData&&this.selectedWorkForceData.length>0)for(var r=this.selectedWorkForceData.length;r--;)this.selectedWorkForceData[r].empId==e.empId&&this.selectedWorkForceData.splice(r,1);for(var o=this.skillMatrixDetails.tableData.length;o--;)this.skillMatrixDetails.tableData[o].empId==e.empId&&(this.skillMatrixDetails.tableData[o].isSelected=!1)}}},{key:"saveWorkForce",value:function(){var e=this;if(this.submitLoader=!0,null==this.searchDet.dept||0==this.searchDet.dept.length)return this.alertService.error("Please select department"),void(this.submitLoader=!1);if(null==this.searchDet.cell||0==this.searchDet.cell.length)return this.alertService.error("Please select cell / line"),void(this.submitLoader=!1);if(null==this.searchDet.shift||0==this.searchDet.shift.length)return this.alertService.error("Please select shift"),void(this.submitLoader=!1);if(!this.searchDet.fromDate||!this.searchDet.toDate)return this.alertService.error("Please select from and to date"),void(this.submitLoader=!1);if(null!=this.selectedWorkForceData&&this.selectedWorkForceData.length>0)for(var t=0;t<this.selectedWorkForceData.length;t++)this.selectedWorkForceData[t].deptId=this.searchDet.dept[0].id,this.selectedWorkForceData[t].lineId=this.searchDet.cell[0].id,this.selectedWorkForceData[t].shiftId=this.searchDet.shift[0].id,this.selectedWorkForceData[t].fromDt=le(this.searchDet.fromDate).format("YYYY-MM-DD"),this.selectedWorkForceData[t].toDt=le(this.searchDet.toDate).format("YYYY-MM-DD");var n={createdBy:this.userDet.empId,empList:this.selectedWorkForceData};if(null==n.empList||0==n.empList.length)return this.alertService.error("Please select employee"),void(this.submitLoader=!1);console.log(n),this.apiService.saveWorkforceData("apis/sm/saveWorkForceDeployment",n).subscribe(function(t){e.submitLoader=!1,t.result?(e.alertService.success("Workforce deployment saved successfully."),e.close("Cross Click")):e.alertService.error(100==t.statusCode?t.reason:"Error occurred while saving data. Please try again")},function(t){e.submitLoader=!1})}},{key:"isObjectEmpty",value:function(e){return 0==Object.keys(e).length}},{key:"isChecked",value:function(e,t){for(var n in e)if("View"==this.selectedDet.title){if(t==e.workstationName){if(this.isObjectEmpty(e)||!e.hasOwnProperty("currentSkillLevel")||!e.hasOwnProperty("currentSkillLevelId")||null==e.currentSkillLevelId)return{status:this.constant.NOT_ELIGIBLE,level:"L0"};if(e.currentSkillLevelId)return{status:this.constant.EQUAL,level:e.currentSkillLevel}}}else if(t==n){if(this.isObjectEmpty(e)||!e[n].hasOwnProperty("currentSkillLevel")||!e[n].hasOwnProperty("currentSkillLevelId"))return{status:this.constant.NOT_ELIGIBLE,level:"L0"};if(e[n].currentSkillLevelId==e[n].requireSkillLevelId)return{status:this.constant.EQUAL,level:e[n].currentSkillLevel};if(e[n].currentSkillLevelId>e[n].requireSkillLevelId)return{status:this.constant.EQUAL,level:e[n].currentSkillLevel};if(e[n].requireSkillLevelId-e[n].currentSkillLevelId==1)return{status:this.constant.ELIGIBLE,level:e[n].currentSkillLevel};if(e[n].requireSkillLevelId-e[n].currentSkillLevelId>1)return{status:this.constant.NOT_ELIGIBLE,level:e[n].currentSkillLevel}}return{}}},{key:"sortFunction",value:function(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),l=Number(n[t])?n[t]:n[t].toUpperCase();return a<l?-1:a>l?1:0}),e}},{key:"setArray",value:function(e,n,a){var l=[];if(null!=e&&e.length>0){var i,r=t(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.id=o[n],o.name=o[a],l.push(o)}}catch(s){r.e(s)}finally{r.f()}}return l}}]),e}()).\u0275fac=function(e){return new(e||Lt)(p["\u0275\u0275directiveInject"](c.a),p["\u0275\u0275directiveInject"](Ke.b),p["\u0275\u0275directiveInject"]("Constant"))},Lt.\u0275cmp=p["\u0275\u0275defineComponent"]({type:Lt,selectors:[["app-add-view-workforce"]],inputs:{close:"close",selectedDet:"selectedDet"},features:[p["\u0275\u0275NgOnChangesFeature"]],decls:76,vars:35,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","headerTitle"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"row","m-0","formInputField"],[1,"col-2","insideLabel","p-l-5","p-r-5"],["for","moduleId",1,"col-form-label","p-0"],[1,"astrik"],[1,""],["name","branch",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","onSelect","onDeSelect","ngModelChange"],["for","dept",1,"col-form-label","p-0"],["name","dept",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","ngModelChange","onSelect","onDeSelect"],["for","cell",1,"col-form-label","p-0"],["name","cell",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","ngModelChange","onSelect","onDeSelect"],["for","shift",1,"col-form-label","p-0"],["name","shift",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","disabled","ngModelChange","onSelect","onDeSelect"],[1,"col-4","p-l-5","p-r-5"],[1,"row","m-0"],[1,"col-6","insideLabel","datePickerBlock","p-l-5","p-r-5"],["for","fromDate",1,"col-form-label"],[1,"custom-Input-Group",3,"click"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"feather","icon-calendar"],["matInput","","placeholder","From Date","name","fromDate",1,"form-control","datePickInput",3,"ngModel","min","matDatepicker","disabled","ngModelChange","keydown","dateChange"],["input","ngModel"],["fromDatePicker",""],["for","toDate",1,"col-form-label"],["matInput","","placeholder","To Date","name","toDate",1,"form-control","datePickInput",3,"ngModel","min","matDatepicker","disabled","ngModelChange","keydown","dateChange"],["toDatePicker",""],[1,"modal-body",2,"padding","10px"],[1,"table-block","skill-table"],[1,"table-responsive","tableFixHead"],[1,"table","table-bordered"],[4,"ngIf"],[1,"modal-footer"],[1,"row"],[1,"col-sm-12"],["type","button","aria-label","Close",1,"btn","cancelBtn","m-l-5",2,"margin-right","10px",3,"disabled","click"],["type","button","class","btn submitBtn event-btn",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","col",1,""],[1,"p-0"],["class","checkbox-block form-check",3,"ngClass","click",4,"ngIf"],[1,"checkbox-block","form-check",3,"ngClass","click"],["type","checkbox",1,"form-check-input",3,"checked","id","disabled"],[3,"for"],["class","checkbox-block form-check",3,"click",4,"ngIf"],[1,"checkbox-block","form-check",3,"click"],["type","checkbox",1,"form-check-input",3,"checked","id"],["colspan","12","class","text-center no-record-found",4,"ngIf"],["colspan","12","class","text-center loading-div",4,"ngIf"],["colspan","12",1,"text-center","no-record-found"],["colspan","12",1,"text-center","loading-div"],["colspan","6","class","text-center no-record-found",4,"ngIf"],["colspan","6","class","text-center loading-div",4,"ngIf"],["colspan","6",1,"text-center","no-record-found"],["colspan","6",1,"text-center","loading-div"],["type","button",1,"btn","submitBtn","event-btn",3,"click"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"h4",1),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"button",2),p["\u0275\u0275listener"]("click",function(){return t.close("Cross Click")}),p["\u0275\u0275elementStart"](4,"span",3),p["\u0275\u0275text"](5,"\xd7"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"div",4),p["\u0275\u0275elementStart"](7,"div",5),p["\u0275\u0275elementStart"](8,"label",6),p["\u0275\u0275text"](9,"Plant\xa0"),p["\u0275\u0275elementStart"](10,"span",7),p["\u0275\u0275text"](11,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"div",8),p["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",9),p["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeBranch(e)})("onDeSelect",function(){return t.onChangeBranch(!1)})("ngModelChange",function(e){return t.searchDet.branch=e}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](14,"div",5),p["\u0275\u0275elementStart"](15,"label",10),p["\u0275\u0275text"](16,"Department\xa0"),p["\u0275\u0275elementStart"](17,"span",7),p["\u0275\u0275text"](18,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](19,"div",8),p["\u0275\u0275elementStart"](20,"ng-multiselect-dropdown",11),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.dept=e})("onSelect",function(e){return t.onChangeDept(e)})("onDeSelect",function(){return t.onChangeDept(!1)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](21,"div",5),p["\u0275\u0275elementStart"](22,"label",12),p["\u0275\u0275text"](23,"Cell / Line\xa0"),p["\u0275\u0275elementStart"](24,"span",7),p["\u0275\u0275text"](25,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](26,"div",8),p["\u0275\u0275elementStart"](27,"ng-multiselect-dropdown",13),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.cell=e})("onSelect",function(e){return t.onChangeCell(e)})("onDeSelect",function(){return t.onChangeCell(!1)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"div",5),p["\u0275\u0275elementStart"](29,"label",14),p["\u0275\u0275text"](30,"Shift\xa0"),p["\u0275\u0275elementStart"](31,"span",7),p["\u0275\u0275text"](32,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"div",8),p["\u0275\u0275elementStart"](34,"ng-multiselect-dropdown",15),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.shift=e})("onSelect",function(e){return t.onChangeShift(e)})("onDeSelect",function(){return t.onChangeShift(!1)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](35,"div",16),p["\u0275\u0275elementStart"](36,"div",17),p["\u0275\u0275elementStart"](37,"div",18),p["\u0275\u0275elementStart"](38,"label",19),p["\u0275\u0275text"](39,"From Date\xa0"),p["\u0275\u0275elementStart"](40,"span",7),p["\u0275\u0275text"](41,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](42,"div",20),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275reference"](49).open()}),p["\u0275\u0275elementStart"](43,"div",21),p["\u0275\u0275elementStart"](44,"div",22),p["\u0275\u0275element"](45,"i",23),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](46,"input",24,25),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.fromDate=e})("keydown",function(){return!1})("dateChange",function(e){return t.selectDate("from",e)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](48,"mat-datepicker",null,26),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](50,"div",18),p["\u0275\u0275elementStart"](51,"label",27),p["\u0275\u0275text"](52,"To Date\xa0"),p["\u0275\u0275elementStart"](53,"span",7),p["\u0275\u0275text"](54,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](55,"div",20),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275reference"](62).open()}),p["\u0275\u0275elementStart"](56,"div",21),p["\u0275\u0275elementStart"](57,"div",22),p["\u0275\u0275element"](58,"i",23),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](59,"input",28,25),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.toDate=e})("keydown",function(){return!1})("dateChange",function(e){return t.selectDate("to",e)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](61,"mat-datepicker",null,29),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](63,"div",30),p["\u0275\u0275elementStart"](64,"perfect-scrollbar"),p["\u0275\u0275elementStart"](65,"div",31),p["\u0275\u0275elementStart"](66,"div",32),p["\u0275\u0275elementStart"](67,"table",33),p["\u0275\u0275template"](68,ft,7,3,"ng-container",34),p["\u0275\u0275template"](69,xt,5,2,"ng-container",34),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](70,"div",35),p["\u0275\u0275elementStart"](71,"div",36),p["\u0275\u0275elementStart"](72,"div",37),p["\u0275\u0275elementStart"](73,"button",38),p["\u0275\u0275listener"]("click",function(){return t.close("Cross Click")}),p["\u0275\u0275text"](74,"Cancel "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](75,Ct,4,3,"button",39),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var a=p["\u0275\u0275reference"](49),l=p["\u0275\u0275reference"](62);p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",t.selectedDet.title," Workforce Deployment "),p["\u0275\u0275advance"](11),p["\u0275\u0275property"]("placeholder","Select Plant")("settings",t.SingleDropdownSettings)("data",t.branchAccessList)("ngModel",t.searchDet.branch)("disabled","View"==t.selectedDet.title),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("placeholder","Select Department")("settings",t.SingleDropdownSettings)("data",t.deptList)("ngModel",t.searchDet.dept)("disabled","View"==t.selectedDet.title),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("placeholder","Select Cell / Line")("settings",t.SingleDropdownSettings)("data",t.cellList)("ngModel",t.searchDet.cell)("disabled","View"==t.selectedDet.title),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("placeholder","Select Shift")("settings",t.SingleDropdownSettings)("data",t.shiftList)("ngModel",t.searchDet.shift)("disabled","View"==t.selectedDet.title),p["\u0275\u0275advance"](12),p["\u0275\u0275property"]("ngModel",t.searchDet.fromDate)("min",t.minDate)("matDatepicker",a)("disabled","View"==t.selectedDet.title),p["\u0275\u0275advance"](13),p["\u0275\u0275property"]("ngModel",t.searchDet.toDate)("min",t.searchDet.fromDate)("matDatepicker",l)("disabled","View"==t.selectedDet.title),p["\u0275\u0275advance"](5),p["\u0275\u0275styleProp"]("height","Add"==t.selectedDet.title?"calc(100vh - 23vh)":"calc(100vh - 15vh)"),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngIf",!t.isObjectEmpty(t.skillMatrixDetails)),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isObjectEmpty(t.skillMatrixDetails)),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("disabled",t.submitLoader&&"Add"==t.selectedDet.title),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf","Add"==t.selectedDet.title)}},directives:[f.a,h.o,h.r,oe.b,h.c,se.b,se.a,D.b,o.NgIf,o.NgForOf,o.NgClass,v.a],styles:[".tableFixHead[_ngcontent-%COMP%]{max-height:calc(100vh - 23vh)!important;min-height:calc(100vh - 23vh)!important;height:calc(100vh - 23vh)!important}.tableFixHead.ViewTable[_ngcontent-%COMP%]{max-height:calc(100vh - 15vh)!important;min-height:calc(100vh - 15vh)!important;height:calc(100vh - 15vh)!important}.formInputField[_ngcontent-%COMP%]{border-bottom:1px solid #7044cd}.formInputField[_ngcontent-%COMP%]   .insideLabel[_ngcontent-%COMP%]{margin-bottom:10px}.formInputField[_ngcontent-%COMP%]   .insideLabel[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:0;font:normal normal 700 12px/1.5 Helvetica Neue;left:1.5rem;color:#7044cd}.formInputField[_ngcontent-%COMP%]   .insideLabel.datePickerBlock[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{top:-10px;background:#fff;padding:0 5px;left:15px}.formInputField[_ngcontent-%COMP%]   .insideLabel.datePickerBlock[_ngcontent-%COMP%]   .custom-Input-Group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled, .formInputField[_ngcontent-%COMP%]   .insideLabel.datePickerBlock[_ngcontent-%COMP%]   .custom-Input-Group[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:transparent}.checkbox-block[_ngcontent-%COMP%]{padding:8px 10px!important;border-bottom:1px solid #d3d3d3!important;cursor:pointer!important}.checkbox-block[_ngcontent-%COMP%]:last-child{border-bottom:none!important}.checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;cursor:pointer!important}.checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{margin-right:5px!important}.checkbox-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{top:.9rem!important;left:.89rem!important}.red-text[_ngcontent-%COMP%]{color:red}.footerBlock[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:5px 25px!important;border-top:1px solid #e3eaef;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}"]}),Lt);function yt(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",34),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().removeFilter()}),p["\u0275\u0275text"](1,"x"),p["\u0275\u0275elementEnd"]()}}function Et(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",35),p["\u0275\u0275text"](1,"Filter Applied"),p["\u0275\u0275elementEnd"]())}function Mt(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"span",36),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().getSearchList(!0)}),p["\u0275\u0275elementEnd"]()}}function wt(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"span",37),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().getSearchList(!1)}),p["\u0275\u0275elementEnd"]()}}function Pt(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275elementStart"](1,"td"),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"td"),p["\u0275\u0275text"](4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"td"),p["\u0275\u0275text"](6),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"td"),p["\u0275\u0275text"](8),p["\u0275\u0275pipe"](9,"date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](10,"td"),p["\u0275\u0275text"](11),p["\u0275\u0275pipe"](12,"date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"td"),p["\u0275\u0275elementStart"](14,"a",38),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=t.$implicit,a=p["\u0275\u0275nextContext"](),l=p["\u0275\u0275reference"](46);return a.addWorkForce(l,e,"View")}),p["\u0275\u0275element"](15,"i",39),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](16," \xa0 \xa0 "),p["\u0275\u0275elementStart"](17,"i",40),p["\u0275\u0275elementStart"](18,"img",41),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=t.$implicit;return p["\u0275\u0275nextContext"]().getWorkForceDeploymentDetails(e)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.deptName||""),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.lineName||""),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.shiftName||""),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"]((a.fromDate?p["\u0275\u0275pipeBind2"](9,5,a.fromDate,"dd-MM-yyyy"):"")||""),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"]((a.toDate?p["\u0275\u0275pipeBind2"](12,8,a.toDate,"dd-MM-yyyy"):"")||"")}}function Ft(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",44),p["\u0275\u0275text"](1," Data Not Found "),p["\u0275\u0275elementEnd"]())}function At(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",45),p["\u0275\u0275element"](1,"app-loading"),p["\u0275\u0275elementEnd"]())}function Ot(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275template"](1,Ft,2,0,"td",42),p["\u0275\u0275template"](2,At,2,0,"td",43),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!n.listLoader),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.listLoader)}}function Nt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1," Please select plant "),p["\u0275\u0275elementEnd"]())}function _t(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",66),p["\u0275\u0275template"](1,Nt,2,0,"div",31),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.formdata.controls.branchId.errors.required)}}function Vt(e,t){1&e&&p["\u0275\u0275element"](0,"span",67)}function Wt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",68),p["\u0275\u0275text"](1,"Loading..."),p["\u0275\u0275elementEnd"]())}function Tt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",69),p["\u0275\u0275text"](1,"Apply Filter"),p["\u0275\u0275elementEnd"]())}function Bt(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",46),p["\u0275\u0275elementStart"](1,"h4",47),p["\u0275\u0275text"](2,"Filter"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"button",48),p["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),p["\u0275\u0275elementStart"](4,"span",49),p["\u0275\u0275text"](5,"\xd7"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",50),p["\u0275\u0275listener"]("ngSubmit",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275nextContext"]();return e.submitFilterForm(e.filterData)}),p["\u0275\u0275elementStart"](7,"div",51),p["\u0275\u0275elementStart"](8,"perfect-scrollbar"),p["\u0275\u0275elementStart"](9,"div",52),p["\u0275\u0275elementStart"](10,"label",53),p["\u0275\u0275text"](11,"Plant"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"div",54),p["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",55),p["\u0275\u0275listener"]("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(e,"plant")})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(!1,"dept")})("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.branch=e}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](14,_t,2,1,"div",56),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"div",52),p["\u0275\u0275elementStart"](16,"label",57),p["\u0275\u0275text"](17,"Department"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](18,"div",54),p["\u0275\u0275elementStart"](19,"ng-multiselect-dropdown",58),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.deptId=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(e,"dept")})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(!1,"line")}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](20,"div",52),p["\u0275\u0275elementStart"](21,"label",59),p["\u0275\u0275text"](22,"Cell / Line"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"div",54),p["\u0275\u0275elementStart"](24,"ng-multiselect-dropdown",60),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.lineIds=e})("onSelect",function(e){p["\u0275\u0275restoreView"](n);var t=p["\u0275\u0275nextContext"]();return t.onChange(e,t.line)})("onSelectAll",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(e,"dept")}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](25,"div",61),p["\u0275\u0275elementStart"](26,"button",62),p["\u0275\u0275template"](27,Vt,1,0,"span",63),p["\u0275\u0275template"](28,Wt,2,0,"span",64),p["\u0275\u0275template"](29,Tt,2,0,"span",65),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var a=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("formGroup",a.filterData),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("placeholder","Select Plant")("settings",a.SingleDropdownSettings)("data",a.branchAccessList)("ngModel",a.searchDet.branch),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.submitAttempted&&a.formdata.controls.branchId.invalid&&(a.formdata.controls.branchId.touched||a.filterData.controls.branchId.dirty)),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("placeholder","Select Department")("settings",a.SingleDropdownSettings)("data",a.searchDet.deptList)("ngModel",a.searchDet.deptId),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("placeholder","Select Cell / Line")("settings",a.SingleDropdownSettings)("data",a.cellLineList)("ngModel",a.searchDet.lineIds),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",a.submitSpinner),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.submitSpinner),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}function Rt(e,t){if(1&e&&p["\u0275\u0275element"](0,"app-add-view-workforce",70),2&e){var n=t.close,a=p["\u0275\u0275nextContext"]();p["\u0275\u0275property"]("close",n)("selectedDet",a.selectedDet)}}var jt,Yt=function(e){return{applied:e}},zt=((jt=function(){function e(t,n,a,i){l(this,e),this.apiService=t,this.modalConfig=n,this.fb=a,this.modalService=i,this.submitAttempted=!1,this.userDet={},this.cellLineList=[],this.searchDet={},this.selectedDet={},this.branchAccessList=[],this.workforceList=[],this.deptList=[],this.SingleDropdownSettings={},this.filterFlag=!1,this.listLoader=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:5,listLength:50},this.headings={},this.WorkForceDetails=[],this.empListArray=[],this.columnsArray=[],this.headingName=[],this.isAppliedFilter=!1,n.backdrop="static",n.keyboard=!1}return r(e,[{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),console.log(this.userDet),new Date,this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.getBranchAccessList(),this.date=le(new Date).format("YYYY-MM"),this.filterData=this.fb.group({branchId:new h.f("",h.z.required),deptId:new h.f(""),lineIds:new h.f("")}),this.getWorkforceList("")}},{key:"getBranchAccessList",value:function(){var e=this;this.apiService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?(e.branchAccessList=e.setArray(t.branchAccessList,"branchId","branchName"),e.branchAccessList=e.sortFunction(e.branchAccessList,"branchName"),console.log(e.branchAccessList),console.log(e.searchDet.branch)):e.branchAccessList=[{id:e.userDet.branch.branchId,name:e.userDet.branch.name}],e.branchAccessList=e.sortFunction(e.branchAccessList,"name")})}},{key:"resetFormField",value:function(e,t){Object.keys(e.controls).forEach(function(n){n==t&&(e.get(t).reset(),e.get(t).markAsPristine(),e.get(t).markAsUntouched())})}},{key:"onChange",value:function(e,t){e?"plant"==t?(this.resetFormField(this.filterData,"searchDet.branch"),this.resetFormField(this.filterData,"searchDet.deptId"),this.resetFormField(this.filterData,"searchDet.lineIds"),this.getDeptList(e),this.searchDet.deptId=[],this.searchDet.deptList=[]):"dept"==t&&(console.log(e),this.getCellList(this.searchDet.branch),this.searchDet.lineIds=[]):"plant"==t?this.searchDet&&(this.searchDet.deptList=[],this.searchDet.lineIds=[]):"dept"==t&&this.searchDet&&(this.searchDet.lineIds=[])}},{key:"getSearchList",value:function(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getWorkforceList(this.filterFlag?"filter":"")}},{key:"clearPagination",value:function(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}},{key:"onChangeCell",value:function(e){e||(this.workforceList=[])}},{key:"removeFilter",value:function(){this.isAppliedFilter=!1,this.filterData.reset(),this.searchDet.branch=[],this.searchDet.deptId=[],this.searchDet.lineIds=[],this.searchDet.fromDate=null,this.searchDet.toDate=null,this.getWorkforceList("")}},{key:"submitFilterForm",value:function(e){this.submitAttempted=!0,e.invalid?Object.keys(e.controls).forEach(function(t){e.controls[t].markAsDirty()}):(this.clearPagination(),this.isAppliedFilter=!0,this.searchDet.filterFlag=!0,this.getWorkforceList("filter"),this.modalService.dismissAll())}},{key:"getDeptList",value:function(e){var t=this;null!=this.searchDet.branch&&this.searchDet.branch.length>0&&this.apiService.getdepartmentlistbybranchid("getdepartmentlistbybranchid/"+e.id).subscribe(function(e){e.result?(console.log(e),null!=e.deptList&&e.deptList.length>0?(console.log(e.deptList),t.searchDet.deptList=t.setArray(e.deptList,"deptId","deptName"),t.searchDet.deptList=t.sortFunction(t.searchDet.deptList,"deptName")):t.searchDet.deptList=[]):t.searchDet.deptList=[]})}},{key:"getCellList",value:function(e){var t=this;this.selectedBranchId=this.searchDet.branch[0].id,console.log(this.selectedBranchId),this.selectedDeptId=this.searchDet.deptId[0].id,console.log(this.selectedDeptId);var n={branchId:this.selectedBranchId,deptId:this.selectedDeptId};console.log(n),this.apiService.getCellList("apis/sm/getCellList",n).subscribe(function(e){e.result&&null!=e.dataList&&e.dataList.length>0?(console.log(e.dataList),t.cellLineList=t.setArray(e.dataList,"lineId","lineName"),t.cellLineList=t.sortFunction(t.cellLineList,"lineName")):t.cellLineList=[]})}},{key:"getWorkforceList",value:function(e){var t=this;this.workforceList=[],this.listLoader=!0;var n={branchId:this.userDet.branch.branchId,orgId:this.userDet.organization.orgId,offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage,this.sorting&&""!=this.sorting.direction&&(n.colName=this.sorting.active,n.orderType=this.sorting.direction.toUpperCase()),"filter"==e&&(null!=this.searchDet.branchId&&this.searchDet.branchId.length>0&&(n.branchId=this.searchDet.branchId[0].id),null!=this.searchDet.deptId&&this.searchDet.deptId.length>0&&(n.deptId=this.searchDet.deptId[0].id),null!=this.searchDet.lineIds&&this.searchDet.lineIds.length>0&&(n.lineIds=this.getIDsArray(this.searchDet.lineIds)),null!=this.searchDet.fromDate&&(n.fromDt=le(this.searchDet.fromDate).format("YYYY-MM-DD")),null!=this.searchDet.toDate&&(n.toDate=le(this.searchDet.toDate).format("YYYY-MM-DD"))),this.searchDet.searchData&&this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(n.search=this.searchDet.searchInput),this.staticPagination.listLength=10,console.log(n),this.apiService.getWorkforceDeploymentData("apis/sm/getWorkForceDeploymentList",n).subscribe(function(e){if(t.listLoader=!1,e.result){if(null!=e.dataList&&e.dataList.length>0){t.workforceList=e.dataList,console.log(t.workforceList),1==t.staticPagination.page&&(t.staticPagination.total=e.totalCount,t.staticPagination.totalPages=t.staticPagination.total>0?Math.ceil(t.staticPagination.total/t.staticPagination.itemsPerPage):0);var n=!0;t.workforceList.forEach(function(e){1!=e.stageId&&(n=!1)}),n&&(t.workforceList=t.workforceList.sort(function(e,t){return e.dayNo-t.dayNo})),t.staticPagination.listLength=t.workforceList.length}else t.workforceList=[],t.staticPagination.listLength=t.workforceList.length;t.staticPagination.listLength=t.workforceList.length}else t.workforceList=[],t.staticPagination.listLength=t.workforceList.length})}},{key:"sortData",value:function(e){this.sorting=e,console.log(this.sorting),this.getWorkforceList("")}},{key:"getWorkForceDeploymentDetails",value:function(e){var t=this;this.headings.lineName=e.lineName,this.headings.deptName=e.deptName,this.headings.branchName=e.branchName,this.headings.shiftName=e.shiftName,console.log(e);var n={deptId:e.deptId,branchId:e.branchId,lineId:e.lineId,shiftId:e.shiftId};e.toDate=le(new Date).format("YYYY-MM"),console.log(n),this.apiService.getWorkForceDeploymentDetails("apis/sm/getWorkForceDeploymentDetails",n).subscribe(function(e){console.log(e),e.result&&(t.WorkForceDetails=e.data,t.columnsArray=t.WorkForceDetails.columns,t.empListArray=t.WorkForceDetails.empList,t.exportToExcel(),console.log(t.WorkForceDetails))})}},{key:"addWorkForce",value:function(e,t,n){var a=this;this.selectedDet=t,this.selectedDet.title=n,this.modalService.open(e,{windowClass:"right"}).result.then(function(e){a.getWorkforceList("")},function(e){console.log(e),a.getWorkforceList("")})}},{key:"filterModalOpen",value:function(e){this.filterFlag=!0,this.modalService.open(e,{windowClass:"filterPopup"}),this.getWorkforceList("filter")}},{key:"sortFunction",value:function(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),l=Number(n[t])?n[t]:n[t].toUpperCase();return a<l?-1:a>l?1:0}),e}},{key:"setArray",value:function(e,n,a){var l=[];if(null!=e&&e.length>0){var i,r=t(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.id=o[n],o.name=o[a],l.push(o)}}catch(s){r.e(s)}finally{r.f()}}return l}},{key:"getIDsArray",value:function(e){var n=[];if(null!=e&&e.length>0){var a,l=t(e);try{for(l.s();!(a=l.n()).done;){var i=a.value;n.push(i.id)}}catch(r){l.e(r)}finally{l.f()}}return n}},{key:"exportToExcel",value:function(){for(var e=new d.Workbook,t=e.addWorksheet("Skill Matrix"),n=["Emp Id","Emp Name","Work Station"],a=1;a<=n.length;a++)t.getColumn(1).width=15;t.getColumn(2).width=25,t.getColumn(3).width=25,Array(n.length).fill("")[Math.floor(n.length/2)]=this.headingName,t.getRow(1).height=30,t.getRow(2).height=30,t.getRow(3).height=30,t.getRow(1).font={bold:!0},t.getRow(2).font={bold:!0},t.getRow(3).font={bold:!0},t.mergeCells("A1:C1"),t.getCell("A1").value="Plant :"+this.headings.branchName+"     Department :"+this.headings.deptName+"     Shift :"+this.headings.shiftName,t.getCell("A1").alignment={horizontal:"center",vertical:"middle",wrapText:!0},t.getCell("A1").border={top:{style:"thin"},bottom:{style:"thin"}},t.mergeCells("A2:C2"),t.getCell("A2").value=this.headings.lineName,t.getCell("A2").fill={type:"pattern",pattern:"solid",fgColor:{argb:"99cd3a"}},t.getCell("A2").alignment={horizontal:"center",vertical:"middle",wrapText:!0},t.getCell("A2").border={top:{style:"thin"},bottom:{style:"thin"}},t.mergeCells("A3:C3"),t.getCell("A3").value="Fron Date :"+le(this.WorkForceDetails.empList[0].fromDate).format("DD-MM-YYY")+"    To Date :"+le(this.WorkForceDetails.empList[0].toDate).format("DD-MM-YYYY"),t.getCell("A3").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"}},t.getCell("A3").alignment={horizontal:"center",vertical:"middle",wrapText:!0},t.getCell("A3").border={top:{style:"thin"},bottom:{style:"thin"}},t.addRow(n),this.WorkForceDetails.empList.forEach(function(e){t.addRow([e.companyEmpId,e.empName,e.workstationName])}),e.xlsx.writeBuffer().then(function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="skill-matrix.xlsx",a.click(),window.URL.revokeObjectURL(n)})}}]),e}()).\u0275fac=function(e){return new(e||jt)(p["\u0275\u0275directiveInject"](c.a),p["\u0275\u0275directiveInject"](u.k),p["\u0275\u0275directiveInject"](h.e),p["\u0275\u0275directiveInject"](u.j))},jt.\u0275cmp=p["\u0275\u0275defineComponent"]({type:jt,selectors:[["app-workforce-deployment"]],decls:47,vars:10,consts:[[1,"row","m-0"],[1,"col-8","m-auto"],["title","Workforce Deployment",1,"title"],[1,"col-3","m-auto"],[1,"col-1","p-0","m-auto","text-center"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"form-group","has-search","col-4"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","name","searchInput","placeholder","Search by palace holder","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col-4"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button","title","Add Workforce Deployment",1,"btn","addRegBtn","m-0",3,"click"],[1,"fa","fa-plus","m-r-10",2,"text-align","center"],[1,"table-block","skill-table"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["scope","col","mat-sort-header","Department"],["mat-sort-header","Line","scope","col"],["scope","col","mat-sort-header","Shift"],["scope","col","mat-sort-header","FromDate"],["scope","col","mat-sort-header","ToDate"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["filterPopup",""],["addWorkForceModal",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[2,"color","#7044CD","cursor","pointer",3,"click"],[1,"fa","fa-eye","viewIcon"],[2,"color","#7044CD","cursor","pointer"],["src","assets/images/ic_excel.png","alt","",1,"img-fluid",3,"click"],["colspan","6","class","text-center no-record-found",4,"ngIf"],["colspan","6","class","text-center loading-div",4,"ngIf"],["colspan","6",1,"text-center","no-record-found"],["colspan","6",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","moduleId",1,"col-sm-12","col-form-label","filter-label"],[1,"col-sm-12"],["name","selectedModuleId","formControlName","branchId",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"],["class","custom-errorMsg","style","padding-left: 15px;",4,"ngIf"],["for","dept",1,"col-sm-12","col-form-label","filter-label"],["name","dept","formControlName","deptId",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],["for","cell",1,"col-sm-12","col-form-label","filter-label"],["name","cell","formControlName","lineIds",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onSelectAll"],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg",2,"padding-left","15px"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"],[3,"close","selectedDet"]],template:function(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275element"](2,"app-topBar",2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](3,"div",3),p["\u0275\u0275elementStart"](4,"div",4),p["\u0275\u0275elementStart"](5,"div",5),p["\u0275\u0275elementStart"](6,"button",6),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275reference"](44);return t.filterModalOpen(e)}),p["\u0275\u0275element"](7,"i",7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](8,yt,2,0,"div",8),p["\u0275\u0275template"](9,Et,2,0,"div",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](10,"div",10),p["\u0275\u0275elementStart"](11,"div",11),p["\u0275\u0275elementStart"](12,"div",0),p["\u0275\u0275elementStart"](13,"div",12),p["\u0275\u0275template"](14,Mt,1,0,"span",13),p["\u0275\u0275template"](15,wt,1,0,"span",14),p["\u0275\u0275elementStart"](16,"input",15),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](17,"div",16),p["\u0275\u0275elementStart"](18,"div",17),p["\u0275\u0275elementStart"](19,"div",18),p["\u0275\u0275elementStart"](20,"button",19),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275reference"](46);return t.addWorkForce(e,{},"Add")}),p["\u0275\u0275element"](21,"i",20),p["\u0275\u0275text"](22,"Create"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"div",21),p["\u0275\u0275elementStart"](24,"div",22),p["\u0275\u0275elementStart"](25,"table",23),p["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),p["\u0275\u0275elementStart"](26,"thead"),p["\u0275\u0275elementStart"](27,"tr"),p["\u0275\u0275elementStart"](28,"th",24),p["\u0275\u0275text"](29,"Department"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](30,"th",25),p["\u0275\u0275text"](31,"Cell / Line"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](32,"th",26),p["\u0275\u0275text"](33,"Shift"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](34,"th",27),p["\u0275\u0275text"](35,"From Date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](36,"th",28),p["\u0275\u0275text"](37,"To Date"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](38,"th",29),p["\u0275\u0275text"](39,"Action"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](40,"tbody"),p["\u0275\u0275template"](41,Pt,19,11,"tr",30),p["\u0275\u0275template"](42,Ot,3,2,"tr",31),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](43,Bt,30,17,"ng-template",null,32,p["\u0275\u0275templateRefExtractor"]),p["\u0275\u0275template"](45,Rt,1,2,"ng-template",null,33,p["\u0275\u0275templateRefExtractor"])}2&e&&(p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](8,Yt,t.isAppliedFilter)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.isAppliedFilter),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAppliedFilter),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.searchDet.searchData),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),p["\u0275\u0275advance"](25),p["\u0275\u0275property"]("ngForOf",t.workforceList),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",null==t.workforceList||0==t.workforceList.length))},directives:[g.a,o.NgClass,o.NgIf,h.c,h.o,h.r,ie.a,ie.b,o.NgForOf,v.a,h.A,h.p,h.h,D.b,f.a,h.g,It],pipes:[o.DatePipe],styles:[".insideLabel[_ngcontent-%COMP%]{margin-bottom:10px}.insideLabel[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:0;font:normal normal 700 12px/1.5 Helvetica Neue;left:1.5rem;color:#7044cd}.extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]{right:5rem!important}.img-fluid[_ngcontent-%COMP%]{height:20px}.title[_ngcontent-%COMP%]{color:#7044cd!important}.extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{right:9rem!important}"]}),jt),Ut=i("fsj3");function $t(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",32),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().removeFilter()}),p["\u0275\u0275text"](1,"x"),p["\u0275\u0275elementEnd"]()}}function Ht(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",33),p["\u0275\u0275text"](1,"Filter Applied"),p["\u0275\u0275elementEnd"]())}function qt(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"span",34),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().getSearchList(!0)}),p["\u0275\u0275elementEnd"]()}}function Gt(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"span",35),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().getSearchList(!1)}),p["\u0275\u0275elementEnd"]()}}var Qt=function(e,t){return{completed:e,pending:t}};function Jt(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275elementStart"](1,"td"),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"td"),p["\u0275\u0275text"](4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"td"),p["\u0275\u0275text"](6),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"td"),p["\u0275\u0275text"](8),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](9,"td"),p["\u0275\u0275text"](10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](11,"td"),p["\u0275\u0275text"](12),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"td",36),p["\u0275\u0275text"](14),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"td",37),p["\u0275\u0275elementStart"](16,"a",38),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=t.$implicit,a=p["\u0275\u0275nextContext"](),l=p["\u0275\u0275reference"](47);return a.previewCertificate(e,l)}),p["\u0275\u0275element"](17,"i",39),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](18," \xa0 \xa0 "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.branchName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.deptName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.companyEmpId),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.empName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.workstationName),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](a.levelName),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction2"](8,Qt,"COMPLETED"==a.status,"PENDING"==a.status)),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](a.status)}}function Kt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",42),p["\u0275\u0275text"](1," Data Not Found "),p["\u0275\u0275elementEnd"]())}function Xt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"td",43),p["\u0275\u0275element"](1,"app-loading"),p["\u0275\u0275elementEnd"]())}function Zt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275template"](1,Kt,2,0,"td",40),p["\u0275\u0275template"](2,Xt,2,0,"td",41),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!n.listLoading),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.listLoading)}}function en(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1," Please select plant "),p["\u0275\u0275elementEnd"]())}function tn(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",62),p["\u0275\u0275template"](1,en,2,0,"div",28),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.filterData.controls.branchId.errors.required)}}function nn(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1," Please select department "),p["\u0275\u0275elementEnd"]())}function an(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",62),p["\u0275\u0275template"](1,nn,2,0,"div",28),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.filterData.controls.deptIds.errors.required)}}function ln(e,t){1&e&&p["\u0275\u0275element"](0,"span",63)}function rn(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",64),p["\u0275\u0275text"](1," Loading..."),p["\u0275\u0275elementEnd"]())}function on(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"span",65),p["\u0275\u0275text"](1,"Apply Filter"),p["\u0275\u0275elementEnd"]())}function sn(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",44),p["\u0275\u0275elementStart"](1,"h4",45),p["\u0275\u0275text"](2,"Filter"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"button",46),p["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),p["\u0275\u0275elementStart"](4,"span",47),p["\u0275\u0275text"](5,"\xd7"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",48),p["\u0275\u0275listener"]("ngSubmit",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275nextContext"]();return e.submitFilterForm(e.filterData)}),p["\u0275\u0275elementStart"](7,"div",49),p["\u0275\u0275elementStart"](8,"perfect-scrollbar"),p["\u0275\u0275elementStart"](9,"div",50),p["\u0275\u0275elementStart"](10,"label",51),p["\u0275\u0275text"](11,"Plant"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"div",52),p["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",53),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.branch=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(e,"plant")})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(!1,"plant")}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](14,tn,2,1,"div",54),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"div",50),p["\u0275\u0275elementStart"](16,"label",55),p["\u0275\u0275text"](17,"Department"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](18,"div",52),p["\u0275\u0275elementStart"](19,"ng-multiselect-dropdown",56),p["\u0275\u0275listener"]("ngModelChange",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().searchDet.deptIds=e})("onSelect",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(e,"dept")})("onDeSelect",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChange(!1,"dept")})("onSelectAll",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeAll(e,"dept")})("onDeSelectAll",function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().onChangeAll(e,"dept")}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](20,an,2,1,"div",54),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](21,"div",57),p["\u0275\u0275elementStart"](22,"button",58),p["\u0275\u0275template"](23,ln,1,0,"span",59),p["\u0275\u0275template"](24,rn,2,0,"span",60),p["\u0275\u0275template"](25,on,2,0,"span",61),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var a=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("formGroup",a.filterData),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("placeholder","Select Plant")("settings",a.SingleDropdownSettings)("data",a.getSortFunction(a.plantList,"plant"))("ngModel",a.searchDet.branch),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.submitAttempted&&a.filterData.controls.branchId.invalid&&(a.filterData.controls.branchId.touched||a.filterData.controls.branchId.dirty)),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("placeholder","Select Department")("settings",a.multipleDropdownSettings)("data",a.getSortFunction(a.searchDet.departmentList,"dept"))("ngModel",a.searchDet.deptIds),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.submitAttempted&&a.filterData.controls.deptIds.invalid&&(a.filterData.controls.deptIds.touched||a.filterData.controls.deptIds.dirty)),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",a.submitSpinner),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",a.submitSpinner),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!a.submitSpinner)}}function cn(e,t){if(1&e&&p["\u0275\u0275element"](0,"app-viewCertificate",66),2&e){var n=t.close,a=p["\u0275\u0275nextContext"]();p["\u0275\u0275property"]("close",n)("selectedDet",a.selectedRecForModal)}}var dn,mn,hn,pn=function(e){return{applied:e}},un=[{path:"",component:ae},{path:"home",component:ae},{path:"actions",component:ye},{path:"ojt_plan",loadChildren:function(){return i.e(23).then(i.bind(null,"FDYh")).then(function(e){return e.OjtPlanModule})}},{path:"ojt_registration",loadChildren:function(){return i.e(24).then(i.bind(null,"YZv3")).then(function(e){return e.OjtRegistrationModule})}},{path:"workforce_Deployment",component:zt},{path:"assessments",component:Je},{path:"certificates",component:(dn=function(){function e(t,n,a,i,r){l(this,e),this.modalConfig=t,this.modalService=n,this.alertService=a,this.fb=i,this.apiService=r,this.submitAttempted=!1,this.searchDet={},this.userDet={},this.submitSpinner=!1,this.plantList=[],this.listLoading=!1,this.staticPagination={total:50,page:1,maxSize:5,itemsPerPage:10,totalPages:5,listLength:50},this.filterFlag=!1,t.backdrop="static",t.keyboard=!1}return r(e,[{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.filterData=this.fb.group({branchId:new h.f("",h.z.required),deptIds:new h.f("")}),this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.multipleDropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0},this.getAccessiblePlantList(),this.getMasterCertificateList()}},{key:"setArray",value:function(e,n,a){var l=[];if(null!=e&&e.length>0){var i,r=t(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.id=o[n],o.name=o[a],l.push(o)}}catch(s){r.e(s)}finally{r.f()}}return l}},{key:"getAccessiblePlantList",value:function(){var e=this;this.apiService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){console.log(t),e.plantList=t.result&&null!=t.branchAccessList&&t.branchAccessList.length>0?e.setArray(t.branchAccessList,"branchId","branchName"):[{id:e.userDet.branch.branchId,name:e.userDet.branch.name}],e.searchDet.branchId=e.plantList[0].branchId,e.getbranchId=e.plantList[0].id,console.log(e.getbranchId)})}},{key:"getDepartmentList",value:function(e){var t=this;console.log(e),this.apiService.getDepartmentByBranch("getdepartmentlistbybranchid/"+e).subscribe(function(e){e.result&&null!=e.deptList&&e.deptList.length>0?(t.departmentList=t.setArray(e.deptList,"deptId","deptName"),t.searchDet.departmentList=t.setArray(e.deptList,"deptId","deptName")):t.searchDet.departmentList=[]})}},{key:"filterModalOpen",value:function(e){var t=this;this.resetFormField(this.filterData,"branchId"),this.resetFormField(this.filterData,"deptIds"),this.searchDet.branch=[],this.searchDet.deptIds=[],this.modalService.open(e,{windowClass:"filterPopup"}).result.then(function(e){console.log("Closed with: ".concat(e))},function(e){console.log("Closed with:"+e),"Cross click"==e&&(t.submitAttempted=!1)})}},{key:"onChange",value:function(e,t){e?"plant"==t&&(this.searchDet.branchId=e.id,console.log(e),this.searchDet.deptIds=[],this.getDepartmentList(this.searchDet.branchId)):"plant"==t&&(this.searchDet.departmentList=[],this.resetFormField(this.filterData,"deptIds"))}},{key:"onChangeAll",value:function(e,t){e?console.log("Select All action"):console.log("Unselect All action")}},{key:"submitFilterForm",value:function(e){this.submitAttempted=!0,console.log(e),e.invalid&&(Object.keys(e.controls).forEach(function(t){e.controls[t].markAsDirty()}),e.controls.branchId.invalid)||(this.clearPagination(),this.searchDet.filterFlag=!0,this.getMasterCertificateList(),this.modalService.dismissAll())}},{key:"clearPagination",value:function(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}},{key:"removeFilter",value:function(){this.submitAttempted=!1,this.filterData.reset(),this.searchDet.branch=[],this.searchDet.deptIds=[],this.searchDet.filterFlag=!1,this.searchDet.filterPopupOpen=!1,this.certificateList=[],this.getDepartmentList(this.plantList[0].id)}},{key:"getMasterCertificateList",value:function(){var e=this;this.listLoading=!0,this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;var t={orgId:this.userDet.organization.orgId,offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage};if(null!=this.searchDet.branch&&this.searchDet.branch.length>0)for(var n=0;n<this.searchDet.branch.length;n++)t.branchId=this.searchDet.branch[0].id;else t.branchId=this.userDet.branch.branchId;if(null!=this.getIDsArray(this.searchDet.deptIds)&&this.getIDsArray(this.searchDet.deptIds).length>0)for(var a=0;a<this.getIDsArray(this.searchDet.deptIds).length;a++)t.deptIds=this.getIDsArray(this.searchDet.deptIds);this.sorting&&""!=this.sorting.direction&&(t.colName=this.sorting.active,t.orderType=this.sorting.direction.toUpperCase()),this.searchDet.searchData&&this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(t.search=this.searchDet.searchInput),this.apiService.getCertificateList("apis/sm/getCertificateList",t).subscribe(function(t){e.listLoading=!1,console.log(t),t.result?(1==e.staticPagination.page&&(e.staticPagination.total=t.totalCount,e.staticPagination.totalPages=Math.ceil(t.totalCount/e.staticPagination.itemsPerPage)),null!=t.dataList&&t.dataList.length>0?(e.certificateList=t.dataList,console.log(e.certificateList),e.staticPagination.listLength=t.dataList.length):(e.certificateList=[],e.staticPagination.listLength=e.certificateList.length,e.staticPagination.total=e.certificateList.length)):(e.certificateList=[],e.staticPagination.listLength=e.certificateList.length,e.staticPagination.total=e.certificateList.length)})}},{key:"previewCertificate",value:function(e,t){console.log(e,t),this.selectedRecForModal=e,this.modalService.open(t,{windowClass:"bottom"})}},{key:"resetFormField",value:function(e,t){Object.keys(e.controls).forEach(function(n){""!=t&&n==t?(e.get(t).reset(),e.get(t).markAsPristine(),e.get(t).markAsUntouched()):(e.get(n).reset(),e.get(n).markAsPristine(),e.get(n).markAsUntouched())})}},{key:"loadMore",value:function(e){this.certificateList=[],this.listLoading=!0,this.staticPagination=e,this.certificateList=[],this.getMasterCertificateList()}},{key:"sortData",value:function(e){this.sorting=e,this.getMasterCertificateList()}},{key:"getIDsArray",value:function(e){var n=[];if(null!=e&&e.length>0){var a,l=t(e);try{for(l.s();!(a=l.n()).done;){var i=a.value;n.push(i.id)}}catch(r){l.e(r)}finally{l.f()}}return n}},{key:"getSearchList",value:function(e){console.log(e),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getMasterCertificateList()}},{key:"getSortFunction",value:function(e,t){return e&&Array.isArray(e)&&e.length>0&&("plant"!==t&&"cell"!==t&&"dept"!==t||e.sort(function(e,t){var n=e.name?e.name.toUpperCase():"",a=t.name?t.name.toUpperCase():"";return n<a?-1:n>a?1:0})),e}}]),e}(),dn.\u0275fac=function(e){return new(e||dn)(p["\u0275\u0275directiveInject"](u.k),p["\u0275\u0275directiveInject"](u.j),p["\u0275\u0275directiveInject"](Ke.b),p["\u0275\u0275directiveInject"](h.e),p["\u0275\u0275directiveInject"](c.a))},dn.\u0275cmp=p["\u0275\u0275defineComponent"]({type:dn,selectors:[["app-certificates"]],decls:48,vars:11,consts:[[1,"row","m-0"],[1,"col-8","m-auto"],["title","Certificates"],[1,"col-3","m-auto"],[1,"col-1","p-0","m-auto","text-center"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent","row","m-0"],[1,"col-4"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","name","searchInput","placeholder","Search by name or workstation","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","DeptName"],["mat-sort-header","EmpId"],["mat-sort-header","EmpName"],["mat-sort-header","Workstation"],["mat-sort-header","LevelName"],["mat-sort-header","Status"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["FilterModal",""],["certificateModal",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[3,"ngClass"],[1,"actionTd","fixedColumn"],[2,"color","#7044CD","cursor","pointer",3,"click"],[1,"fa","fa-eye","viewIcon"],["colspan","11","class","text-center no-record-found",4,"ngIf"],["colspan","11","class","text-center loading-div",4,"ngIf"],["colspan","11",1,"text-center","no-record-found"],["colspan","11",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","branchId",1,"col-sm-12","col-form-label","filter-label","p-b-0"],[1,"col-sm-12"],["name","branchId","id","branchId","formControlName","branchId",1,"custom-multiSelection","customWidthForInter","assessmentdropDown",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],["class","custom-errorMsg","style","padding-left: 15px;",4,"ngIf"],["for","deptIds",1,"col-sm-12","col-form-label","filter-label","p-b-0"],["name","deptIds","id","deptIds","formControlName","deptIds",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg",2,"padding-left","15px"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"],[3,"close","selectedDet"]],template:function(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275element"](2,"app-topBar",2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](3,"div",3),p["\u0275\u0275elementStart"](4,"div",4),p["\u0275\u0275elementStart"](5,"div",5),p["\u0275\u0275elementStart"](6,"button",6),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=p["\u0275\u0275reference"](45);return t.filterModalOpen(e)}),p["\u0275\u0275element"](7,"i",7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](8,$t,2,0,"div",8),p["\u0275\u0275template"](9,Ht,2,0,"div",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](10,"div",10),p["\u0275\u0275elementStart"](11,"div",11),p["\u0275\u0275elementStart"](12,"div",12),p["\u0275\u0275elementStart"](13,"div",13),p["\u0275\u0275template"](14,qt,1,0,"span",14),p["\u0275\u0275template"](15,Gt,1,0,"span",15),p["\u0275\u0275elementStart"](16,"input",16),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](17,"div",12),p["\u0275\u0275element"](18,"div",12),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](19,"div",17),p["\u0275\u0275elementStart"](20,"div",18),p["\u0275\u0275elementStart"](21,"table",19),p["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),p["\u0275\u0275elementStart"](22,"thead"),p["\u0275\u0275elementStart"](23,"tr"),p["\u0275\u0275elementStart"](24,"th",20),p["\u0275\u0275text"](25,"Plant"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](26,"th",21),p["\u0275\u0275text"](27,"Department"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"th",22),p["\u0275\u0275text"](29,"Emp. ID"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](30,"th",23),p["\u0275\u0275text"](31,"Emp.Name"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](32,"th",24),p["\u0275\u0275text"](33,"WorkStation"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](34,"th",25),p["\u0275\u0275text"](35,"Level"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](36,"th",26),p["\u0275\u0275text"](37,"Status"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](38,"th"),p["\u0275\u0275text"](39,"Action"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](40,"tbody"),p["\u0275\u0275template"](41,Jt,19,11,"tr",27),p["\u0275\u0275template"](42,Zt,3,2,"tr",28),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](43,"app-pagination",29),p["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](44,sn,26,14,"ng-template",null,30,p["\u0275\u0275templateRefExtractor"]),p["\u0275\u0275template"](46,cn,1,2,"ng-template",null,31,p["\u0275\u0275templateRefExtractor"])}2&e&&(p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](9,pn,t.searchDet.filterFlag)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.searchDet.filterFlag),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.searchDet.filterFlag),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.searchDet.searchData),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),p["\u0275\u0275advance"](25),p["\u0275\u0275property"]("ngForOf",t.certificateList),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",null==t.certificateList||0==t.certificateList.length),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[g.a,o.NgClass,o.NgIf,h.c,h.o,h.r,ie.a,ie.b,o.NgForOf,re.a,v.a,h.A,h.p,h.h,D.b,f.a,h.g,Ut.a],styles:[".extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border-radius:0;border:none;border-bottom:1px solid #7044cd;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:4px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1rem!important;color:#7044cd!important}.input-group-append[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{position:relative;top:.5em}.form-group[_ngcontent-%COMP%]{padding:.7rem 0;margin:0}.form-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-group[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 14px/1.5 Helvetica Neue;letter-spacing:0;color:#707070}.custom-errorMsg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:80%;color:#ff5252}.customInputField[_ngcontent-%COMP%]{margin-left:15px;padding-top:5px;width:100%;box-sizing:border-box;border:none;box-shadow:none}.tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{position:relative}.tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.actionTd[_ngcontent-%COMP%], .tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.actionTh[_ngcontent-%COMP%]{width:100px}.tableFixHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}"]}),dn)}],gn=((mn=function e(){l(this,e)}).\u0275fac=function(e){return new(e||mn)},mn.\u0275mod=p["\u0275\u0275defineNgModule"]({type:mn}),mn.\u0275inj=p["\u0275\u0275defineInjector"]({imports:[[s.i.forChild(un)],s.i]}),mn),fn=i("ebz3"),vn=i("QrAV"),Dn=i("VX2j"),xn=i("1yaQ"),Sn=i("FKr1"),bn={parse:{dateInput:"YYYY-MM-DD"},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},kn=((hn=function e(){l(this,e)}).\u0275fac=function(e){return new(e||hn)},hn.\u0275mod=p["\u0275\u0275defineNgModule"]({type:hn}),hn.\u0275inj=p["\u0275\u0275defineInjector"]({providers:[{provide:"Constant",useValue:Dn.a},{provide:Sn.e,useValue:bn}],imports:[[o.CommonModule,gn,fn.a,h.j,f.b,h.w,vn.a,oe.c,se.c,xn.a]]}),hn)},Sh6i:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("bnLG"),i=n("fXoL"),o=function(){var e=function(){function e(t){l(this,e),this.httpService=t}return r(e,[{key:"deleteOJTPlan",value:function(e){return this.httpService.getMethod(e)}},{key:"getBranchAccessList",value:function(e){return this.httpService.getMethod(e)}},{key:"getdepartmentlistbybranchid",value:function(e){return this.httpService.getMethod(e)}},{key:"getOJTPlan",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getOJTRegistration",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getSkillMatrixList",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getWorkforceResourceList",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getSkillMatrixEmpList",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getWorkstationList",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"submitOJTPlan",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"submitOJTRegi",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getOJTPlanDetails",value:function(e){return this.httpService.getMethod(e)}},{key:"getUserTypeList",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getCellList",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getWorkForceDeploymentDetails",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getDepartmentByBranch",value:function(e){return this.httpService.getMethod(e)}},{key:"getCertificateList",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getAssessmentDisplay",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getMasterLevelList",value:function(e){return this.httpService.getMethod(e)}},{key:"getMasterDepartmentList",value:function(e){return this.httpService.getMethod(e)}},{key:"getSkillMatrixActionList",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getSkillMatrixData",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getShiftData",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getWorkforceDeploymentData",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getWFDetailsList",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"saveWorkforceData",value:function(e,t){return this.httpService.postMethod(e,t)}},{key:"getOJTRegistrationDetails",value:function(e){return this.httpService.getMethod(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](a.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},VX2j:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={EQUAL:"EQUAL",ELIGIBLE:"ELIGIBLE",NOT_ELIGIBLE:"NOT_ELIGIBLE",OTHER:"OTHER"}}}])}();