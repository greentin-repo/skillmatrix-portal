!function(){function e(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var i=0,l=function(){};return{s:l,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"6xNQ":function(t,i,l){"use strict";l.r(i),l.d(i,"OjtCheckSheetModule",function(){return G});var a=l("ofXK"),o=l("tyNb"),s=l("3Pt+"),c=l("CYrx"),d=l("7jS0"),h=l("PSD3"),m=l.n(h),f=l("fXoL"),u=l("1kSV"),p=l("9O41"),g=l("Dh3D"),v=l("h77R"),S=l("X9RO"),D=l("bFKe"),b=l("Egam");function k(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",38),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().removeFilter()}),f["\u0275\u0275text"](1,"x"),f["\u0275\u0275elementEnd"]()}}function I(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",39),f["\u0275\u0275text"](1,"Filter Applied"),f["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"span",40),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().getSearchList(!0)}),f["\u0275\u0275elementEnd"]()}}function L(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"span",41),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().getSearchList(!1)}),f["\u0275\u0275elementEnd"]()}}function C(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"tr"),f["\u0275\u0275elementStart"](1,"td"),f["\u0275\u0275text"](2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"td"),f["\u0275\u0275text"](4),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](5,"td"),f["\u0275\u0275text"](6),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"td"),f["\u0275\u0275text"](8),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"td"),f["\u0275\u0275text"](10),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](11,"td"),f["\u0275\u0275text"](12),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"td"),f["\u0275\u0275text"](14),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"td",42),f["\u0275\u0275elementContainerStart"](16),f["\u0275\u0275elementStart"](17,"i",43),f["\u0275\u0275listener"]("click",function(){f["\u0275\u0275restoreView"](n);var e=t.$implicit;return f["\u0275\u0275nextContext"]().goOJTChecksheetDetailPage("/settings/skillMatrix/ojtchecksheet/add-ojt-check-sheet",e,!0)}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](18," \xa0 \xa0 "),f["\u0275\u0275elementStart"](19,"i",44),f["\u0275\u0275listener"]("click",function(){f["\u0275\u0275restoreView"](n);var e=t.$implicit;return f["\u0275\u0275nextContext"]().deleteChecksheet(e)}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](r.branchName),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](r.deptName),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](r.lineName),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](r.workstation),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](r.skillLevel),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](r.title),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](r.noOfDays)}}function y(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"td",47),f["\u0275\u0275text"](1," Data not found "),f["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"td",48),f["\u0275\u0275element"](1,"app-loading"),f["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"tr"),f["\u0275\u0275template"](1,y,2,0,"td",45),f["\u0275\u0275template"](2,w,2,0,"td",46),f["\u0275\u0275elementEnd"]()),2&e){var n=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!n.listLoading),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",n.listLoading)}}function F(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1," Please select plant "),f["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",73),f["\u0275\u0275template"](1,F,2,0,"div",35),f["\u0275\u0275elementEnd"]()),2&e){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",n.filterFormData.controls.branch.errors.required)}}function P(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1," Please select department "),f["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",73),f["\u0275\u0275template"](1,P,2,0,"div",35),f["\u0275\u0275elementEnd"]()),2&e){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",n.filterFormData.controls.deptId.errors.required)}}function O(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1," Please select cell/line "),f["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",73),f["\u0275\u0275template"](1,O,2,0,"div",35),f["\u0275\u0275elementEnd"]()),2&e){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",n.filterFormData.controls.lineId.errors.required)}}function N(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1," Please select workstation "),f["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",73),f["\u0275\u0275template"](1,N,2,0,"div",35),f["\u0275\u0275elementEnd"]()),2&e){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",n.filterFormData.controls.workstationId.errors.required)}}function j(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1," Please select level "),f["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",73),f["\u0275\u0275template"](1,j,2,0,"div",35),f["\u0275\u0275elementEnd"]()),2&e){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",n.filterFormData.controls.skillLvl.errors.required)}}function T(e,t){1&e&&f["\u0275\u0275element"](0,"span",74)}function W(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",75),f["\u0275\u0275text"](1," Loading..."),f["\u0275\u0275elementEnd"]())}function _(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",76),f["\u0275\u0275text"](1,"Apply Filter"),f["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",49),f["\u0275\u0275elementStart"](1,"h4",50),f["\u0275\u0275text"](2,"Filter"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"button",51),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().dismissModal()}),f["\u0275\u0275elementStart"](4,"span",52),f["\u0275\u0275text"](5,"\xd7"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"form",53),f["\u0275\u0275listener"]("ngSubmit",function(){f["\u0275\u0275restoreView"](n);var e=f["\u0275\u0275nextContext"]();return e.submitFilterForm(e.filterFormData)}),f["\u0275\u0275elementStart"](7,"div",54),f["\u0275\u0275elementStart"](8,"perfect-scrollbar"),f["\u0275\u0275elementStart"](9,"div",55),f["\u0275\u0275elementStart"](10,"label",56),f["\u0275\u0275text"](11,"Plant"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](12,"div",57),f["\u0275\u0275elementStart"](13,"ng-multiselect-dropdown",58),f["\u0275\u0275listener"]("ngModelChange",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().filterData.selectedBranch=e})("onSelect",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChange(e,"plant")})("onDeSelect",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChange(!1,"plant")}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](14,A,2,1,"div",59),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"div",55),f["\u0275\u0275elementStart"](16,"label",60),f["\u0275\u0275text"](17,"Department"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](18,"div",57),f["\u0275\u0275elementStart"](19,"ng-multiselect-dropdown",61),f["\u0275\u0275listener"]("ngModelChange",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().searchDet.deptIds=e})("onSelect",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChange(e,"dept")})("onDeSelect",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChange(!1,"dept")}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](20,M,2,1,"div",59),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](21,"div",55),f["\u0275\u0275elementStart"](22,"label",62),f["\u0275\u0275text"](23,"Cell/Line"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](24,"div",57),f["\u0275\u0275elementStart"](25,"ng-multiselect-dropdown",63),f["\u0275\u0275listener"]("ngModelChange",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().searchDet.line=e})("onSelect",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChange(e,"cell")})("onDeSelect",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChange(!1,"cell")})("onSelectAll",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChangeAll(e,"cell")})("onDeSelectAll",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChangeAll(e,"cell")}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](26,B,2,1,"div",59),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](27,"div",55),f["\u0275\u0275elementStart"](28,"label",64),f["\u0275\u0275text"](29,"Workstation"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](30,"div",57),f["\u0275\u0275elementStart"](31,"ng-multiselect-dropdown",65),f["\u0275\u0275listener"]("ngModelChange",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().searchDet.workstation=e})("onSelect",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChange(e,"workstation")})("onDeSelect",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChange(!1,"workstation")})("onSelectAll",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChangeAll(e,"Workstation")})("onDeSelectAll",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().onChangeAll(e,"Workstation")}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](32,V,2,1,"div",59),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](33,"div",55),f["\u0275\u0275elementStart"](34,"label",66),f["\u0275\u0275text"](35,"Level"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](36,"div",57),f["\u0275\u0275elementStart"](37,"ng-multiselect-dropdown",67),f["\u0275\u0275listener"]("ngModelChange",function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().filterData.selectedLvl=e}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](38,R,2,1,"div",59),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](39,"div",68),f["\u0275\u0275elementStart"](40,"button",69),f["\u0275\u0275template"](41,T,1,0,"span",70),f["\u0275\u0275template"](42,W,2,0,"span",71),f["\u0275\u0275template"](43,_,2,0,"span",72),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){var r=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](6),f["\u0275\u0275property"]("formGroup",r.filterFormData),f["\u0275\u0275advance"](7),f["\u0275\u0275property"]("placeholder","Select Plant")("settings",r.SingleBranchDropdownSettings)("data",r.branchAccessList)("disabled",!1)("ngModel",r.filterData.selectedBranch),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",r.submitAttempted&&r.filterFormData.controls.branch.invalid&&(r.filterFormData.controls.branch.touched||r.filterFormData.controls.branch.dirty)),f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("placeholder","Select Department")("settings",r.SingleDropdownSettings)("data",r.departmentList)("disabled",!1)("ngModel",r.searchDet.deptIds),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",r.submitAttempted&&r.filterFormData.controls.deptId.invalid&&(r.filterFormData.controls.deptId.touched||r.filterFormData.controls.deptId.dirty)),f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("placeholder","Select Cell/Line")("settings",r.multipleDropdownSettings)("data",r.cellList)("disabled",!1)("ngModel",r.searchDet.line),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",r.submitAttempted&&r.filterFormData.controls.lineId.invalid&&(r.filterFormData.controls.lineId.touched||r.filterFormData.controls.lineId.dirty)),f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("placeholder","Select Workstation")("settings",r.multipleDropdownSettings)("data",r.workforceList)("disabled",!1)("ngModel",r.searchDet.workstation),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",r.submitAttempted&&r.filterFormData.controls.workstationId.invalid&&(r.filterFormData.controls.workstationId.touched||r.filterFormData.controls.workstationId.dirty)),f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("placeholder","Select Level")("settings",r.SingleLevelDropdownSettings)("ngModel",r.filterData.selectedLvl)("data",r.LevelList)("disabled",!1),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",r.submitAttempted&&r.filterFormData.controls.skillLvl.invalid&&(r.filterFormData.controls.skillLvl.touched||r.filterFormData.controls.skillLvl.dirty)),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",r.submitSpinner),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",r.submitSpinner),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!r.submitSpinner)}}var U,z,q,K=function(e){return{applied:e}},$=[{path:"",component:(U=function(){function t(e,r,i,l,a){n(this,t),this.modalService=e,this.router=r,this.skillMatrixService=i,this.fb=l,this.alertService=a,this.searchDet={},this.filterData={},this.SingleBranchDropdownSettings={},this.SingleLevelDropdownSettings={},this.SingleDropdownSettings={},this.multipleDropdownSettings={},this.branchAccessList=[],this.checksheetList=[],this.LevelList=[],this.userDet={},this.submitSpinner=!1,this.listLoading=!1,this.submitAttempted=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},this.departmentList=[],this.workforceList=[],this.lineId=[],this.dataSpinner=[],this.reportBodyCell={}}var i,l,a;return i=t,(l=[{key:"ngOnInit",value:function(){this.userDet=JSON.parse(localStorage.getItem("userDet")),console.log(this.userDet),this.getLevelList(),this.getBranchAccessList(),this.SingleBranchDropdownSettings={singleSelection:!0,idField:"branchId",textField:"branchName",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.SingleLevelDropdownSettings={singleSelection:!0,idField:"id",textField:"levelName",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.SingleDropdownSettings={singleSelection:!0,idField:"id",textField:"name",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.multipleDropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0},this.filterFormData=this.fb.group({branch:new s.f("",s.z.required),lineId:new s.f(""),workstationId:new s.f(""),deptId:new s.f(""),skillLvl:new s.f("")}),this.filterList("")}},{key:"getLevelList",value:function(){var e=this;this.skillMatrixService.getLevelList("apis/sm/getLevelList").subscribe(function(t){console.log(t),t.result&&(e.LevelList=t.dataList)})}},{key:"getSearchList",value:function(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.filterList(this.searchDet.filterFlag?"filter":"")}},{key:"filterModalOpen",value:function(e){console.log("In filter"),this.clearPagination(),this.modalService.open(e,{windowClass:"filterPopup"})}},{key:"getBranchAccessList",value:function(){var e=this;this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(function(t){console.log(t),t.result?(e.branchAccessList=t.branchAccessList,console.log(e.branchAccessList),e.filterList("")):e.branchAccessList=[{branchId:e.userDet.branch.branchId,branchName:e.userDet.branch.name}]})}},{key:"modalOpen",value:function(e,t){this.modalService.open(e,{windowClass:t})}},{key:"goOJTChecksheetDetailPage",value:function(e,t,n){(t=""==t?{isEditable:!0,isEditPoint:!1,isEditParameter:!1,checkSheetId:0}:{isEditable:!0,isEditPoint:!1,isEditParameter:!1,checkSheetId:t.id}).isEditable=n;var r=Object.assign({},t,{tmpPagination:this.staticPagination});e&&(null!=r?(localStorage.removeItem("setChecksheetId"),localStorage.setItem("setChecksheetId",JSON.stringify(r))):localStorage.removeItem("setChecksheetId"),this.router.navigateByUrl(e))}},{key:"filterList",value:function(e){var t=this;this.listLoading=!0,this.submitSpinner=!0,this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage,console.log(this.filterData.slectedBranch);var n={orgId:this.userDet.organization.orgId,offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage,updatedBy:this.userDet.empId,createdBy:this.userDet.empId};if(this.sorting&&""!=this.sorting.direction&&(n.colName=this.sorting.active,n.orderType=this.sorting.direction.toUpperCase()),this.searchDet.searchData&&this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(n.search=this.searchDet.searchInput),"filter"==e){if(this.filterFormData.invalid)return void Object.keys(this.filterFormData.controls).forEach(function(e){t.filterFormData.controls[e].markAsDirty()});if(null!=this.filterData.selectedBranch&&this.filterData.selectedBranch.length>0)for(var r=0;r<this.filterData.selectedBranch.length;r++)n.branchId=this.filterData.selectedBranch[r].branchId;if(null!=this.filterData.selectedLvl&&this.filterData.selectedLvl.length>0)for(var i=0;i<this.filterData.selectedLvl.length;i++)n.skillLvlId=this.filterData.selectedLvl[i].id;if(null!=this.getIDsArray(this.searchDet.workstation)&&this.getIDsArray(this.searchDet.workstation).length>0)for(var l=0;l<this.getIDsArray(this.searchDet.workstation).length;l++)n.workstationIds=this.getIDsArray(this.searchDet.workstation);if(null!=this.searchDet.deptIds&&this.searchDet.deptIds.length>0)for(var a=0;a<this.searchDet.deptIds.length;a++)n.deptId=this.searchDet.deptIds[0].id;if(null!=this.getIDsArray(this.searchDet.line)&&this.getIDsArray(this.searchDet.line).length>0)for(var o=0;o<this.getIDsArray(this.searchDet.line).length;o++)n.lineIds=this.getIDsArray(this.searchDet.line)}else n.branchId=this.userDet.branch.branchId;console.log(n),this.skillMatrixService.getChecksheetList("apis/sm/getChecksheetList",n).subscribe(function(e){t.submitSpinner=!1,t.listLoading=!1,e.result?(1==t.staticPagination.page&&(t.staticPagination.total=e.totalCount,t.staticPagination.totalPages=Math.ceil(e.totalCount/t.staticPagination.itemsPerPage)),null!=e.dataList&&e.dataList.length>0?(t.checksheetList=e.dataList,t.staticPagination.listLength=t.checksheetList.length):(t.staticPagination.listLength=t.checksheetList.length,t.listLoading=!1,t.submitSpinner=!1)):(t.listLoading=!1,t.submitSpinner=!1,t.checksheetList=[])},function(e){t.listLoading=!1})}},{key:"deleteChecksheet",value:function(e){var t=this;m.a.fire({title:"Are You Sure!",text:"Do you want to remove this checksheet?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove It",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(function(n){t.dataSpinner[e]=!0,n.isConfirmed?t.skillMatrixService.deleteChecksheet("apis/sm/deleteChecksheet",{updatedBy:t.userDet.empId,createdBy:t.userDet.empId,checkSheetId:e.id}).subscribe(function(e){t.dataSpinner[e.id]=!1,e.result?(t.alertService.success("OJT checksheet removed successfully."),t.filterList(t.searchDet.filterFlag?"filter":"")):t.alertService.error(100==e.statusCode?e.reason:"Error occurred while removing data. Please try again")}):t.dataSpinner[e.checksheetPointId]=!1})}},{key:"sortData",value:function(e){this.sorting=e,this.filterList("")}},{key:"loadMore",value:function(e){this.staticPagination=e,this.searchDet.filterFlag?(this.checksheetList=[],this.listLoading=!0,this.filterList("filter")):(this.checksheetList=[],this.listLoading=!0,this.filterList(""))}},{key:"clearPagination",value:function(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}},{key:"dismissModal",value:function(){this.submitAttempted=!1,this.filterData.selectedBranch=[],this.searchDet.deptIds=[],this.searchDet.line=[],this.searchDet.workstation=[],this.filterData.selectedLvl=[],this.modalService.dismissAll()}},{key:"submitFilterForm",value:function(e){this.submitAttempted=!0,e.invalid?Object.keys(e.controls).forEach(function(t){e.controls[t].markAsDirty()}):(this.searchDet.filterFlag=!0,this.filterList("filter"),this.modalService.dismissAll())}},{key:"removeFilter",value:function(){this.submitAttempted=!1,this.filterFormData.patchValue({branch:[],skillLvl:[]}),this.filterData.selectedBranch=[],this.searchDet.deptIds=[],this.searchDet.workstation=[],this.searchDet.line=[],this.filterData.selectedLvl=[],this.searchDet.filterFlag=!1,this.filterList("")}},{key:"getSortFunction",value:function(e,t){return console.log(e,t),e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"level"!==t||e.sort(function(e,t){var n=e.branchName?e.branchName.toUpperCase():"",r=t.branchName?t.branchName.toUpperCase():"";return n<r?-1:n>r?1:0})),e}},{key:"getDepartmentList",value:function(e){var t=this;this.skillMatrixService.getDepartmentByBranch("getdepartmentlistbybranchid/"+e).subscribe(function(e){e.result&&null!=e.deptList&&e.deptList.length>0?(t.departmentList=t.setArray(e.deptList,"deptId","deptName"),t.departmentList=t.sortFunction(t.departmentList,"deptName"),t.searchDet.dept=[t.departmentList[0]],t.searchDet.addForm||(t.searchDet.departmentList=t.setArray(e.deptList,"deptId","deptName"))):t.searchDet.departmentList=[]})}},{key:"getCellList",value:function(e){var t=this;console.log(e),this.reportBodyCell={branchId:this.branchId,deptId:e},this.skillMatrixService.getCellList("apis/sm/getCellList/",this.reportBodyCell).subscribe(function(e){console.log(e),e.result&&(null!=e.dataList&&e.dataList.length>0?(t.cellList=t.setArray(e.dataList,"lineId","lineName"),console.log(t.cellList),t.cellList=t.sortFunction(t.cellList,"lineName"),t.searchDet.dept=[t.cellList[0]],t.searchDet.cellList=t.setArray(e.dataList,"lineId","lineName")):(t.cellList=[],t.searchDet.cellList=[]))})}},{key:"getWorkforceList",value:function(e){var t=this;console.log(e);var n={branchId:this.branchId,orgId:this.userDet.organization.orgId,deptId:this.deptId,lineIds:[e]};console.log(n),this.skillMatrixService.getWorkforceDeploymentData("apis/sm/getWorkstationList",n).subscribe(function(e){e.result?(console.log(e),null!=e.dataList&&e.dataList.length>0?(t.workforceList=t.setArray(e.dataList,"id","workstation"),t.workforceList=t.sortFunction(t.workforceList,"workstation"),t.searchDet.workforceList=[t.workforceList[0]],console.log(t.workforceList)):t.workforceList=[]):t.workforceList=[]})}},{key:"setArray",value:function(t,n,r){var i=[];if(null!=t&&t.length>0){var l,a=e(t);try{for(a.s();!(l=a.n()).done;){var o=l.value;o.id=o[n],o.name=o[r],i.push(o)}}catch(s){a.e(s)}finally{a.f()}}return i}},{key:"getIDsArray",value:function(t){var n=[];if(null!=t&&t.length>0){var r,i=e(t);try{for(i.s();!(r=i.n()).done;){var l=r.value;n.push(l.id)}}catch(a){i.e(a)}finally{i.f()}}return n}},{key:"onChange",value:function(e,t){e?(console.log(e),"dept"==t&&(this.cellList=[],this.deptId=e.id,this.searchDet.lineId=[],this.resetFormField(this.filterFormData,"cellLineId"),this.resetFormField(this.filterFormData,"workstationId"),this.getCellList(this.deptId)),"plant"==t&&(console.log(e),this.branchId=e.branchId,this.searchDet.deptIds=[],this.resetFormField(this.filterFormData,"deptId"),this.resetFormField(this.filterFormData,"cellLineId"),this.resetFormField(this.filterFormData,"workstationId"),this.getDepartmentList(this.branchId),this.searchDet.addForm&&console.log("inside")),"cell"==t&&(console.log(e),this.lineId=e.id,this.searchDet.work=[],this.resetFormField(this.filterFormData,"workstationId"),this.getWorkforceList(this.lineId))):"plant"==t?this.searchDet&&(this.departmentList=[],this.searchDet.departmentList=[],this.cellList=[],this.searchDet.cellList=[],this.searchDet.lineId=[]):"dept"==t&&(this.cellList=[],this.searchDet.cellList=[],this.searchDet.lineId=[])}},{key:"resetFormField",value:function(e,t){Object.keys(e.controls).forEach(function(n){n==t&&(e.get(t).reset(),e.get(t).markAsPristine(),e.get(t).markAsUntouched())})}},{key:"sortFunction",value:function(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var r=Number(e[t])?e[t]:e[t].toUpperCase(),i=Number(n[t])?n[t]:n[t].toUpperCase();return r<i?-1:r>i?1:0}),e}},{key:"onChangeAll",value:function(e,t){e?console.log("Select All action"):console.log("Unselect All action")}}])&&r(i.prototype,l),a&&r(i,a),t}(),U.\u0275fac=function(e){return new(e||U)(f["\u0275\u0275directiveInject"](u.j),f["\u0275\u0275directiveInject"](o.f),f["\u0275\u0275directiveInject"](c.a),f["\u0275\u0275directiveInject"](s.e),f["\u0275\u0275directiveInject"](d.b))},U.\u0275cmp=f["\u0275\u0275defineComponent"]({type:U,selectors:[["app-ojt-check-sheet"]],decls:53,vars:11,consts:[[1,"row","m-0"],[1,"col-8","m-auto"],["title","OJT Checksheet"],[1,"col-3","m-auto"],[1,"col-1","p-0","m-auto","text-center"],[1,"btn-filter-wrap"],["title","Filter",1,"btn","btn-default","filter-btn",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-filter","filter-icon"],["class","btn-clear-filter",3,"click",4,"ngIf"],["class","lbl-filter-applied",4,"ngIf"],[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"p-l-0","p-r-5","col-4"],[1,"col-12"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","name","searchInput","placeholder","Search by title or workstation","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col-4","p-r-5","p-l-5","form-group"],[1,"col-4","p-0"],[1,"addRegDiv",2,"bottom","-0.1rem"],["type","button",1,"btn","addRegBtn","m-0",3,"click"],[1,"fa","fa-plus","m-r-10"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName",1,"fixedColumn"],["mat-sort-header","DeptName"],["mat-sort-header","LineName"],["mat-sort-header","Workstation"],["mat-sort-header","Level"],["mat-sort-header","Title"],["mat-sort-header","NoOfDay"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["filterPopup",""],[1,"btn-clear-filter",3,"click"],[1,"lbl-filter-applied"],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[1,"actionTd","fixedColumn"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],["colspan","11","class","text-center no-record-found",4,"ngIf"],["colspan","11","class","text-center loading-div",4,"ngIf"],["colspan","11",1,"text-center","no-record-found"],["colspan","11",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title","popup-header-txt"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"modal-body","p-2",2,"height","calc(100vh - 14vh)"],[1,"row","m-b-0"],["for","branch",1,"col-sm-12","col-form-label","filter-label"],[1,"col-sm-12"],["name","branch","id","branch","formControlName","branch",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","disabled","ngModel","ngModelChange","onSelect","onDeSelect"],["class","custom-errorMsg",4,"ngIf"],["for","deptId",1,"col-sm-12","col-form-label","filter-label"],["name","deptId","id","deptId","formControlName","deptId",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","disabled","ngModel","ngModelChange","onSelect","onDeSelect"],["for","lineId",1,"col-sm-12","col-form-label","filter-label"],["name","lineId","id","lineId","formControlName","lineId",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","disabled","ngModel","ngModelChange","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],["for","workstationId",1,"col-sm-12","col-form-label","filter-label"],["name","workstationId","id","workstationId","formControlName","workstationId",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","data","disabled","ngModel","ngModelChange","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],["for","skillLvlId",1,"col-sm-12","col-form-label","filter-label"],["name","skillLvl","id","skillLvlId","formControlName","skillLvl",1,"custom-multiSelection","assessmentdropDown","customWidthForRport",3,"placeholder","settings","ngModel","data","disabled","ngModelChange"],[1,"modal-footer","footerBlock","text-right"],["type","submit",1,"btn","submitBtn","event-btn"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",0),f["\u0275\u0275elementStart"](1,"div",1),f["\u0275\u0275element"](2,"app-topBar",2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](3,"div",3),f["\u0275\u0275elementStart"](4,"div",4),f["\u0275\u0275elementStart"](5,"div",5),f["\u0275\u0275elementStart"](6,"button",6),f["\u0275\u0275listener"]("click",function(){f["\u0275\u0275restoreView"](n);var e=f["\u0275\u0275reference"](52);return t.filterModalOpen(e)}),f["\u0275\u0275element"](7,"i",7),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](8,k,2,0,"div",8),f["\u0275\u0275template"](9,I,2,0,"div",9),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](10,"div",10),f["\u0275\u0275elementStart"](11,"div",11),f["\u0275\u0275elementStart"](12,"div",0),f["\u0275\u0275elementStart"](13,"div",12),f["\u0275\u0275elementStart"](14,"div",0),f["\u0275\u0275elementStart"](15,"div",13),f["\u0275\u0275elementStart"](16,"div",14),f["\u0275\u0275template"](17,x,1,0,"span",15),f["\u0275\u0275template"](18,L,1,0,"span",16),f["\u0275\u0275elementStart"](19,"input",17),f["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](20,"div",18),f["\u0275\u0275elementStart"](21,"div",19),f["\u0275\u0275elementStart"](22,"div",20),f["\u0275\u0275elementStart"](23,"button",21),f["\u0275\u0275listener"]("click",function(){return t.goOJTChecksheetDetailPage("/settings/skillMatrix/ojtchecksheet/add-ojt-check-sheet","",!0)}),f["\u0275\u0275element"](24,"i",22),f["\u0275\u0275text"](25," Create OJT Checksheet "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](26,"div",23),f["\u0275\u0275elementStart"](27,"div",24),f["\u0275\u0275elementStart"](28,"table",25),f["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),f["\u0275\u0275elementStart"](29,"thead"),f["\u0275\u0275elementStart"](30,"tr"),f["\u0275\u0275elementStart"](31,"th",26),f["\u0275\u0275text"](32,"Plant"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](33,"th",27),f["\u0275\u0275text"](34,"Department"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](35,"th",28),f["\u0275\u0275text"](36,"Cell/Line"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](37,"th",29),f["\u0275\u0275text"](38,"Workstation"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](39,"th",30),f["\u0275\u0275text"](40,"Level"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](41,"th",31),f["\u0275\u0275text"](42,"Title"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](43,"th",32),f["\u0275\u0275text"](44,"No. of Days"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](45,"th",33),f["\u0275\u0275text"](46,"Action"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](47,"tbody"),f["\u0275\u0275template"](48,C,20,7,"tr",34),f["\u0275\u0275template"](49,E,3,2,"tr",35),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](50,"app-pagination",36),f["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](51,J,44,34,"ng-template",null,37,f["\u0275\u0275templateRefExtractor"])}2&e&&(f["\u0275\u0275advance"](6),f["\u0275\u0275property"]("ngClass",f["\u0275\u0275pureFunction1"](9,K,t.searchDet.filterFlag)),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",t.searchDet.filterFlag),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.searchDet.filterFlag),f["\u0275\u0275advance"](8),f["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.searchDet.searchData),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),f["\u0275\u0275advance"](29),f["\u0275\u0275property"]("ngForOf",t.checksheetList),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",null==t.checksheetList||0==t.checksheetList.length),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[p.a,a.NgClass,a.NgIf,s.c,s.o,s.r,g.a,g.b,a.NgForOf,v.a,S.a,s.A,s.p,s.h,D.b,b.a,s.g],styles:[".checksheetinputBox[_ngcontent-%COMP%], .checksheetinputBox[_ngcontent-%COMP%]:hover{border-radius:4px;box-shadow:0 0 2px 1px #eae1ea;border:1px solid #dedede;background:#fff}.extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{position:absolute;right:6rem!important;font:normal normal 400 14px/37px Helvetica Neue;color:#fff;text-transform:capitalize;top:0;box-shadow:none;outline:none;border:none;padding:0}.tableFixHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]}),U)},{path:"add-ojt-check-sheet",loadChildren:function(){return l.e(20).then(l.bind(null,"SkBa")).then(function(e){return e.AddOjtCheckSheetModule})}}],H=((z=function e(){n(this,e)}).\u0275fac=function(e){return new(e||z)},z.\u0275mod=f["\u0275\u0275defineNgModule"]({type:z}),z.\u0275inj=f["\u0275\u0275defineInjector"]({imports:[[o.i.forChild($)],o.i]}),z),X=l("PRC2"),Y=l("ebz3"),G=((q=function e(){n(this,e)}).\u0275fac=function(e){return new(e||q)},q.\u0275mod=f["\u0275\u0275defineNgModule"]({type:q}),q.\u0275inj=f["\u0275\u0275defineInjector"]({imports:[[a.CommonModule,Y.a,H,d.j,d.h,s.j,b.b,s.w,X.a,Y.a,d.g]]}),q)}}])}();