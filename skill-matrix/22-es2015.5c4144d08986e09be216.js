(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"0JGa":function(e,t,n){"use strict";n.r(t),n.d(t,"ReferenceModule",function(){return ce});var a=n("ofXK"),i=n("tyNb"),r=n("fXoL"),o=n("CYrx"),s=n("PSD3"),c=n.n(s),l=n("7jS0"),d=n("3Pt+"),h=n("1kSV"),m=n("Egam"),p=n("Dh3D"),f=n("h77R"),g=n("X9RO");function u(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"span",30),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().getSearchList(!0)}),r["\u0275\u0275elementEnd"]()}}function b(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"span",31),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().getSearchList(!1)}),r["\u0275\u0275elementEnd"]()}}function S(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"app-loading",32),r["\u0275\u0275text"](1,"Please Wait..."),r["\u0275\u0275elementEnd"]())}function v(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"td"),r["\u0275\u0275text"](6),r["\u0275\u0275pipe"](7,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"td",33),r["\u0275\u0275elementStart"](9,"i",34),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit,a=r["\u0275\u0275nextContext"](),i=r["\u0275\u0275reference"](40);return a.editRefModel(i,"top",n)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\xa0 \xa0 "),r["\u0275\u0275elementStart"](11,"i",35),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"]().removeRefModel(n)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12,"\xa0 \xa0 "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.branchName),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.modelName),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.createdDate?r["\u0275\u0275pipeBind2"](7,3,e.createdDate,"dd-MM-yyyy"):"N/A")}}function C(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"td",38),r["\u0275\u0275text"](1," Data not Found "),r["\u0275\u0275elementEnd"]())}function M(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"td",39),r["\u0275\u0275element"](1,"app-loading"),r["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275template"](1,C,2,0,"td",36),r["\u0275\u0275template"](2,M,2,0,"td",37),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.isModelListLoading),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.isModelListLoading)}}function x(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",58),r["\u0275\u0275text"](1," please enter model name "),r["\u0275\u0275elementEnd"]())}function R(e,t){1&e&&r["\u0275\u0275element"](0,"span",59)}function P(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span",60),r["\u0275\u0275text"](1," Loading..."),r["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span",61),r["\u0275\u0275text"](1,"Submit"),r["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",40),r["\u0275\u0275elementStart"](1,"h4",41),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"button",42),r["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),r["\u0275\u0275elementStart"](4,"span",43),r["\u0275\u0275text"](5,"\xd7"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"form",44),r["\u0275\u0275listener"]("ngSubmit",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.saveReferenceModel(t.formdata)}),r["\u0275\u0275elementStart"](7,"div",45),r["\u0275\u0275elementStart"](8,"div"),r["\u0275\u0275elementStart"](9,"div",46),r["\u0275\u0275elementStart"](10,"label",47),r["\u0275\u0275text"](11,"Model Name \xa0 "),r["\u0275\u0275elementStart"](12,"span",48),r["\u0275\u0275text"](13,"*"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"div",49),r["\u0275\u0275elementStart"](15,"input",50),r["\u0275\u0275listener"]("ngModelChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().addEditReferenceModel.modelName=t}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](16,x,2,0,"div",51),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](17,"div",52),r["\u0275\u0275elementStart"](18,"div",53),r["\u0275\u0275elementStart"](19,"button",54),r["\u0275\u0275template"](20,R,1,0,"span",55),r["\u0275\u0275template"](21,P,2,0,"span",56),r["\u0275\u0275template"](22,I,2,0,"span",57),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.modalTitle),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("formGroup",e.formdata),r["\u0275\u0275advance"](9),r["\u0275\u0275property"]("ngModel",e.addEditReferenceModel.modelName),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.isFormSubmitted&&e.formdata.controls.modelName.invalid||(e.formdata.controls.modelName.touched||e.formdata.controls.modelName.Untouched)&&e.formdata.controls.modelName.hasError("required")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",e.submitSpinner),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.submitSpinner),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.submitSpinner),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.submitSpinner)}}let y=(()=>{class e{constructor(e,t,n,a,i){this.skillMatrixService=t,this.alertService=n,this.modalService=a,this.fb=i,this.searchDet={},this.submitSpinner=!1,this.isModelListLoading=!1,this.referencemodelList=[],this.referenceModel={},this.SingleBranchDropdownSettings={},this.userDet={},this.branchAccessList=[],this.addEditReferenceModel={},this.isFormSubmitted=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},e.backdrop="static",e.keyboard=!1}ngOnInit(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getBranchAccessList(),this.SingleBranchDropdownSettings={singleSelection:!0,idField:"branchId",textField:"branchName",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.formdata=this.fb.group({modelName:new d.f("",d.z.required)}),this.resetForm()}getBranchAccessList(){this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(e=>{e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?(this.branchAccessList=e.branchAccessList,this.branchAccessList=this.setArray(this.branchAccessList,"branchId","branchName"),this.branchAccessList=this.sortFunction(this.branchAccessList,"name"),this.referenceModel.branch=[this.branchAccessList[0]]):this.branchAccessList=[{branchId:this.userDet.branch.branchId,branchName:this.userDet.branch.name}],this.branchAccessList.length>0&&(this.referenceModel.branch=[this.branchAccessList[0]]),this.onChangeBranch(this.branchAccessList[0])})}onChangeBranch(e){e?(this.disableReferModel=!0,this.referenceModel.branchId=e.branchId,this.getModelListData()):(this.disableReferModel=!1,this.referencemodelList=[])}getModelListData(){this.isModelListLoading=!0,console.log(this.staticPagination.total),this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;let e={offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage,branchId:this.referenceModel.branchId};this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(e.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(e.colName=this.sorting.active,e.orderType=this.sorting.direction.toUpperCase()),console.log(e),this.skillMatrixService.getModelListData("apis/sm/getModelList",e).subscribe(e=>{e.result?(this.isModelListLoading=!1,1==this.staticPagination.page&&(this.staticPagination.total=e.totalCount,this.staticPagination.totalPages=Math.ceil(e.totalCount/this.staticPagination.itemsPerPage)),null!=e.dataList&&e.dataList.length>0?(this.referencemodelList=e.dataList,this.staticPagination.listLength=this.referencemodelList.length):(this.referencemodelList=[],this.staticPagination.listLength=this.referencemodelList.length,this.staticPagination.total=this.referencemodelList.length)):(this.referencemodelList=[],this.staticPagination.listLength=this.referencemodelList.length,this.staticPagination.total=this.referencemodelList.length,this.isModelListLoading=!1)},e=>{this.referencemodelList=[],this.isModelListLoading=!1})}addRefModalOpen(e,t){this.modalTitle="Add New Model",this.addEditReferenceModel.branch="",this.addEditReferenceModel.modelName="",this.resetForm(),this.modalService.open(e,{windowClass:t})}resetForm(){this.formdata.reset(),this.isFormSubmitted=!1}editRefModel(e,t,n){this.modalTitle="Update Model",this.addEditReferenceModel.modelName=n.modelName,this.addEditReferenceModel.modelId=n.id;for(let a=0;a<this.branchAccessList.length;a++)this.branchAccessList[a].branchId==n.branchId&&(this.addEditReferenceModel.branch=[this.branchAccessList[a]]);this.modalService.open(e,{windowClass:t})}saveReferenceModel(e){if(this.isFormSubmitted=!0,e.valid)if(null==this.addEditReferenceModel.modelId||""==this.addEditReferenceModel.modelId){if(null!=this.addEditReferenceModel.branch&&this.addEditReferenceModel.branch.length>0)for(let e=0;e<this.addEditReferenceModel.branch.length;e++)this.addEditReferenceModel.branchId=this.addEditReferenceModel.branch[e].branchId;this.reqBody={branchId:this.referenceModel.branch[0].branchId,modelName:this.addEditReferenceModel.modelName,isActive:!0,updatedBy:this.userDet.empId},this.skillMatrixService.saveReferenceModel("apis/sm/addModelDetails",this.reqBody).subscribe(e=>{e.result?(this.modalService.dismissAll(),this.alertService.success("New model added successfully"),this.submitSpinner=!1,this.addEditReferenceModel.branch="",this.addEditReferenceModel.modelName="",this.getModelListData()):this.alertService.error(100==e.statusCode?e.reason:"Error occurred while adding data. Please try again")})}else{if(null!=this.addEditReferenceModel.branch&&this.addEditReferenceModel.branch.length>0)for(let e=0;e<this.addEditReferenceModel.branch.length;e++)this.addEditReferenceModel.branchId=this.addEditReferenceModel.branch[e].branchId;this.reqBody={modelId:this.addEditReferenceModel.modelId,branchId:this.addEditReferenceModel.branchId,modelName:this.addEditReferenceModel.modelName,updatedBy:this.userDet.empId},this.skillMatrixService.updateModalDetails("apis/sm/updateModelDetails",this.reqBody).subscribe(e=>{e.result?(this.modalService.dismissAll(),this.alertService.success("Model updated successfully"),this.addEditReferenceModel.branch="",this.addEditReferenceModel.modelName="",this.addEditReferenceModel.modelId="",this.submitSpinner=!1,this.getModelListData()):this.alertService.error(100==e.statusCode?e.reason:"Error occurred while updating data. Please try again")})}}removeRefModel(e){c.a.fire({title:"Are You Sure!",text:"Do you want to remove this model ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove It",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&(this.reqBody={modelId:e.id,updatedBy:this.userDet.empId},this.skillMatrixService.deleteModelDetails("apis/sm/deleteModelDetails",this.reqBody).subscribe(e=>{e.result?(this.alertService.success("Model removed successfully"),this.getModelListData()):this.alertService.error(100==e.statusCode?e.reason:"Error occurred while removing data. Please try again")}))})}loadMore(e){this.staticPagination=e,this.referencemodelList=[],this.isModelListLoading=!0,this.getModelListData()}sortData(e){this.sorting=e,this.getModelListData()}getSearchList(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getModelListData()}clearPagination(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}getSortFunction(e,t){return e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"level"!==t||e.sort(function(e,t){var n=e.branchName?e.branchName.toUpperCase():"",a=t.branchName?t.branchName.toUpperCase():"";return n<a?-1:n>a?1:0})),e}setArray(e,t,n){let a=[];if(null!=e&&e.length>0)for(const i of e)i.id=i[t],i.name=i[n],a.push(i);return a}sortFunction(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),i=Number(n[t])?n[t]:n[t].toUpperCase();return a<i?-1:a>i?1:0}),e}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](h.k),r["\u0275\u0275directiveInject"](o.a),r["\u0275\u0275directiveInject"](l.b),r["\u0275\u0275directiveInject"](h.j),r["\u0275\u0275directiveInject"](d.e))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-reference-model"]],decls:41,vars:12,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-8","p-0"],[1,"col-6"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","id","your-element-id","name","searchInput","placeholder","Search by model and plant name","autocomplete","off",1,"form-control",2,"padding-right","2.4rem",3,"ngModel","ngModelChange","keyup"],[1,"col-6","p-r-5","p-l-5"],[1,"form-group","m-0"],["for","branch",1,"col-form-label1","p-0",2,"top","11px"],[1,"p-l-5"],["name","branch","id","branch",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button",1,"btn","addRegBtn","m-0",3,"disabled","click"],[1,"fa","fa-plus","m-r-10"],["style","position: absolute;top: 50%;left: 50%;",4,"ngIf"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","ModelName"],["mat-sort-header","CreatedDate"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["openRefModalModel",""],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[2,"position","absolute","top","50%","left","50%"],[1,"actionTd","size","text-left"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],["colspan","2","class","text-center no-record-found",4,"ngIf"],["colspan","2","class","text-center loading-div",4,"ngIf"],["colspan","2",1,"text-center","no-record-found"],["colspan","2",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"row","form-group"],["for","modelName",1,"col-sm-4","col-form-label"],[1,"astrik"],[1,"col-sm-8"],["type","text","id","modelName","name","modelName","placeholder","Enter model name","formControlName","modelName","maxlength","255",1,"form-control","customInput-field",3,"ngModel","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],[1,"footerDiv"],[1,"footerBtn"],["type","submit",1,"btn","btn-lg","submitBtn","event-btn",3,"disabled"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275elementStart"](4,"div",2),r["\u0275\u0275elementStart"](5,"div",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275template"](7,u,1,0,"span",6),r["\u0275\u0275template"](8,b,1,0,"span",7),r["\u0275\u0275elementStart"](9,"input",8),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"div",9),r["\u0275\u0275elementStart"](11,"div",10),r["\u0275\u0275elementStart"](12,"label",11),r["\u0275\u0275text"](13,"Plant"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"div",12),r["\u0275\u0275elementStart"](15,"ng-multiselect-dropdown",13),r["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeBranch(e)})("onDeSelect",function(){return t.onChangeBranch(!1)})("ngModelChange",function(e){return t.referenceModel.branch=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"div",14),r["\u0275\u0275elementStart"](17,"div",15),r["\u0275\u0275elementStart"](18,"button",16),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275reference"](40);return t.addRefModalOpen(n,"top")}),r["\u0275\u0275element"](19,"i",17),r["\u0275\u0275text"](20," Add Model"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](21,S,2,0,"app-loading",18),r["\u0275\u0275elementStart"](22,"div",19),r["\u0275\u0275elementStart"](23,"div",20),r["\u0275\u0275elementStart"](24,"table",21),r["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),r["\u0275\u0275elementStart"](25,"thead"),r["\u0275\u0275elementStart"](26,"tr"),r["\u0275\u0275elementStart"](27,"th",22),r["\u0275\u0275text"](28,"Plant"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](29,"th",23),r["\u0275\u0275text"](30,"Model"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](31,"th",24),r["\u0275\u0275text"](32,"Created Date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](33,"th",25),r["\u0275\u0275text"](34,"Action"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](35,"tbody"),r["\u0275\u0275template"](36,v,13,6,"tr",26),r["\u0275\u0275template"](37,E,3,2,"tr",27),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](38,"app-pagination",28),r["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](39,L,23,8,"ng-template",null,29,r["\u0275\u0275templateRefExtractor"])}2&e&&(r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.searchDet.searchData),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("placeholder","Select Plant")("settings",t.SingleBranchDropdownSettings)("data",t.branchAccessList)("ngModel",t.referenceModel.branch),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",!t.disableReferModel),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.isModelListLoading),r["\u0275\u0275advance"](15),r["\u0275\u0275property"]("ngForOf",t.referencemodelList),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",null==t.referencemodelList||0==t.referencemodelList.length),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[a.NgIf,d.c,d.o,d.r,m.a,p.a,p.b,a.NgForOf,f.a,g.a,d.A,d.p,d.h,d.g,d.k],pipes:[a.DatePipe],styles:[".addRegDiv[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{position:absolute;right:8rem;font:normal normal 400 14px/37px Helvetica Neue;color:#fff;text-transform:capitalize;top:0;box-shadow:none;outline:none;border:none;padding:0}.extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border-radius:0;border:none;border-bottom:1px solid #7044cd;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:2px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1.5rem!important;color:#7044cd!important}.form-group[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;padding:.7rem 0;margin:0}.form-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-group[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 14px/1.5 Helvetica Neue;letter-spacing:0;color:#707070}.custom-errorMsg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:80%;color:#ff5252}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e3eaef!important}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;margin:0}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:normal normal 300 25px/1 Helvetica Neue}"]}),e})();function D(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"span",30),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().getSearchList(!0)}),r["\u0275\u0275elementEnd"]()}}function N(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"span",31),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().getSearchList(!1)}),r["\u0275\u0275elementEnd"]()}}function w(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"app-loading",32),r["\u0275\u0275text"](1,"Please Wait..."),r["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"td"),r["\u0275\u0275text"](6),r["\u0275\u0275pipe"](7,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"td",33),r["\u0275\u0275elementStart"](9,"i",34),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit,a=r["\u0275\u0275nextContext"](),i=r["\u0275\u0275reference"](40);return a.updateRefGapReason(i,"top",n)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\xa0 \xa0 "),r["\u0275\u0275elementStart"](11,"i",35),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"]().removeRefGapReason(n)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12,"\xa0 \xa0 "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.branchName),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.reason),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.createdDate?r["\u0275\u0275pipeBind2"](7,3,e.createdDate,"dd-MM-yyyy"):"N/A")}}function k(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"td",38),r["\u0275\u0275text"](1," Data not found "),r["\u0275\u0275elementEnd"]())}function _(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"td",39),r["\u0275\u0275element"](1,"app-loading"),r["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275template"](1,k,2,0,"td",36),r["\u0275\u0275template"](2,_,2,0,"td",37),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.isGapListLoading),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.isGapListLoading)}}function G(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",58),r["\u0275\u0275text"](1," Please enter gap reason "),r["\u0275\u0275elementEnd"]())}function B(e,t){1&e&&r["\u0275\u0275element"](0,"span",59)}function F(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span",60),r["\u0275\u0275text"](1," Loading..."),r["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span",61),r["\u0275\u0275text"](1,"Submit"),r["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",40),r["\u0275\u0275elementStart"](1,"h4",41),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"button",42),r["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),r["\u0275\u0275elementStart"](4,"span",43),r["\u0275\u0275text"](5,"\xd7"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"form",44),r["\u0275\u0275listener"]("ngSubmit",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.saveReferenceGapReason(t.formdata)}),r["\u0275\u0275elementStart"](7,"div",45),r["\u0275\u0275elementStart"](8,"div",46),r["\u0275\u0275elementStart"](9,"label",47),r["\u0275\u0275text"](10,"Gap Reason \xa0 "),r["\u0275\u0275elementStart"](11,"span",48),r["\u0275\u0275text"](12,"*"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",49),r["\u0275\u0275elementStart"](14,"input",50),r["\u0275\u0275listener"]("ngModelChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().addEditReferenceGapReason.gapReason=t}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](15,G,2,0,"div",51),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](16,"div",52),r["\u0275\u0275elementStart"](17,"div",53),r["\u0275\u0275elementStart"](18,"button",54),r["\u0275\u0275template"](19,B,1,0,"span",55),r["\u0275\u0275template"](20,F,2,0,"span",56),r["\u0275\u0275template"](21,T,2,0,"span",57),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.modalTitle),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("formGroup",e.formdata),r["\u0275\u0275advance"](8),r["\u0275\u0275property"]("ngModel",e.addEditReferenceGapReason.gapReason),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.isFormSubmitted&&e.formdata.controls.gapReason.invalid||(e.formdata.controls.gapReason.touched||e.formdata.controls.gapReason.Untouched)&&e.formdata.controls.gapReason.hasError("required")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",e.submitSpinner),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.submitSpinner),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.submitSpinner),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.submitSpinner)}}let q=(()=>{class e{constructor(e,t,n,a,i){this.skillMatrixService=t,this.alertService=n,this.modalService=a,this.fb=i,this.searchDet={},this.submitSpinner=!1,this.refGapReasonList=[],this.SingleBranchDropdownSettings={},this.branchAccessList=[],this.referenceGapReason={},this.userDet={},this.addEditReferenceGapReason={},this.isFormSubmitted=!1,this.isGapListLoading=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},e.backdrop="static",e.keyboard=!1}ngOnInit(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getBranchAccessList(),this.SingleBranchDropdownSettings={singleSelection:!0,idField:"branchId",textField:"branchName",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.formdata=this.fb.group({gapReason:new d.f("",d.z.required)}),this.resetForm()}getBranchAccessList(){this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(e=>{e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?(this.branchAccessList=e.branchAccessList,this.branchAccessList=this.setArray(this.branchAccessList,"branchId","branchName"),this.branchAccessList=this.sortFunction(this.branchAccessList,"name"),this.referenceGapReason.branch=[this.branchAccessList[0]]):this.branchAccessList=[{branchId:this.userDet.branch.branchId,branchName:this.userDet.branch.name}],this.branchAccessList.length>0&&(this.referenceGapReason.branch=[this.branchAccessList[0]]),this.onChangeBranch(this.branchAccessList[0])})}onChangeBranch(e){e?(this.referenceGapReason.branchId=e.branchId,this.disableReferGap=!0,this.getRefGapReasonList()):(this.disableReferGap=!1,this.refGapReasonList=[])}getRefGapReasonList(){this.isGapListLoading=!0,this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;let e={offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage,branchId:this.referenceGapReason.branchId};this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(e.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(e.colName=this.sorting.active,e.orderType=this.sorting.direction.toUpperCase()),console.log(e),this.skillMatrixService.getGapReasonListData("apis/sm/getGapReasonList",e).subscribe(e=>{e.result?(this.isGapListLoading=!1,1==this.staticPagination.page&&(this.staticPagination.total=e.totalCount,this.staticPagination.totalPages=Math.ceil(e.totalCount/this.staticPagination.itemsPerPage)),null!=e.dataList&&e.dataList.length>0?(this.refGapReasonList=e.dataList,this.staticPagination.listLength=this.refGapReasonList.length):(this.refGapReasonList=[],this.staticPagination.listLength=this.refGapReasonList.length,this.staticPagination.total=this.refGapReasonList.length)):(this.refGapReasonList=[],this.staticPagination.listLength=this.refGapReasonList.length,this.staticPagination.total=this.refGapReasonList.length,this.isGapListLoading=!1)},e=>{this.refGapReasonList=[],this.isGapListLoading=!1})}openRefGapReasonModal(e,t){this.modalTitle="Add Gap Reason",this.addEditReferenceGapReason.branch="",this.addEditReferenceGapReason.gapReason="",this.resetForm(),this.modalService.open(e,{windowClass:t})}resetForm(){this.formdata.reset(),this.isFormSubmitted=!1}updateRefGapReason(e,t,n){this.modalTitle="Update Gap Reason",this.addEditReferenceGapReason.gapReason=n.reason,this.addEditReferenceGapReason.gapId=n.id;for(let a=0;a<this.branchAccessList.length;a++)this.branchAccessList[a].branchId==n.branchId&&(this.addEditReferenceGapReason.branch=[this.branchAccessList[a]]);this.modalService.open(e,{windowClass:t})}saveReferenceGapReason(e){if(this.isFormSubmitted=!0,e.valid)if(null==this.addEditReferenceGapReason.gapId||""==this.addEditReferenceGapReason.gapId){if(null!=this.addEditReferenceGapReason.branch&&this.addEditReferenceGapReason.branch.length>0)for(let e=0;e<this.addEditReferenceGapReason.branch.length;e++)this.addEditReferenceGapReason.branchId=this.addEditReferenceGapReason.branch[e].branchId;this.reqBody={branchId:this.referenceGapReason.branch[0].branchId,reason:this.addEditReferenceGapReason.gapReason,isActive:!0,createdBy:this.userDet.empId},this.skillMatrixService.saveReferenceGapReason("apis/sm/saveGapReason",this.reqBody).subscribe(e=>{console.log(e),e.result?(this.modalService.dismissAll(),this.alertService.success("Gap reason added successfully"),this.addEditReferenceGapReason.branch="",this.addEditReferenceGapReason.gapReason="",this.getRefGapReasonList()):this.alertService.error(100==e.statusCode?e.reason:"Error occurred while adding data. Please try again")})}else{if(null!=this.addEditReferenceGapReason.branch&&this.addEditReferenceGapReason.branch.length>0)for(let e=0;e<this.addEditReferenceGapReason.branch.length;e++)this.addEditReferenceGapReason.branchId=this.addEditReferenceGapReason.branch[e].branchId;this.reqBody={reasonId:this.addEditReferenceGapReason.gapId,branchId:this.addEditReferenceGapReason.branchId,reason:this.addEditReferenceGapReason.gapReason,updatedBy:this.userDet.empId},this.skillMatrixService.updateGapDetails("apis/sm/updateGapReason",this.reqBody).subscribe(e=>{e.result?(this.modalService.dismissAll(),this.alertService.success("Gap reason updated successfully"),this.addEditReferenceGapReason.branch="",this.addEditReferenceGapReason.gapReason="",this.addEditReferenceGapReason.gapId="",this.getRefGapReasonList()):this.alertService.error(100==e.statusCode?e.reason:"Error occurred while updating data. Please try again")})}}removeRefGapReason(e){c.a.fire({title:"Are You Sure!",text:"You want remove this gap reason ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove it",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&(this.reqBody={reasonId:e.id,updatedBy:this.userDet.empId},this.skillMatrixService.removeRefGapReason("apis/sm/deleteGapReason",this.reqBody).subscribe(e=>{console.log(e),e.result?(this.alertService.success("Gap reason removed successfully"),this.getRefGapReasonList()):this.alertService.error(100==e.statusCode?e.reason:"Error occurred while removing data. Please try again")}))})}loadMore(e){this.staticPagination=e,this.refGapReasonList=[],this.isGapListLoading=!0,this.getRefGapReasonList()}getSearchList(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getRefGapReasonList()}clearPagination(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}sortData(e){this.sorting=e,console.log(this.sorting),this.getRefGapReasonList()}getSortFunction(e,t){return e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"level"!==t||e.sort(function(e,t){var n=e.branchName?e.branchName.toUpperCase():"",a=t.branchName?t.branchName.toUpperCase():"";return n<a?-1:n>a?1:0})),e}sortFunction(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),i=Number(n[t])?n[t]:n[t].toUpperCase();return a<i?-1:a>i?1:0}),e}setArray(e,t,n){let a=[];if(null!=e&&e.length>0)for(const i of e)i.id=i[t],i.name=i[n],a.push(i);return a}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](h.k),r["\u0275\u0275directiveInject"](o.a),r["\u0275\u0275directiveInject"](l.b),r["\u0275\u0275directiveInject"](h.j),r["\u0275\u0275directiveInject"](d.e))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-reference-gap-reason"]],decls:41,vars:12,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-8","p-0"],[1,"col-6"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","id","your-element-id","name","searchInput","placeholder","Search by gap reason and plant name","autocomplete","off",1,"form-control",2,"padding-right","2.4rem",3,"ngModel","ngModelChange","keyup"],[1,"col-6","p-r-5","p-l-5"],[1,"form-group","m-0"],["for","branch",1,"col-form-label1",2,"top","11px"],[1,""],["name","branch","id","branch",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button",1,"btn","addRegBtn","m-0",3,"disabled","click"],[1,"fa","fa-plus","m-r-10"],["style","position: absolute;top: 50%;left: 50%;",4,"ngIf"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","Reason"],["mat-sort-header","CreatedDate"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["openRefModalGapReason",""],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[2,"position","absolute","top","50%","left","50%"],[1,"actionTd","size","text-left"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],["colspan","2","class","text-center no-record-found",4,"ngIf"],["colspan","2","class","text-center loading-div",4,"ngIf"],["colspan","2",1,"text-center","no-record-found"],["colspan","2",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"row","form-group"],["for","gapReason",1,"col-sm-4","col-form-label"],[1,"astrik"],[1,"col-sm-8"],["type","text","id","gapReason","name","gapReason","placeholder","Enter gap reason","formControlName","gapReason","maxlength","255",1,"form-control","customInput-field",3,"ngModel","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],[1,"footerDiv"],[1,"footerBtn"],["type","submit",1,"btn","btn-lg","submitBtn","event-btn",3,"disabled"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275elementStart"](4,"div",2),r["\u0275\u0275elementStart"](5,"div",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275template"](7,D,1,0,"span",6),r["\u0275\u0275template"](8,N,1,0,"span",7),r["\u0275\u0275elementStart"](9,"input",8),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"div",9),r["\u0275\u0275elementStart"](11,"div",10),r["\u0275\u0275elementStart"](12,"label",11),r["\u0275\u0275text"](13,"Plant"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"div",12),r["\u0275\u0275elementStart"](15,"ng-multiselect-dropdown",13),r["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeBranch(e)})("onDeSelect",function(){return t.onChangeBranch(!1)})("ngModelChange",function(e){return t.referenceGapReason.branch=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"div",14),r["\u0275\u0275elementStart"](17,"div",15),r["\u0275\u0275elementStart"](18,"button",16),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275reference"](40);return t.openRefGapReasonModal(n,"top")}),r["\u0275\u0275element"](19,"i",17),r["\u0275\u0275text"](20," Add Gap Reason"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](21,w,2,0,"app-loading",18),r["\u0275\u0275elementStart"](22,"div",19),r["\u0275\u0275elementStart"](23,"div",20),r["\u0275\u0275elementStart"](24,"table",21),r["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),r["\u0275\u0275elementStart"](25,"thead"),r["\u0275\u0275elementStart"](26,"tr"),r["\u0275\u0275elementStart"](27,"th",22),r["\u0275\u0275text"](28,"Plant"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](29,"th",23),r["\u0275\u0275text"](30,"Gap Reason"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](31,"th",24),r["\u0275\u0275text"](32,"Created Date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](33,"th",25),r["\u0275\u0275text"](34,"Action"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](35,"tbody"),r["\u0275\u0275template"](36,O,13,6,"tr",26),r["\u0275\u0275template"](37,A,3,2,"tr",27),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](38,"app-pagination",28),r["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](39,V,22,8,"ng-template",null,29,r["\u0275\u0275templateRefExtractor"])}2&e&&(r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.searchDet.searchData),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("placeholder","Select Plant")("settings",t.SingleBranchDropdownSettings)("data",t.branchAccessList)("ngModel",t.referenceGapReason.branch),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",!t.disableReferGap),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.isGapListLoading),r["\u0275\u0275advance"](15),r["\u0275\u0275property"]("ngForOf",t.refGapReasonList),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",null==t.refGapReasonList||0==t.refGapReasonList.length),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[a.NgIf,d.c,d.o,d.r,m.a,p.a,p.b,a.NgForOf,f.a,g.a,d.A,d.p,d.h,d.g,d.k],pipes:[a.DatePipe],styles:[".addRegDiv[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{position:absolute;right:8rem;font:normal normal 400 14px/37px Helvetica Neue;color:#fff;text-transform:capitalize;top:0;box-shadow:none;outline:none;border:none;padding:0}.extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border-radius:0;border:none;border-bottom:1px solid #7044cd;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:2px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1.5rem!important;color:#7044cd!important}.form-group[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;padding:.7rem 0;margin:0}.form-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-group[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 14px/1.5 Helvetica Neue;letter-spacing:0;color:#707070}.custom-errorMsg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:80%;color:#ff5252}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e3eaef!important}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;margin:0}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:normal normal 300 25px/1 Helvetica Neue}.ng-multiselect-dropdown.custom-multiSelection[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();function j(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"span",30),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().getSearchList(!0)}),r["\u0275\u0275elementEnd"]()}}function z(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"span",31),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().getSearchList(!1)}),r["\u0275\u0275elementEnd"]()}}function U(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"app-loading",32),r["\u0275\u0275text"](1,"Please Wait..."),r["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"td"),r["\u0275\u0275text"](6),r["\u0275\u0275pipe"](7,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"td",33),r["\u0275\u0275elementStart"](9,"i",34),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit,a=r["\u0275\u0275nextContext"](),i=r["\u0275\u0275reference"](40);return a.editRefShiftNo(i,"top",n)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\xa0 \xa0 "),r["\u0275\u0275elementStart"](11,"i",35),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"]().removeRefShift(n)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12,"\xa0 \xa0 "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.branchName),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.shiftName),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.createdDate?r["\u0275\u0275pipeBind2"](7,3,e.createdDate,"dd-MM-yyyy"):"N/A")}}function $(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"td",38),r["\u0275\u0275text"](1," Data not found "),r["\u0275\u0275elementEnd"]())}function Y(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"td",39),r["\u0275\u0275element"](1,"app-loading"),r["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275template"](1,$,2,0,"td",36),r["\u0275\u0275template"](2,Y,2,0,"td",37),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.isShiftListLoading),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.isShiftListLoading)}}function J(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",58),r["\u0275\u0275text"](1," Please enter shift name "),r["\u0275\u0275elementEnd"]())}function W(e,t){1&e&&r["\u0275\u0275element"](0,"span",59)}function X(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span",60),r["\u0275\u0275text"](1," Loading..."),r["\u0275\u0275elementEnd"]())}function Q(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span",61),r["\u0275\u0275text"](1,"Submit"),r["\u0275\u0275elementEnd"]())}function Z(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",40),r["\u0275\u0275elementStart"](1,"h4",41),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"button",42),r["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),r["\u0275\u0275elementStart"](4,"span",43),r["\u0275\u0275text"](5,"\xd7"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"form",44),r["\u0275\u0275listener"]("ngSubmit",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.saveReferenceShiftNo(t.formdata)}),r["\u0275\u0275elementStart"](7,"div",45),r["\u0275\u0275elementStart"](8,"div"),r["\u0275\u0275elementStart"](9,"div",46),r["\u0275\u0275elementStart"](10,"label",47),r["\u0275\u0275text"](11,"Shift Name \xa0 "),r["\u0275\u0275elementStart"](12,"span",48),r["\u0275\u0275text"](13,"*"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"div",49),r["\u0275\u0275elementStart"](15,"input",50),r["\u0275\u0275listener"]("ngModelChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().addEditReferenceShiftNo.shiftName=t}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](16,J,2,0,"div",51),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](17,"div",52),r["\u0275\u0275elementStart"](18,"div",53),r["\u0275\u0275elementStart"](19,"button",54),r["\u0275\u0275template"](20,W,1,0,"span",55),r["\u0275\u0275template"](21,X,2,0,"span",56),r["\u0275\u0275template"](22,Q,2,0,"span",57),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.modalTitle),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("formGroup",e.formdata),r["\u0275\u0275advance"](9),r["\u0275\u0275property"]("ngModel",e.addEditReferenceShiftNo.shiftName),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.isFormSubmitted&&e.formdata.controls.shiftNo.invalid||(e.formdata.controls.shiftNo.touched||e.formdata.controls.shiftNo.Untouched)&&e.formdata.controls.shiftNo.hasError("required")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",e.submitSpinner),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.submitSpinner),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.submitSpinner),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.submitSpinner)}}let ee=(()=>{class e{constructor(e,t,n,a,i){this.skillMatrixService=t,this.modalService=n,this.alertService=a,this.fb=i,this.searchDet={},this.referenceShiftNo={},this.SingleBranchDropdownSettings={},this.userDet={},this.addEditReferenceShiftNo={},this.branchAccessList=[],this.formSubmitted=!1,this.isFormSubmitted=!1,this.isShiftListLoading=!1,this.isEditing=!1,this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0},e.backdrop="static",e.keyboard=!1}ngOnInit(){this.userDet=JSON.parse(localStorage.getItem("userDet")),this.getBranchAccessList(),this.SingleBranchDropdownSettings={singleSelection:!0,idField:"branchId",textField:"branchName",allowSearchFilter:!0,closeDropDownOnSelection:!0},this.formdata=this.fb.group({shiftNo:new d.f("",d.z.required)}),this.resetForm()}getBranchAccessList(){this.skillMatrixService.getBranchAccessList("getBranchAccessSetupByEmpId/"+this.userDet.organization.orgId+"/"+this.userDet.empId).subscribe(e=>{e.result&&null!=e.branchAccessList&&e.branchAccessList.length>0?(this.branchAccessList=e.branchAccessList,this.branchAccessList=this.setArray(this.branchAccessList,"branchId","branchName"),console.log(this.branchAccessList),this.branchAccessList=this.sortFunction(this.branchAccessList,"name"),this.referenceShiftNo.branch=[this.branchAccessList[0]]):this.branchAccessList=[{branchId:this.userDet.branch.branchId,branchName:this.userDet.branch.name}],this.branchAccessList.length>0&&(this.referenceShiftNo.branch=[this.branchAccessList[0]]),this.onChangeBranch(this.branchAccessList[0])})}onChangeBranch(e){e?(this.disableReferShift=!0,this.referenceShiftNo.branchId=e.branchId,this.getShiftNoData()):(this.disableReferShift=!1,this.refShiftNoData=[])}getShiftNoData(){this.isShiftListLoading=!0,this.staticPagination.offset=1==this.staticPagination.page?0:(this.staticPagination.page-1)*this.staticPagination.itemsPerPage;let e={offset:this.staticPagination.offset,limit:this.staticPagination.itemsPerPage,branchId:this.referenceShiftNo.branchId};this.searchDet.searchInput&&""!=this.searchDet.searchInput&&(e.search=this.searchDet.searchInput),this.sorting&&""!=this.sorting.direction&&(e.colName=this.sorting.active,e.orderType=this.sorting.direction.toUpperCase()),console.log(e),this.skillMatrixService.getShiftNoData("apis/sm/getShiftList",e).subscribe(e=>{e.result?(this.isShiftListLoading=!1,1==this.staticPagination.page&&(this.staticPagination.total=e.totalCount,this.staticPagination.totalPages=Math.ceil(e.totalCount/this.staticPagination.itemsPerPage)),null!=e.dataList&&e.dataList.length>0?(this.refShiftNoData=e.dataList,this.staticPagination.listLength=this.refShiftNoData.length):(this.refShiftNoData=[],this.staticPagination.listLength=this.refShiftNoData.length,this.staticPagination.total=this.refShiftNoData.length)):(this.refShiftNoData=[],this.staticPagination.listLength=this.refShiftNoData.length,this.staticPagination.total=this.refShiftNoData.length,this.isShiftListLoading=!1)},e=>{this.refShiftNoData=[],this.isShiftListLoading=!1})}addRefShiftNoOpen(e,t){this.isEditing=!1,this.modalTitle="Add Shift",this.addEditReferenceShiftNo.branch="",this.addEditReferenceShiftNo.shiftName="",this.resetForm(),this.modalService.open(e,{windowClass:t})}resetForm(){this.formdata.reset(),this.isFormSubmitted=!1}editRefShiftNo(e,t,n){this.isEditing=!0,this.modalTitle="Update Shift",this.addEditReferenceShiftNo.shiftName=n.shiftName,this.addEditReferenceShiftNo.shiftId=n.id;for(let a=0;a<this.branchAccessList.length;a++)this.branchAccessList[a].branchId==n.branchId&&(this.addEditReferenceShiftNo.branch=[this.branchAccessList[a]]);this.modalService.open(e,{windowClass:t})}saveReferenceShiftNo(e){if(this.isFormSubmitted=!0,e.valid)if(null==this.addEditReferenceShiftNo.shiftId||""==this.addEditReferenceShiftNo.shiftId){if(null!=this.addEditReferenceShiftNo.branch&&this.addEditReferenceShiftNo.branch.length>0)for(let e=0;e<this.addEditReferenceShiftNo.branch.length;e++)this.addEditReferenceShiftNo.branchId=this.addEditReferenceShiftNo.branch[e].branchId;this.reqBody={branchId:this.referenceShiftNo.branch[0].branchId,shiftName:this.addEditReferenceShiftNo.shiftName,isActive:!0,updatedBy:this.userDet.empId},console.log(this.reqBody),this.skillMatrixService.saveReferenceShiftNo("apis/sm/saveShiftDetails",this.reqBody).subscribe(e=>{console.log(e),e.result?(this.modalService.dismissAll(),this.alertService.success("New shift added successfully"),this.addEditReferenceShiftNo.branch="",this.addEditReferenceShiftNo.modelName="",this.getShiftNoData()):this.alertService.error(100==e.statusCode?e.reason:"Error occurred while adding data. Please try again")})}else{if(null!=this.addEditReferenceShiftNo.shiftId&&this.addEditReferenceShiftNo.branch.length>0)for(let e=0;e<this.addEditReferenceShiftNo.branch.length;e++)this.addEditReferenceShiftNo.branchId=this.addEditReferenceShiftNo.branch[e].branchId;this.reqBody={shiftId:this.addEditReferenceShiftNo.shiftId,branchId:this.addEditReferenceShiftNo.branchId,shiftName:this.addEditReferenceShiftNo.shiftName,updatedBy:this.userDet.empId},this.skillMatrixService.updateShiftDetails("apis/sm/updateShiftDetails",this.reqBody).subscribe(e=>{console.log(e),e.result?(this.modalService.dismissAll(),this.alertService.success("Shift updated successfully"),this.addEditReferenceShiftNo.branch="",this.addEditReferenceShiftNo.modelName="",this.addEditReferenceShiftNo.modelId="",this.getShiftNoData()):this.alertService.error(100==e.statusCode?e.reason:"Error occurred while updating data. Please try again")})}}removeRefShift(e){c.a.fire({title:"Are You Sure!",text:"Do you want to remove this shift ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7044cd",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove It",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&(this.reqBody={shiftId:e.id,updatedBy:this.userDet.empId},console.log(this.reqBody),this.skillMatrixService.deleteShiftDetails("apis/sm/deleteShiftDetails",this.reqBody).subscribe(e=>{e.result?(this.alertService.success("Shift removed successfully"),this.getShiftNoData()):this.alertService.error(100==e.statusCode?e.reason:"Error occurred while removing data. Please try again")}))})}loadMore(e){this.staticPagination=e,this.refShiftNoData=[],this.isShiftListLoading=!0,this.getShiftNoData()}sortData(e){this.sorting=e,this.getShiftNoData()}getSearchList(e){this.clearPagination(),this.searchDet.searchData=e,e||(this.searchDet.searchInput=""),this.getShiftNoData()}clearPagination(){this.staticPagination={total:0,page:1,maxSize:5,itemsPerPage:10,totalPages:0,listLength:0}}getSortFunction(e,t){return e&&Array.isArray(e)&&e.length>0&&("dept"!==t&&"level"!==t||e.sort(function(e,t){var n=e.branchName?e.branchName.toUpperCase():"",a=t.branchName?t.branchName.toUpperCase():"";return n<a?-1:n>a?1:0})),e}setArray(e,t,n){let a=[];if(null!=e&&e.length>0)for(const i of e)i.id=i[t],i.name=i[n],a.push(i);return a}sortFunction(e,t){return null!=e&&e.length>0&&e.sort(function(e,n){var a=Number(e[t])?e[t]:e[t].toUpperCase(),i=Number(n[t])?n[t]:n[t].toUpperCase();return a<i?-1:a>i?1:0}),e}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](h.k),r["\u0275\u0275directiveInject"](o.a),r["\u0275\u0275directiveInject"](h.j),r["\u0275\u0275directiveInject"](l.b),r["\u0275\u0275directiveInject"](d.e))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-reference-shift"]],decls:41,vars:12,consts:[[1,"homepage-block","bg-Transperant","p-l-15","p-r-15"],[1,"extraContent"],[1,"row","m-0"],[1,"col-8","p-0"],[1,"col-6"],[1,"form-group","has-search"],["class","fa fa-search form-control-feedback",3,"click",4,"ngIf"],["class","fa fa-times-circle form-control-clear",3,"click",4,"ngIf"],["type","text","id","your-element-id","name","searchInput","placeholder","Search by shift and plant name","autocomplete","off",1,"form-control",2,"padding-right","2.4rem",3,"ngModel","ngModelChange","keyup"],[1,"col-6","p-r-5","p-l-5"],[1,"form-group","m-0"],["for","branch",1,"col-form-label1","p-0",2,"top","11px"],[1,""],["name","branch","id","branch",1,"custom-multiSelection","customWidthForInter","assessmentdropDown","addLabelInside",3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"],[1,"col-4","p-0"],[1,"addRegDiv"],["type","button",1,"btn","addRegBtn","m-0",3,"disabled","click"],[1,"fa","fa-plus","m-r-10"],["style","position: absolute;top: 50%;left: 50%;",4,"ngIf"],[1,"table-block"],[1,"table-responsive","tableFixHead"],["matSort","",1,"table",3,"matSortChange"],["mat-sort-header","BranchName"],["mat-sort-header","ShiftName"],["mat-sort-header","CreatedDate"],[1,"actionTh","fixedColumn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"staticPagination","paginationData"],["openRefModalShiftNo",""],[1,"fa","fa-search","form-control-feedback",3,"click"],[1,"fa","fa-times-circle","form-control-clear",3,"click"],[2,"position","absolute","top","50%","left","50%"],[1,"actionTd","size","text-left"],[1,"fa","fa-edit","editIcon",3,"click"],[1,"fas","fa-trash-alt","deleteIcon",3,"click"],["colspan","2","class","text-center no-record-found",4,"ngIf"],["colspan","2","class","text-center loading-div",4,"ngIf"],["colspan","2",1,"text-center","no-record-found"],["colspan","2",1,"text-center","loading-div"],[1,"modal-header"],["id","myModalLabel2",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"row","form-group"],["for","shiftNo",1,"col-sm-4","col-form-label"],[1,"astrik"],[1,"col-sm-8"],["type","text","id","shiftNo","name","shiftNo","placeholder","Enter shift","formControlName","shiftNo","maxlength","255",1,"form-control","customInput-field",3,"ngModel","ngModelChange"],["class","custom-errorMsg",4,"ngIf"],[1,"footerDiv"],[1,"footerBtn"],["type","submit",1,"btn","btn-lg","submitBtn","event-btn",3,"disabled"],["class","spinner-grow spinner-grow-sm","role","status",4,"ngIf"],["class","load-text",4,"ngIf"],["class","btn-text",4,"ngIf"],[1,"custom-errorMsg"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"load-text"],[1,"btn-text"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275elementStart"](4,"div",2),r["\u0275\u0275elementStart"](5,"div",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275template"](7,j,1,0,"span",6),r["\u0275\u0275template"](8,z,1,0,"span",7),r["\u0275\u0275elementStart"](9,"input",8),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchDet.searchInput=e})("keyup",function(e){return 13==e.keyCode?t.getSearchList(!0):""}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"div",9),r["\u0275\u0275elementStart"](11,"div",10),r["\u0275\u0275elementStart"](12,"label",11),r["\u0275\u0275text"](13,"Plant"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"div",12),r["\u0275\u0275elementStart"](15,"ng-multiselect-dropdown",13),r["\u0275\u0275listener"]("onSelect",function(e){return t.onChangeBranch(e)})("onDeSelect",function(){return t.onChangeBranch(!1)})("ngModelChange",function(e){return t.referenceShiftNo.branch=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"div",14),r["\u0275\u0275elementStart"](17,"div",15),r["\u0275\u0275elementStart"](18,"button",16),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275reference"](40);return t.addRefShiftNoOpen(n,"top")}),r["\u0275\u0275element"](19,"i",17),r["\u0275\u0275text"](20," Add Shift"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](21,U,2,0,"app-loading",18),r["\u0275\u0275elementStart"](22,"div",19),r["\u0275\u0275elementStart"](23,"div",20),r["\u0275\u0275elementStart"](24,"table",21),r["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),r["\u0275\u0275elementStart"](25,"thead"),r["\u0275\u0275elementStart"](26,"tr"),r["\u0275\u0275elementStart"](27,"th",22),r["\u0275\u0275text"](28,"Plant"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](29,"th",23),r["\u0275\u0275text"](30,"Shift"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](31,"th",24),r["\u0275\u0275text"](32,"Created Date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](33,"th",25),r["\u0275\u0275text"](34,"Action"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](35,"tbody"),r["\u0275\u0275template"](36,H,13,6,"tr",26),r["\u0275\u0275template"](37,K,3,2,"tr",27),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](38,"app-pagination",28),r["\u0275\u0275listener"]("paginationData",function(e){return t.loadMore(e)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](39,Z,23,8,"ng-template",null,29,r["\u0275\u0275templateRefExtractor"])}2&e&&(r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngIf",!t.searchDet.searchData),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.searchDet.searchData),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngModel",t.searchDet.searchInput),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("placeholder","Select Plant")("settings",t.SingleBranchDropdownSettings)("data",t.branchAccessList)("ngModel",t.referenceShiftNo.branch),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",!t.disableReferShift),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.isShiftListLoading),r["\u0275\u0275advance"](15),r["\u0275\u0275property"]("ngForOf",t.refShiftNoData),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",null==t.refShiftNoData||0==t.refShiftNoData.length),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("staticPagination",t.staticPagination))},directives:[a.NgIf,d.c,d.o,d.r,m.a,p.a,p.b,a.NgForOf,f.a,g.a,d.A,d.p,d.h,d.g,d.k],pipes:[a.DatePipe],styles:[".addRegDiv[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0}.addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%], .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:focus, .addRegDiv[_ngcontent-%COMP%]   .addRegBtn[_ngcontent-%COMP%]:hover{position:absolute;right:8rem;font:normal normal 400 14px/37px Helvetica Neue;color:#fff;text-transform:capitalize;top:0;box-shadow:none;outline:none;border:none;padding:0}.extraContent[_ngcontent-%COMP%]{padding:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]{margin-bottom:0}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{color:#7044cd}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   .form-control-clear[_ngcontent-%COMP%]{color:#f95371;cursor:pointer}.extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .extraContent[_ngcontent-%COMP%]   .has-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;border-radius:0;border:none;border-bottom:1px solid #7044cd;background-color:transparent}.extraContent[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{position:absolute;z-index:999;top:2px!important;font:normal normal 700 12px/1.5 Helvetica Neue!important;left:1.5rem!important;color:#7044cd!important}.form-group[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;padding:.7rem 0;margin:0}.form-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-group[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{text-align:left;font:normal normal normal 14px/1.5 Helvetica Neue;letter-spacing:0;color:#707070}.custom-errorMsg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:80%;color:#ff5252}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e3eaef!important}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;margin:0}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:normal normal 300 25px/1 Helvetica Neue}"]}),e})();function te(e,t){1&e&&r["\u0275\u0275element"](0,"app-reference-model")}function ne(e,t){1&e&&r["\u0275\u0275element"](0,"app-reference-gap-reason")}function ae(e,t){1&e&&r["\u0275\u0275element"](0,"app-reference-shift")}const ie=function(e){return{mainActiveSwitch:e}},re=[{path:"",component:(()=>{class e{constructor(e,t){this.router=e,this.route=t,this.isSetMainTab=function(e){return this.mainTab===e}}ngOnInit(){this.mainTab=1}setMainTab(e){this.mainTab=e}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.f),r["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-reference"]],decls:13,vars:12,consts:[[1,"row","m-0"],[1,"col-9","m-auto"],[1,"main-tab-switcher"],[1,"main-tab-switch",3,"ngClass","click"],[1,"col-3","m-auto"],[4,"ngIf"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275listener"]("click",function(){return t.setMainTab(1)}),r["\u0275\u0275text"](4,"Model "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",3),r["\u0275\u0275listener"]("click",function(){return t.setMainTab(2)}),r["\u0275\u0275text"](6,"Gap Reason "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",3),r["\u0275\u0275listener"]("click",function(){return t.setMainTab(3)}),r["\u0275\u0275text"](8,"No. Of Shifts "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](9,"div",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](10,te,1,0,"app-reference-model",5),r["\u0275\u0275template"](11,ne,1,0,"app-reference-gap-reason",5),r["\u0275\u0275template"](12,ae,1,0,"app-reference-shift",5)),2&e&&(r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](6,ie,t.isSetMainTab(1))),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](8,ie,t.isSetMainTab(2))),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](10,ie,t.isSetMainTab(3))),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.isSetMainTab(1)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isSetMainTab(2)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isSetMainTab(3)))},directives:[a.NgClass,a.NgIf,y,q,ee],styles:[""]}),e})()}];let oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[i.i.forChild(re)],i.i]}),e})();var se=n("ebz3");let ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[a.CommonModule,oe,se.a,m.b,h.n]]}),e})()}}]);